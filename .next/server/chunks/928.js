"use strict";exports.id=928,exports.ids=[928],exports.modules={6879:(a,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"addBasePath",{enumerable:!0,get:function(){return addBasePath}});let c=u(8549),d=u(6945);function addBasePath(a,l){return(0,d.normalizePathTrailingSlash)((0,c.addPathPrefix)(a,""))}("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),a.exports=l.default)},5422:(a,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"callServer",{enumerable:!0,get:function(){return callServer}});let c=u(3724);async function callServer(a,l){let u=(0,c.getServerActionDispatcher)();if(!u)throw Error("Invariant: missing action dispatcher.");return new Promise((c,d)=>{u({actionId:a,actionArgs:l,resolve:c,reject:d})})}("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),a.exports=l.default)},3204:(a,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"AppRouterAnnouncer",{enumerable:!0,get:function(){return AppRouterAnnouncer}});let c=u(9885),d=u(8908),g="next-route-announcer";function getAnnouncerNode(){var a;let l=document.getElementsByName(g)[0];if(null==l?void 0:null==(a=l.shadowRoot)?void 0:a.childNodes[0])return l.shadowRoot.childNodes[0];{let a=document.createElement(g);a.style.cssText="position:absolute";let l=document.createElement("div");l.ariaLive="assertive",l.id="__next-route-announcer__",l.role="alert",l.style.cssText="position:absolute;border:0;height:1px;margin:-1px;padding:0;width:1px;clip:rect(0 0 0 0);overflow:hidden;white-space:nowrap;word-wrap:normal";let u=a.attachShadow({mode:"open"});return u.appendChild(l),document.body.appendChild(a),l}}function AppRouterAnnouncer(a){let{tree:l}=a,[u,v]=(0,c.useState)(null);(0,c.useEffect)(()=>{let a=getAnnouncerNode();return v(a),()=>{let a=document.getElementsByTagName(g)[0];(null==a?void 0:a.isConnected)&&document.body.removeChild(a)}},[]);let[S,w]=(0,c.useState)(""),x=(0,c.useRef)();return(0,c.useEffect)(()=>{let a="";if(document.title)a=document.title;else{let l=document.querySelector("h1");l&&(a=l.innerText||l.textContent||"")}void 0!==x.current&&x.current!==a&&w(a),x.current=a},[l]),u?(0,d.createPortal)(S,u):null}("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),a.exports=l.default)},4361:(a,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),function(a,l){for(var u in l)Object.defineProperty(a,u,{enumerable:!0,get:l[u]})}(l,{RSC:function(){return u},ACTION:function(){return c},NEXT_ROUTER_STATE_TREE:function(){return d},NEXT_ROUTER_PREFETCH:function(){return g},NEXT_URL:function(){return v},RSC_CONTENT_TYPE_HEADER:function(){return S},RSC_VARY_HEADER:function(){return w},FLIGHT_PARAMETERS:function(){return x},NEXT_RSC_UNION_QUERY:function(){return j}});let u="RSC",c="Next-Action",d="Next-Router-State-Tree",g="Next-Router-Prefetch",v="Next-Url",S="text/x-component",w=u+", "+d+", "+g+", "+v,x=[[u],[d],[g]],j="_rsc";("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),a.exports=l.default)},3724:(a,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),function(a,l){for(var u in l)Object.defineProperty(a,u,{enumerable:!0,get:l[u]})}(l,{getServerActionDispatcher:function(){return getServerActionDispatcher},urlToUrlWithoutFlightMarker:function(){return urlToUrlWithoutFlightMarker},default:function(){return AppRouter}});let c=u(8425),d=c._(u(9885)),g=u(2428),v=u(7986),S=u(3678),w=u(1706),x=u(1736),j=u(9236),N=u(5365),$=u(9624),H=u(4692),B=u(6879),W=u(3204),J=u(7502),ee=u(2226),en=u(9880),ea=u(4361),el=u(4978),eu=u(9760),ec=null,ed=null;function getServerActionDispatcher(){return ed}let eh={refresh:()=>{}};function urlToUrlWithoutFlightMarker(a){let l=new URL(a,location.origin);return l.searchParams.delete(ea.NEXT_RSC_UNION_QUERY),l}function isExternalURL(a){return a.origin!==window.location.origin}function HistoryUpdater(a){let{tree:l,pushRef:u,canonicalUrl:c,sync:g}=a;return(0,d.useInsertionEffect)(()=>{let a={__NA:!0,tree:l};u.pendingPush&&(0,w.createHrefFromUrl)(new URL(window.location.href))!==c?(u.pendingPush=!1,window.history.pushState(a,"",c)):window.history.replaceState(a,"",c),g()},[l,u,c,g]),null}let createEmptyCacheNode=()=>({status:g.CacheStates.LAZY_INITIALIZED,data:null,subTreeData:null,parallelRoutes:new Map});function useServerActionDispatcher(a){let l=(0,d.useCallback)(l=>{(0,d.startTransition)(()=>{a({...l,type:S.ACTION_SERVER_ACTION,mutable:{globalMutable:eh},cache:createEmptyCacheNode()})})},[a]);ed=l}function useChangeByServerResponse(a){return(0,d.useCallback)((l,u,c)=>{(0,d.startTransition)(()=>{a({type:S.ACTION_SERVER_PATCH,flightData:u,previousTree:l,overrideCanonicalUrl:c,cache:createEmptyCacheNode(),mutable:{globalMutable:eh}})})},[a])}function useNavigate(a){return(0,d.useCallback)((l,u,c,d)=>{let g=new URL((0,B.addBasePath)(l),location.href);return eh.pendingNavigatePath=(0,w.createHrefFromUrl)(g),a({type:S.ACTION_NAVIGATE,url:g,isExternalUrl:isExternalURL(g),locationSearch:location.search,forceOptimisticNavigation:c,shouldScroll:null==d||d,navigateType:u,cache:createEmptyCacheNode(),mutable:{globalMutable:eh}})},[a])}function Router(a){let{buildId:l,initialHead:u,initialTree:c,initialCanonicalUrl:w,children:N,assetPrefix:ea}=a,ed=(0,d.useMemo)(()=>(0,$.createInitialRouterState)({buildId:l,children:N,initialCanonicalUrl:w,initialTree:c,initialParallelRoutes:ec,isServer:!0,location:null,initialHead:u}),[l,N,w,c,u]),[{tree:ef,cache:ep,prefetchCache:e_,pushRef:eg,focusAndScrollRef:ev,canonicalUrl:em,nextUrl:ey},eb,eE]=(0,j.useReducerWithReduxDevtools)(v.reducer,ed);(0,d.useEffect)(()=>{ec=null},[]);let{searchParams:eP,pathname:eS}=(0,d.useMemo)(()=>{let a=new URL(em,"http://n");return{searchParams:a.searchParams,pathname:(0,eu.hasBasePath)(a.pathname)?(0,el.removeBasePath)(a.pathname):a.pathname}},[em]),eR=useChangeByServerResponse(eb),ew=useNavigate(eb);useServerActionDispatcher(eb);let ex=(0,d.useMemo)(()=>{let a={back:()=>window.history.back(),forward:()=>window.history.forward(),prefetch:(a,l)=>{if((0,H.isBot)(window.navigator.userAgent))return;let u=new URL((0,B.addBasePath)(a),location.href);isExternalURL(u)||(0,d.startTransition)(()=>{var a;eb({type:S.ACTION_PREFETCH,url:u,kind:null!=(a=null==l?void 0:l.kind)?a:S.PrefetchKind.FULL})})},replace:(a,l)=>{void 0===l&&(l={}),(0,d.startTransition)(()=>{var u;ew(a,"replace",!!l.forceOptimisticNavigation,null==(u=l.scroll)||u)})},push:(a,l)=>{void 0===l&&(l={}),(0,d.startTransition)(()=>{var u;ew(a,"push",!!l.forceOptimisticNavigation,null==(u=l.scroll)||u)})},refresh:()=>{(0,d.startTransition)(()=>{eb({type:S.ACTION_REFRESH,cache:createEmptyCacheNode(),mutable:{globalMutable:eh},origin:window.location.origin})})},fastRefresh:()=>{throw Error("fastRefresh can only be used in development mode. Please use refresh instead.")}};return a},[eb,ew]);if((0,d.useEffect)(()=>{window.next&&(window.next.router=ex)},[ex]),(0,d.useEffect)(()=>{eh.refresh=ex.refresh},[ex.refresh]),(0,d.useEffect)(()=>{function handlePageShow(a){var l;a.persisted&&(null==(l=window.history.state)?void 0:l.tree)&&eb({type:S.ACTION_RESTORE,url:new URL(window.location.href),tree:window.history.state.tree})}return window.addEventListener("pageshow",handlePageShow),()=>{window.removeEventListener("pageshow",handlePageShow)}},[eb]),eg.mpaNavigation){if(eh.pendingMpaPath!==em){let a=window.location;eg.pendingPush?a.assign(em):a.replace(em),eh.pendingMpaPath=em}(0,d.use)((0,en.createInfinitePromise)())}let eO=(0,d.useCallback)(a=>{let{state:l}=a;if(l){if(!l.__NA){window.location.reload();return}(0,d.startTransition)(()=>{eb({type:S.ACTION_RESTORE,url:new URL(window.location.href),tree:l.tree})})}},[eb]);(0,d.useEffect)(()=>(window.addEventListener("popstate",eO),()=>{window.removeEventListener("popstate",eO)}),[eO]);let eT=(0,d.useMemo)(()=>(0,ee.findHeadInCache)(ep,ef[1]),[ep,ef]),eM=d.default.createElement(J.RedirectBoundary,null,eT,ep.subTreeData,d.default.createElement(W.AppRouterAnnouncer,{tree:ef}));return d.default.createElement(d.default.Fragment,null,d.default.createElement(HistoryUpdater,{tree:ef,pushRef:eg,canonicalUrl:em,sync:eE}),d.default.createElement(x.PathnameContext.Provider,{value:eS},d.default.createElement(x.SearchParamsContext.Provider,{value:eP},d.default.createElement(g.GlobalLayoutRouterContext.Provider,{value:{buildId:l,changeByServerResponse:eR,tree:ef,focusAndScrollRef:ev,nextUrl:ey}},d.default.createElement(g.AppRouterContext.Provider,{value:ex},d.default.createElement(g.LayoutRouterContext.Provider,{value:{childNodes:ep.parallelRoutes,tree:ef,url:em}},eM))))))}function AppRouter(a){let{globalErrorComponent:l,...u}=a;return d.default.createElement(N.ErrorBoundary,{errorComponent:l},d.default.createElement(Router,u))}("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),a.exports=l.default)},4954:(a,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"bailoutToClientRendering",{enumerable:!0,get:function(){return bailoutToClientRendering}});let c=u(1118),d=u(4749);function bailoutToClientRendering(){let a=d.staticGenerationAsyncStorage.getStore();return null!=a&&!!a.forceStatic||((null==a?void 0:a.isStaticGeneration)&&(0,c.throwWithNoSSR)(),!1)}("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),a.exports=l.default)},3402:(a,l,u)=>{function clientHookInServerComponentError(a){}Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"clientHookInServerComponentError",{enumerable:!0,get:function(){return clientHookInServerComponentError}}),u(85),u(9885),("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),a.exports=l.default)},5365:(a,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),function(a,l){for(var u in l)Object.defineProperty(a,u,{enumerable:!0,get:l[u]})}(l,{ErrorBoundaryHandler:function(){return ErrorBoundaryHandler},GlobalError:function(){return GlobalError},default:function(){return S},ErrorBoundary:function(){return ErrorBoundary}});let c=u(85),d=c._(u(9885)),g=u(4979),v={error:{fontFamily:'system-ui,"Segoe UI",Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji"',height:"100vh",textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},text:{fontSize:"14px",fontWeight:400,lineHeight:"28px",margin:"0 8px"}};function HandleISRError(a){let{error:l}=a;if("function"==typeof fetch.__nextGetStaticStore){var u;let a=null==(u=fetch.__nextGetStaticStore())?void 0:u.getStore();if((null==a?void 0:a.isRevalidate)||(null==a?void 0:a.isStaticGeneration))throw console.error(l),l}return null}let ErrorBoundaryHandler=class ErrorBoundaryHandler extends d.default.Component{static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,l){return a.pathname!==l.previousPathname&&l.error?{error:null,previousPathname:a.pathname}:{error:l.error,previousPathname:a.pathname}}render(){return this.state.error?d.default.createElement(d.default.Fragment,null,d.default.createElement(HandleISRError,{error:this.state.error}),this.props.errorStyles,this.props.errorScripts,d.default.createElement(this.props.errorComponent,{error:this.state.error,reset:this.reset})):this.props.children}constructor(a){super(a),this.reset=()=>{this.setState({error:null})},this.state={error:null,previousPathname:this.props.pathname}}};function GlobalError(a){let{error:l}=a,u=null==l?void 0:l.digest;return d.default.createElement("html",{id:"__next_error__"},d.default.createElement("head",null),d.default.createElement("body",null,d.default.createElement(HandleISRError,{error:l}),d.default.createElement("div",{style:v.error},d.default.createElement("div",null,d.default.createElement("h2",{style:v.text},"Application error: a "+(u?"server":"client")+"-side exception has occurred (see the "+(u?"server logs":"browser console")+" for more information)."),u?d.default.createElement("p",{style:v.text},"Digest: "+u):null))))}let S=GlobalError;function ErrorBoundary(a){let{errorComponent:l,errorStyles:u,errorScripts:c,children:v}=a,S=(0,g.usePathname)();return l?d.default.createElement(ErrorBoundaryHandler,{pathname:S,errorComponent:l,errorStyles:u,errorScripts:c},v):d.default.createElement(d.default.Fragment,null,v)}("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),a.exports=l.default)},5171:(a,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),function(a,l){for(var u in l)Object.defineProperty(a,u,{enumerable:!0,get:l[u]})}(l,{DYNAMIC_ERROR_CODE:function(){return u},DynamicServerError:function(){return DynamicServerError}});let u="DYNAMIC_SERVER_USAGE";let DynamicServerError=class DynamicServerError extends Error{constructor(a){super("Dynamic server usage: "+a),this.digest=u}};("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),a.exports=l.default)},9880:(a,l)=>{let u;function createInfinitePromise(){return u||(u=new Promise(()=>{})),u}Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"createInfinitePromise",{enumerable:!0,get:function(){return createInfinitePromise}}),("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),a.exports=l.default)},4900:(a,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"default",{enumerable:!0,get:function(){return OuterLayoutRouter}}),u(85);let c=u(8425),d=c._(u(9885));u(8908);let g=u(2428),v=u(9102),S=u(9880),w=u(5365),x=u(4538),j=u(4448),N=u(7502),$=u(4714),H=u(1275),B=u(4701),W=u(8026);function walkAddRefetch(a,l){if(a){let[u,c]=a,d=2===a.length;if((0,x.matchSegment)(l[0],u)&&l[1].hasOwnProperty(c)){if(d){let a=walkAddRefetch(void 0,l[1][c]);return[l[0],{...l[1],[c]:[a[0],a[1],a[2],"refetch"]}]}return[l[0],{...l[1],[c]:walkAddRefetch(a.slice(2),l[1][c])}]}}return l}function findDOMNode(a){return null}let J=["bottom","height","left","right","top","width","x","y"];function shouldSkipElement(a){if(["sticky","fixed"].includes(getComputedStyle(a).position))return!0;let l=a.getBoundingClientRect();return J.every(a=>0===l[a])}function topOfElementInViewport(a,l){let u=a.getBoundingClientRect();return u.top>=0&&u.top<=l}function getHashFragmentDomNode(a){var l;return"top"===a?document.body:null!=(l=document.getElementById(a))?l:document.getElementsByName(a)[0]}let InnerScrollAndFocusHandler=class InnerScrollAndFocusHandler extends d.default.Component{componentDidMount(){this.handlePotentialScroll()}componentDidUpdate(){this.props.focusAndScrollRef.apply&&this.handlePotentialScroll()}render(){return this.props.children}constructor(...a){super(...a),this.handlePotentialScroll=()=>{let{focusAndScrollRef:a,segmentPath:l}=this.props;if(a.apply){if(0!==a.segmentPaths.length&&!a.segmentPaths.some(a=>l.every((l,u)=>(0,x.matchSegment)(l,a[u]))))return;let u=null,c=a.hashFragment;if(c&&(u=getHashFragmentDomNode(c)),u||(u=findDOMNode(this)),!(u instanceof Element))return;for(;!(u instanceof HTMLElement)||shouldSkipElement(u);){if(null===u.nextElementSibling)return;u=u.nextElementSibling}a.apply=!1,a.hashFragment=null,a.segmentPaths=[],(0,j.handleSmoothScroll)(()=>{if(c){u.scrollIntoView();return}let a=document.documentElement,l=a.clientHeight;!topOfElementInViewport(u,l)&&(a.scrollTop=0,topOfElementInViewport(u,l)||u.scrollIntoView())},{dontForceLayout:!0,onlyHashChange:a.onlyHashChange}),a.onlyHashChange=!1,u.focus()}}}};function ScrollAndFocusHandler(a){let{segmentPath:l,children:u}=a,c=(0,d.useContext)(g.GlobalLayoutRouterContext);if(!c)throw Error("invariant global layout router not mounted");return d.default.createElement(InnerScrollAndFocusHandler,{segmentPath:l,focusAndScrollRef:c.focusAndScrollRef},u)}function InnerLayoutRouter(a){let{parallelRouterKey:l,url:u,childNodes:c,childProp:w,segmentPath:x,tree:j,cacheKey:N}=a,$=(0,d.useContext)(g.GlobalLayoutRouterContext);if(!$)throw Error("invariant global layout router not mounted");let{buildId:H,changeByServerResponse:B,tree:J}=$,ee=c.get(N);if(w&&null!==w.current&&(ee?ee.status===g.CacheStates.LAZY_INITIALIZED&&(ee.status=g.CacheStates.READY,ee.subTreeData=w.current):(ee={status:g.CacheStates.READY,data:null,subTreeData:w.current,parallelRoutes:new Map},c.set(N,ee))),!ee||ee.status===g.CacheStates.LAZY_INITIALIZED){let a=walkAddRefetch(["",...x],J);ee={status:g.CacheStates.DATA_FETCH,data:(0,W.createRecordFromThenable)((0,v.fetchServerResponse)(new URL(u,location.origin),a,$.nextUrl,H)),subTreeData:null,head:ee&&ee.status===g.CacheStates.LAZY_INITIALIZED?ee.head:void 0,parallelRoutes:ee&&ee.status===g.CacheStates.LAZY_INITIALIZED?ee.parallelRoutes:new Map},c.set(N,ee)}if(!ee)throw Error("Child node should always exist");if(ee.subTreeData&&ee.data)throw Error("Child node should not have both subTreeData and data");if(ee.data){let[a,l]=(0,d.use)(ee.data);ee.data=null,setTimeout(()=>{(0,d.startTransition)(()=>{B(J,a,l)})}),(0,d.use)((0,S.createInfinitePromise)())}ee.subTreeData||(0,d.use)((0,S.createInfinitePromise)());let en=d.default.createElement(g.LayoutRouterContext.Provider,{value:{tree:j[1][l],childNodes:ee.parallelRoutes,url:u}},ee.subTreeData);return en}function LoadingBoundary(a){let{children:l,loading:u,loadingStyles:c,loadingScripts:g,hasLoading:v}=a;return v?d.default.createElement(d.Suspense,{fallback:d.default.createElement(d.default.Fragment,null,c,g,u)},l):d.default.createElement(d.default.Fragment,null,l)}function OuterLayoutRouter(a){let{parallelRouterKey:l,segmentPath:u,childProp:c,error:v,errorStyles:S,errorScripts:j,templateStyles:W,templateScripts:J,loading:ee,loadingStyles:en,loadingScripts:ea,hasLoading:el,template:eu,notFound:ec,notFoundStyles:ed,styles:eh}=a,ef=(0,d.useContext)(g.LayoutRouterContext);if(!ef)throw Error("invariant expected layout router to be mounted");let{childNodes:ep,tree:e_,url:eg}=ef,ev=ep.get(l);ev||(ev=new Map,ep.set(l,ev));let em=e_[1][l][0],ey=c.segment,eb=(0,H.getSegmentValue)(em),eE=[em];return d.default.createElement(d.default.Fragment,null,eh,eE.map(a=>{let eh=(0,x.matchSegment)(a,ey),ef=(0,H.getSegmentValue)(a),ep=(0,B.createRouterCacheKey)(a);return d.default.createElement(g.TemplateContext.Provider,{key:(0,B.createRouterCacheKey)(a,!0),value:d.default.createElement(ScrollAndFocusHandler,{segmentPath:u},d.default.createElement(w.ErrorBoundary,{errorComponent:v,errorStyles:S,errorScripts:j},d.default.createElement(LoadingBoundary,{hasLoading:el,loading:ee,loadingStyles:en,loadingScripts:ea},d.default.createElement($.NotFoundBoundary,{notFound:ec,notFoundStyles:ed},d.default.createElement(N.RedirectBoundary,null,d.default.createElement(InnerLayoutRouter,{parallelRouterKey:l,url:eg,tree:e_,childNodes:ev,childProp:eh?c:null,segmentPath:u,cacheKey:ep,isActive:eb===ef}))))))},W,J,eu)}))}("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),a.exports=l.default)},4538:(a,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),function(a,l){for(var u in l)Object.defineProperty(a,u,{enumerable:!0,get:l[u]})}(l,{matchSegment:function(){return matchSegment},canSegmentBeOverridden:function(){return canSegmentBeOverridden}});let c=u(2290),matchSegment=(a,l)=>"string"==typeof a?"string"==typeof l&&a===l:"string"!=typeof l&&a[0]===l[0]&&a[1]===l[1],canSegmentBeOverridden=(a,l)=>{var u;return!Array.isArray(a)&&!!Array.isArray(l)&&(null==(u=(0,c.getSegmentParam)(a))?void 0:u.param)===l[0]};("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),a.exports=l.default)},3094:(a,l,u)=>{function maybePostpone(a,l){if(!a.isStaticGeneration||!a.experimental.ppr)return;let c=u(9885);"function"==typeof c.unstable_postpone&&c.unstable_postpone(l)}Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"maybePostpone",{enumerable:!0,get:function(){return maybePostpone}}),("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),a.exports=l.default)},4979:(a,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),function(a,l){for(var u in l)Object.defineProperty(a,u,{enumerable:!0,get:l[u]})}(l,{ReadonlyURLSearchParams:function(){return ReadonlyURLSearchParams},useSearchParams:function(){return useSearchParams},usePathname:function(){return usePathname},ServerInsertedHTMLContext:function(){return w.ServerInsertedHTMLContext},useServerInsertedHTML:function(){return w.useServerInsertedHTML},useRouter:function(){return useRouter},useParams:function(){return useParams},useSelectedLayoutSegments:function(){return useSelectedLayoutSegments},useSelectedLayoutSegment:function(){return useSelectedLayoutSegment},redirect:function(){return x.redirect},permanentRedirect:function(){return x.permanentRedirect},RedirectType:function(){return x.RedirectType},notFound:function(){return j.notFound}});let c=u(9885),d=u(2428),g=u(1736),v=u(3402),S=u(1275),w=u(5753),x=u(1612),j=u(1103),N=Symbol("internal for urlsearchparams readonly");function readonlyURLSearchParamsError(){return Error("ReadonlyURLSearchParams cannot be modified")}let ReadonlyURLSearchParams=class ReadonlyURLSearchParams{[Symbol.iterator](){return this[N][Symbol.iterator]()}append(){throw readonlyURLSearchParamsError()}delete(){throw readonlyURLSearchParamsError()}set(){throw readonlyURLSearchParamsError()}sort(){throw readonlyURLSearchParamsError()}constructor(a){this[N]=a,this.entries=a.entries.bind(a),this.forEach=a.forEach.bind(a),this.get=a.get.bind(a),this.getAll=a.getAll.bind(a),this.has=a.has.bind(a),this.keys=a.keys.bind(a),this.values=a.values.bind(a),this.toString=a.toString.bind(a),this.size=a.size}};function useSearchParams(){(0,v.clientHookInServerComponentError)("useSearchParams");let a=(0,c.useContext)(g.SearchParamsContext),l=(0,c.useMemo)(()=>a?new ReadonlyURLSearchParams(a):null,[a]);{let{bailoutToClientRendering:a}=u(4954);a()}return l}function usePathname(){return(0,v.clientHookInServerComponentError)("usePathname"),(0,c.useContext)(g.PathnameContext)}function useRouter(){(0,v.clientHookInServerComponentError)("useRouter");let a=(0,c.useContext)(d.AppRouterContext);if(null===a)throw Error("invariant expected app router to be mounted");return a}function getSelectedParams(a,l){void 0===l&&(l={});let u=a[1];for(let a of Object.values(u)){let u=a[0],c=Array.isArray(u),d=c?u[1]:u;if(!d||d.startsWith("__PAGE__"))continue;let g=c&&("c"===u[2]||"oc"===u[2]);g?l[u[0]]=u[1].split("/"):c&&(l[u[0]]=u[1]),l=getSelectedParams(a,l)}return l}function useParams(){(0,v.clientHookInServerComponentError)("useParams");let a=(0,c.useContext)(d.GlobalLayoutRouterContext),l=(0,c.useContext)(g.PathParamsContext);return(0,c.useMemo)(()=>(null==a?void 0:a.tree)?getSelectedParams(a.tree):l,[null==a?void 0:a.tree,l])}function getSelectedLayoutSegmentPath(a,l,u,c){let d;if(void 0===u&&(u=!0),void 0===c&&(c=[]),u)d=a[1][l];else{var g;let l=a[1];d=null!=(g=l.children)?g:Object.values(l)[0]}if(!d)return c;let v=d[0],w=(0,S.getSegmentValue)(v);return!w||w.startsWith("__PAGE__")?c:(c.push(w),getSelectedLayoutSegmentPath(d,l,!1,c))}function useSelectedLayoutSegments(a){void 0===a&&(a="children"),(0,v.clientHookInServerComponentError)("useSelectedLayoutSegments");let{tree:l}=(0,c.useContext)(d.LayoutRouterContext);return getSelectedLayoutSegmentPath(l,a)}function useSelectedLayoutSegment(a){void 0===a&&(a="children"),(0,v.clientHookInServerComponentError)("useSelectedLayoutSegment");let l=useSelectedLayoutSegments(a);return 0===l.length?null:l[0]}("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),a.exports=l.default)},4714:(a,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"NotFoundBoundary",{enumerable:!0,get:function(){return NotFoundBoundary}});let c=u(85),d=c._(u(9885)),g=u(4979);let NotFoundErrorBoundary=class NotFoundErrorBoundary extends d.default.Component{static getDerivedStateFromError(a){if((null==a?void 0:a.digest)==="NEXT_NOT_FOUND")return{notFoundTriggered:!0};throw a}static getDerivedStateFromProps(a,l){return a.pathname!==l.previousPathname&&l.notFoundTriggered?{notFoundTriggered:!1,previousPathname:a.pathname}:{notFoundTriggered:l.notFoundTriggered,previousPathname:a.pathname}}render(){return this.state.notFoundTriggered?d.default.createElement(d.default.Fragment,null,d.default.createElement("meta",{name:"robots",content:"noindex"}),!1,this.props.notFoundStyles,this.props.notFound):this.props.children}constructor(a){super(a),this.state={notFoundTriggered:!!a.asNotFound,previousPathname:a.pathname}}};function NotFoundBoundary(a){let{notFound:l,notFoundStyles:u,asNotFound:c,children:v}=a,S=(0,g.usePathname)();return l?d.default.createElement(NotFoundErrorBoundary,{pathname:S,notFound:l,notFoundStyles:u,asNotFound:c},v):d.default.createElement(d.default.Fragment,null,v)}("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),a.exports=l.default)},1103:(a,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),function(a,l){for(var u in l)Object.defineProperty(a,u,{enumerable:!0,get:l[u]})}(l,{notFound:function(){return notFound},isNotFoundError:function(){return isNotFoundError}});let u="NEXT_NOT_FOUND";function notFound(){let a=Error(u);throw a.digest=u,a}function isNotFoundError(a){return(null==a?void 0:a.digest)===u}("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),a.exports=l.default)},8862:(a,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"PromiseQueue",{enumerable:!0,get:function(){return PromiseQueue}});let c=u(3592),d=u(4941);var g=d._("_maxConcurrency"),v=d._("_runningCount"),S=d._("_queue"),w=d._("_processNext");let PromiseQueue=class PromiseQueue{enqueue(a){let l,u;let d=new Promise((a,c)=>{l=a,u=c}),task=async()=>{try{c._(this,v)[v]++;let u=await a();l(u)}catch(a){u(a)}finally{c._(this,v)[v]--,c._(this,w)[w]()}};return c._(this,S)[S].push({promiseFn:d,task}),c._(this,w)[w](),d}bump(a){let l=c._(this,S)[S].findIndex(l=>l.promiseFn===a);if(l>-1){let a=c._(this,S)[S].splice(l,1)[0];c._(this,S)[S].unshift(a),c._(this,w)[w](!0)}}constructor(a=5){Object.defineProperty(this,w,{value:processNext}),Object.defineProperty(this,g,{writable:!0,value:void 0}),Object.defineProperty(this,v,{writable:!0,value:void 0}),Object.defineProperty(this,S,{writable:!0,value:void 0}),c._(this,g)[g]=a,c._(this,v)[v]=0,c._(this,S)[S]=[]}};function processNext(a){if(void 0===a&&(a=!1),(c._(this,v)[v]<c._(this,g)[g]||a)&&c._(this,S)[S].length>0){var l;null==(l=c._(this,S)[S].shift())||l.task()}}("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),a.exports=l.default)},7502:(a,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),function(a,l){for(var u in l)Object.defineProperty(a,u,{enumerable:!0,get:l[u]})}(l,{RedirectErrorBoundary:function(){return RedirectErrorBoundary},RedirectBoundary:function(){return RedirectBoundary}});let c=u(8425),d=c._(u(9885)),g=u(4979),v=u(1612);function HandleRedirect(a){let{redirect:l,reset:u,redirectType:c}=a,S=(0,g.useRouter)();return(0,d.useEffect)(()=>{d.default.startTransition(()=>{c===v.RedirectType.push?S.push(l,{}):S.replace(l,{}),u()})},[l,c,u,S]),null}let RedirectErrorBoundary=class RedirectErrorBoundary extends d.default.Component{static getDerivedStateFromError(a){if((0,v.isRedirectError)(a)){let l=(0,v.getURLFromRedirectError)(a),u=(0,v.getRedirectTypeFromError)(a);return{redirect:l,redirectType:u}}throw a}render(){let{redirect:a,redirectType:l}=this.state;return null!==a&&null!==l?d.default.createElement(HandleRedirect,{redirect:a,redirectType:l,reset:()=>this.setState({redirect:null})}):this.props.children}constructor(a){super(a),this.state={redirect:null,redirectType:null}}};function RedirectBoundary(a){let{children:l}=a,u=(0,g.useRouter)();return d.default.createElement(RedirectErrorBoundary,{router:u},l)}("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),a.exports=l.default)},1612:(a,l,u)=>{var c;Object.defineProperty(l,"__esModule",{value:!0}),function(a,l){for(var u in l)Object.defineProperty(a,u,{enumerable:!0,get:l[u]})}(l,{RedirectType:function(){return c},getRedirectError:function(){return getRedirectError},redirect:function(){return redirect},permanentRedirect:function(){return permanentRedirect},isRedirectError:function(){return isRedirectError},getURLFromRedirectError:function(){return getURLFromRedirectError},getRedirectTypeFromError:function(){return getRedirectTypeFromError}});let d=u(5403),g="NEXT_REDIRECT";function getRedirectError(a,l,u){void 0===u&&(u=!1);let c=Error(g);c.digest=g+";"+l+";"+a+";"+u;let v=d.requestAsyncStorage.getStore();return v&&(c.mutableCookies=v.mutableCookies),c}function redirect(a,l){throw void 0===l&&(l="replace"),getRedirectError(a,l,!1)}function permanentRedirect(a,l){throw void 0===l&&(l="replace"),getRedirectError(a,l,!0)}function isRedirectError(a){if("string"!=typeof(null==a?void 0:a.digest))return!1;let[l,u,c,d]=a.digest.split(";",4);return l===g&&("replace"===u||"push"===u)&&"string"==typeof c&&("true"===d||"false"===d)}function getURLFromRedirectError(a){return isRedirectError(a)?a.digest.split(";",3)[2]:null}function getRedirectTypeFromError(a){if(!isRedirectError(a))throw Error("Not a redirect error");return a.digest.split(";",2)[1]}(function(a){a.push="push",a.replace="replace"})(c||(c={})),("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),a.exports=l.default)},5392:(a,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"default",{enumerable:!0,get:function(){return RenderFromTemplateContext}});let c=u(8425),d=c._(u(9885)),g=u(2428);function RenderFromTemplateContext(){let a=(0,d.useContext)(g.TemplateContext);return d.default.createElement(d.default.Fragment,null,a)}("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),a.exports=l.default)},1847:(a,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"applyFlightData",{enumerable:!0,get:function(){return applyFlightData}});let c=u(2428),d=u(5929),g=u(4059);function applyFlightData(a,l,u,v){void 0===v&&(v=!1);let[S,w,x]=u.slice(-3);return null!==w&&(3===u.length?(l.status=c.CacheStates.READY,l.subTreeData=w,(0,d.fillLazyItemsTillLeafWithHead)(l,a,S,x,v)):(l.status=c.CacheStates.READY,l.subTreeData=a.subTreeData,l.parallelRoutes=new Map(a.parallelRoutes),(0,g.fillCacheWithNewSubTreeData)(l,a,u,v)),!0)}("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),a.exports=l.default)},9605:(a,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"applyRouterStatePatchToTree",{enumerable:!0,get:function(){return applyRouterStatePatchToTree}});let c=u(4538);function applyPatch(a,l){let[u,d]=a,[g,v]=l;if("__DEFAULT__"===g&&"__DEFAULT__"!==u)return a;if((0,c.matchSegment)(u,g)){let l={};for(let a in d){let u=void 0!==v[a];u?l[a]=applyPatch(d[a],v[a]):l[a]=d[a]}for(let a in v)l[a]||(l[a]=v[a]);let c=[u,l];return a[2]&&(c[2]=a[2]),a[3]&&(c[3]=a[3]),a[4]&&(c[4]=a[4]),c}return l}function applyRouterStatePatchToTree(a,l,u){let d;let[g,v,,,S]=l;if(1===a.length){let a=applyPatch(l,u);return a}let[w,x]=a;if(!(0,c.matchSegment)(w,g))return null;let j=2===a.length;if(j)d=applyPatch(v[x],u);else if(null===(d=applyRouterStatePatchToTree(a.slice(2),v[x],u)))return null;let N=[a[0],{...v,[x]:d}];return S&&(N[4]=!0),N}("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),a.exports=l.default)},6663:(a,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),function(a,l){for(var u in l)Object.defineProperty(a,u,{enumerable:!0,get:l[u]})}(l,{extractPathFromFlightRouterState:function(){return extractPathFromFlightRouterState},computeChangedPath:function(){return computeChangedPath}});let c=u(4265),d=u(392),g=u(4538),removeLeadingSlash=a=>"/"===a[0]?a.slice(1):a,segmentToPathname=a=>"string"==typeof a?a:a[1];function normalizeSegments(a){return a.reduce((a,l)=>""===(l=removeLeadingSlash(l))||(0,d.isGroupSegment)(l)?a:a+"/"+l,"")||"/"}function extractPathFromFlightRouterState(a){var l;let u=Array.isArray(a[0])?a[0][1]:a[0];if("__DEFAULT__"===u||c.INTERCEPTION_ROUTE_MARKERS.some(a=>u.startsWith(a)))return;if(u.startsWith("__PAGE__"))return"";let d=[u],g=null!=(l=a[1])?l:{},v=g.children?extractPathFromFlightRouterState(g.children):void 0;if(void 0!==v)d.push(v);else for(let[a,l]of Object.entries(g)){if("children"===a)continue;let u=extractPathFromFlightRouterState(l);void 0!==u&&d.push(u)}return normalizeSegments(d)}function computeChangedPathImpl(a,l){let[u,d]=a,[v,S]=l,w=segmentToPathname(u),x=segmentToPathname(v);if(c.INTERCEPTION_ROUTE_MARKERS.some(a=>w.startsWith(a)||x.startsWith(a)))return"";if(!(0,g.matchSegment)(u,v)){var j;return null!=(j=extractPathFromFlightRouterState(l))?j:""}for(let a in d)if(S[a]){let l=computeChangedPathImpl(d[a],S[a]);if(null!==l)return segmentToPathname(v)+"/"+l}return null}function computeChangedPath(a,l){let u=computeChangedPathImpl(a,l);return null==u||"/"===u?u:normalizeSegments(u.split("/"))}("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),a.exports=l.default)},1706:(a,l)=>{function createHrefFromUrl(a,l){return void 0===l&&(l=!0),a.pathname+a.search+(l?a.hash:"")}Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"createHrefFromUrl",{enumerable:!0,get:function(){return createHrefFromUrl}}),("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),a.exports=l.default)},9624:(a,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"createInitialRouterState",{enumerable:!0,get:function(){return createInitialRouterState}});let c=u(2428),d=u(1706),g=u(5929),v=u(6663);function createInitialRouterState(a){var l;let{buildId:u,initialTree:S,children:w,initialCanonicalUrl:x,initialParallelRoutes:j,isServer:N,location:$,initialHead:H}=a,B={status:c.CacheStates.READY,data:null,subTreeData:w,parallelRoutes:N?new Map:j};return(null===j||0===j.size)&&(0,g.fillLazyItemsTillLeafWithHead)(B,void 0,S,H),{buildId:u,tree:S,cache:B,prefetchCache:new Map,pushRef:{pendingPush:!1,mpaNavigation:!1},focusAndScrollRef:{apply:!1,onlyHashChange:!1,hashFragment:null,segmentPaths:[]},canonicalUrl:$?(0,d.createHrefFromUrl)($):x,nextUrl:null!=(l=(0,v.extractPathFromFlightRouterState)(S)||(null==$?void 0:$.pathname))?l:null}}("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),a.exports=l.default)},8775:(a,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"createOptimisticTree",{enumerable:!0,get:function(){return createOptimisticTree}});let c=u(4538);function createOptimisticTree(a,l,u){let d;let[g,v,S,w,x]=l||[null,{}],j=a[0],N=1===a.length,$=null!==g&&(0,c.matchSegment)(g,j),H=Object.keys(v).length>1,B=!l||!$||H,W={};if(null!==g&&$&&(W=v),!N&&!H){let l=createOptimisticTree(a.slice(1),W?W.children:null,u||B);d=l}let J=[j,{...W,...d?{children:d}:{}}];return S&&(J[2]=S),!u&&B?J[3]="refetch":$&&w&&(J[3]=w),$&&x&&(J[4]=x),J}("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),a.exports=l.default)},8026:(a,l)=>{function createRecordFromThenable(a){return a.status="pending",a.then(l=>{"pending"===a.status&&(a.status="fulfilled",a.value=l)},l=>{"pending"===a.status&&(a.status="rejected",a.reason=l)}),a}Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"createRecordFromThenable",{enumerable:!0,get:function(){return createRecordFromThenable}}),("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),a.exports=l.default)},4701:(a,l)=>{function createRouterCacheKey(a,l){return void 0===l&&(l=!1),Array.isArray(a)?(a[0]+"|"+a[1]+"|"+a[2]).toLowerCase():l&&a.startsWith("__PAGE__")?"__PAGE__":a}Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"createRouterCacheKey",{enumerable:!0,get:function(){return createRouterCacheKey}}),("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),a.exports=l.default)},9102:(a,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"fetchServerResponse",{enumerable:!0,get:function(){return fetchServerResponse}});let c=u(4361),d=u(3724),g=u(5422),v=u(3678),S=u(755),w=u(5082),{createFromFetch:x}=u(2623);function doMpaNavigation(a){return[(0,d.urlToUrlWithoutFlightMarker)(a).toString(),void 0]}async function fetchServerResponse(a,l,u,j,N){let $={[c.RSC]:"1",[c.NEXT_ROUTER_STATE_TREE]:encodeURIComponent(JSON.stringify(l))};N===v.PrefetchKind.AUTO&&($[c.NEXT_ROUTER_PREFETCH]="1"),u&&($[c.NEXT_URL]=u);let H=(0,S.hexHash)([$[c.NEXT_ROUTER_PREFETCH]||"0",$[c.NEXT_ROUTER_STATE_TREE],$[c.NEXT_URL]].join(","));try{let l=new URL(a);l.searchParams.set(c.NEXT_RSC_UNION_QUERY,H);let u=await fetch(l,{credentials:"same-origin",headers:$}),v=(0,d.urlToUrlWithoutFlightMarker)(u.url),S=u.redirected?v:void 0,N=u.headers.get("content-type")||"",B=!!u.headers.get(w.NEXT_DID_POSTPONE_HEADER);if(N!==c.RSC_CONTENT_TYPE_HEADER||!u.ok)return a.hash&&(v.hash=a.hash),doMpaNavigation(v.toString());let[W,J]=await x(Promise.resolve(u),{callServer:g.callServer});if(j!==W)return doMpaNavigation(u.url);return[J,S,B]}catch(l){return console.error("Failed to fetch RSC payload for "+a+". Falling back to browser navigation.",l),[a.toString(),void 0]}}("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),a.exports=l.default)},1924:(a,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"fillCacheWithDataProperty",{enumerable:!0,get:function(){return fillCacheWithDataProperty}});let c=u(2428),d=u(4701);function fillCacheWithDataProperty(a,l,u,g,v){void 0===v&&(v=!1);let S=u.length<=2,[w,x]=u,j=(0,d.createRouterCacheKey)(x),N=l.parallelRoutes.get(w);if(!N||v&&l.parallelRoutes.size>1)return{bailOptimistic:!0};let $=a.parallelRoutes.get(w);$&&$!==N||($=new Map(N),a.parallelRoutes.set(w,$));let H=N.get(j),B=$.get(j);if(S){B&&B.data&&B!==H||$.set(j,{status:c.CacheStates.DATA_FETCH,data:g(),subTreeData:null,parallelRoutes:new Map});return}if(!B||!H){B||$.set(j,{status:c.CacheStates.DATA_FETCH,data:g(),subTreeData:null,parallelRoutes:new Map});return}return B===H&&(B={status:B.status,data:B.data,subTreeData:B.subTreeData,parallelRoutes:new Map(B.parallelRoutes)},$.set(j,B)),fillCacheWithDataProperty(B,H,u.slice(2),g)}("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),a.exports=l.default)},4059:(a,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"fillCacheWithNewSubTreeData",{enumerable:!0,get:function(){return fillCacheWithNewSubTreeData}});let c=u(2428),d=u(2582),g=u(5929),v=u(4701);function fillCacheWithNewSubTreeData(a,l,u,S){let w=u.length<=5,[x,j]=u,N=(0,v.createRouterCacheKey)(j),$=l.parallelRoutes.get(x);if(!$)return;let H=a.parallelRoutes.get(x);H&&H!==$||(H=new Map($),a.parallelRoutes.set(x,H));let B=$.get(N),W=H.get(N);if(w){W&&W.data&&W!==B||(W={status:c.CacheStates.READY,data:null,subTreeData:u[3],parallelRoutes:B?new Map(B.parallelRoutes):new Map},B&&(0,d.invalidateCacheByRouterState)(W,B,u[2]),(0,g.fillLazyItemsTillLeafWithHead)(W,B,u[2],u[4],S),H.set(N,W));return}W&&B&&(W===B&&(W={status:W.status,data:W.data,subTreeData:W.subTreeData,parallelRoutes:new Map(W.parallelRoutes)},H.set(N,W)),fillCacheWithNewSubTreeData(W,B,u.slice(2),S))}("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),a.exports=l.default)},5929:(a,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"fillLazyItemsTillLeafWithHead",{enumerable:!0,get:function(){return fillLazyItemsTillLeafWithHead}});let c=u(2428),d=u(4701);function fillLazyItemsTillLeafWithHead(a,l,u,g,v){let S=0===Object.keys(u[1]).length;if(S){a.head=g;return}for(let S in u[1]){let w=u[1][S],x=w[0],j=(0,d.createRouterCacheKey)(x);if(l){let u=l.parallelRoutes.get(S);if(u){let l=new Map(u),d=l.get(j),x=v&&d?{status:d.status,data:d.data,subTreeData:d.subTreeData,parallelRoutes:new Map(d.parallelRoutes)}:{status:c.CacheStates.LAZY_INITIALIZED,data:null,subTreeData:null,parallelRoutes:new Map(null==d?void 0:d.parallelRoutes)};l.set(j,x),fillLazyItemsTillLeafWithHead(x,d,w,g,v),a.parallelRoutes.set(S,l);continue}}let N={status:c.CacheStates.LAZY_INITIALIZED,data:null,subTreeData:null,parallelRoutes:new Map},$=a.parallelRoutes.get(S);$?$.set(j,N):a.parallelRoutes.set(S,new Map([[j,N]])),fillLazyItemsTillLeafWithHead(N,void 0,w,g,v)}}("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),a.exports=l.default)},6699:(a,l)=>{var u;function getPrefetchEntryCacheStatus(a){let{kind:l,prefetchTime:u,lastUsedTime:c}=a;return Date.now()<(null!=c?c:u)+3e4?c?"reusable":"fresh":"auto"===l&&Date.now()<u+3e5?"stale":"full"===l&&Date.now()<u+3e5?"reusable":"expired"}Object.defineProperty(l,"__esModule",{value:!0}),function(a,l){for(var u in l)Object.defineProperty(a,u,{enumerable:!0,get:l[u]})}(l,{PrefetchCacheEntryStatus:function(){return u},getPrefetchEntryCacheStatus:function(){return getPrefetchEntryCacheStatus}}),function(a){a.fresh="fresh",a.reusable="reusable",a.expired="expired",a.stale="stale"}(u||(u={})),("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),a.exports=l.default)},3466:(a,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"handleMutable",{enumerable:!0,get:function(){return handleMutable}});let c=u(6663);function handleMutable(a,l){var u,d,g,v;let S=null==(d=l.shouldScroll)||d;return{buildId:a.buildId,canonicalUrl:null!=l.canonicalUrl?l.canonicalUrl===a.canonicalUrl?a.canonicalUrl:l.canonicalUrl:a.canonicalUrl,pushRef:{pendingPush:null!=l.pendingPush?l.pendingPush:a.pushRef.pendingPush,mpaNavigation:null!=l.mpaNavigation?l.mpaNavigation:a.pushRef.mpaNavigation},focusAndScrollRef:{apply:!!S&&((null==l?void 0:l.scrollableSegments)!==void 0||a.focusAndScrollRef.apply),onlyHashChange:!!l.hashFragment&&a.canonicalUrl.split("#",1)[0]===(null==(u=l.canonicalUrl)?void 0:u.split("#",1)[0]),hashFragment:S?l.hashFragment&&""!==l.hashFragment?decodeURIComponent(l.hashFragment.slice(1)):a.focusAndScrollRef.hashFragment:null,segmentPaths:S?null!=(g=null==l?void 0:l.scrollableSegments)?g:a.focusAndScrollRef.segmentPaths:[]},cache:l.cache?l.cache:a.cache,prefetchCache:l.prefetchCache?l.prefetchCache:a.prefetchCache,tree:void 0!==l.patchedTree?l.patchedTree:a.tree,nextUrl:void 0!==l.patchedTree?null!=(v=(0,c.computeChangedPath)(a.tree,l.patchedTree))?v:a.canonicalUrl:a.nextUrl}}("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),a.exports=l.default)},1986:(a,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"invalidateCacheBelowFlightSegmentPath",{enumerable:!0,get:function(){return invalidateCacheBelowFlightSegmentPath}});let c=u(4701);function invalidateCacheBelowFlightSegmentPath(a,l,u){let d=u.length<=2,[g,v]=u,S=(0,c.createRouterCacheKey)(v),w=l.parallelRoutes.get(g);if(!w)return;let x=a.parallelRoutes.get(g);if(x&&x!==w||(x=new Map(w),a.parallelRoutes.set(g,x)),d){x.delete(S);return}let j=w.get(S),N=x.get(S);N&&j&&(N===j&&(N={status:N.status,data:N.data,subTreeData:N.subTreeData,parallelRoutes:new Map(N.parallelRoutes)},x.set(S,N)),invalidateCacheBelowFlightSegmentPath(N,j,u.slice(2)))}("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),a.exports=l.default)},2582:(a,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"invalidateCacheByRouterState",{enumerable:!0,get:function(){return invalidateCacheByRouterState}});let c=u(4701);function invalidateCacheByRouterState(a,l,u){for(let d in u[1]){let g=u[1][d][0],v=(0,c.createRouterCacheKey)(g),S=l.parallelRoutes.get(d);if(S){let l=new Map(S);l.delete(v),a.parallelRoutes.set(d,l)}}}("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),a.exports=l.default)},145:(a,l)=>{function isNavigatingToNewRootLayout(a,l){let u=a[0],c=l[0];if(Array.isArray(u)&&Array.isArray(c)){if(u[0]!==c[0]||u[2]!==c[2])return!0}else if(u!==c)return!0;if(a[4])return!l[4];if(l[4])return!0;let d=Object.values(a[1])[0],g=Object.values(l[1])[0];return!d||!g||isNavigatingToNewRootLayout(d,g)}Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"isNavigatingToNewRootLayout",{enumerable:!0,get:function(){return isNavigatingToNewRootLayout}}),("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),a.exports=l.default)},4879:(a,l)=>{function readRecordValue(a){if("fulfilled"===a.status)return a.value;throw a}Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"readRecordValue",{enumerable:!0,get:function(){return readRecordValue}}),("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),a.exports=l.default)},2755:(a,l,u)=>{function fastRefreshReducerNoop(a,l){return a}Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"fastRefreshReducer",{enumerable:!0,get:function(){return c}}),u(9102),u(8026),u(4879),u(1706),u(9605),u(145),u(8237),u(3466),u(1847);let c=fastRefreshReducerNoop;("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),a.exports=l.default)},2226:(a,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"findHeadInCache",{enumerable:!0,get:function(){return findHeadInCache}});let c=u(4701);function findHeadInCache(a,l){let u=0===Object.keys(l).length;if(u)return a.head;for(let u in l){let[d,g]=l[u],v=a.parallelRoutes.get(u);if(!v)continue;let S=(0,c.createRouterCacheKey)(d),w=v.get(S);if(!w)continue;let x=findHeadInCache(w,g);if(x)return x}}("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),a.exports=l.default)},1275:(a,l)=>{function getSegmentValue(a){return Array.isArray(a)?a[1]:a}Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"getSegmentValue",{enumerable:!0,get:function(){return getSegmentValue}}),("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),a.exports=l.default)},8237:(a,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),function(a,l){for(var u in l)Object.defineProperty(a,u,{enumerable:!0,get:l[u]})}(l,{handleExternalUrl:function(){return handleExternalUrl},navigateReducer:function(){return navigateReducer}});let c=u(2428),d=u(9102),g=u(8026),v=u(4879),S=u(1706),w=u(1986),x=u(1924),j=u(8775),N=u(9605),$=u(4320),H=u(145),B=u(3678),W=u(3466),J=u(1847),ee=u(6699),en=u(8155),ea=u(1196);function handleExternalUrl(a,l,u,c){return l.previousTree=a.tree,l.mpaNavigation=!0,l.canonicalUrl=u,l.pendingPush=c,l.scrollableSegments=void 0,(0,W.handleMutable)(a,l)}function generateSegmentsFromPatch(a){let l=[],[u,c]=a;if(0===Object.keys(c).length)return[[u]];for(let[a,d]of Object.entries(c))for(let c of generateSegmentsFromPatch(d))""===u?l.push([a,...c]):l.push([u,a,...c]);return l}function addRefetchToLeafSegments(a,l,u,d,g){let v=!1;a.status=c.CacheStates.READY,a.subTreeData=l.subTreeData,a.parallelRoutes=new Map(l.parallelRoutes);let S=generateSegmentsFromPatch(d).map(a=>[...u,...a]);for(let u of S){let c=(0,x.fillCacheWithDataProperty)(a,l,u,g);(null==c?void 0:c.bailOptimistic)||(v=!0)}return v}function navigateReducer(a,l){let{url:u,isExternalUrl:el,navigateType:eu,cache:ec,mutable:ed,forceOptimisticNavigation:eh,shouldScroll:ef}=l,{pathname:ep,hash:e_}=u,eg=(0,S.createHrefFromUrl)(u),ev="push"===eu;(0,en.prunePrefetchCache)(a.prefetchCache);let em=JSON.stringify(ed.previousTree)===JSON.stringify(a.tree);if(em)return(0,W.handleMutable)(a,ed);if(el)return handleExternalUrl(a,ed,u.toString(),ev);let ey=a.prefetchCache.get((0,S.createHrefFromUrl)(u,!1));if(eh&&(null==ey?void 0:ey.kind)!==B.PrefetchKind.TEMPORARY){let l=ep.split("/");l.push("__PAGE__");let v=(0,j.createOptimisticTree)(l,a.tree,!1),w={...ec};w.status=c.CacheStates.READY,w.subTreeData=a.cache.subTreeData,w.parallelRoutes=new Map(a.cache.parallelRoutes);let N=null,$=l.slice(1).map(a=>["children",a]).flat(),H=(0,x.fillCacheWithDataProperty)(w,a.cache,$,()=>(N||(N=(0,g.createRecordFromThenable)((0,d.fetchServerResponse)(u,v,a.nextUrl,a.buildId))),N),!0);if(!(null==H?void 0:H.bailOptimistic))return ed.previousTree=a.tree,ed.patchedTree=v,ed.pendingPush=ev,ed.hashFragment=e_,ed.shouldScroll=ef,ed.scrollableSegments=[],ed.cache=w,ed.canonicalUrl=eg,a.prefetchCache.set((0,S.createHrefFromUrl)(u,!1),{data:N?(0,g.createRecordFromThenable)(Promise.resolve(N)):null,kind:B.PrefetchKind.TEMPORARY,prefetchTime:Date.now(),treeAtTimeOfPrefetch:a.tree,lastUsedTime:Date.now()}),(0,W.handleMutable)(a,ed)}if(!ey){let l=(0,g.createRecordFromThenable)((0,d.fetchServerResponse)(u,a.tree,a.nextUrl,a.buildId,void 0)),c={data:(0,g.createRecordFromThenable)(Promise.resolve(l)),kind:B.PrefetchKind.TEMPORARY,prefetchTime:Date.now(),treeAtTimeOfPrefetch:a.tree,lastUsedTime:null};a.prefetchCache.set((0,S.createHrefFromUrl)(u,!1),c),ey=c}let eb=(0,ee.getPrefetchEntryCacheStatus)(ey),{treeAtTimeOfPrefetch:eE,data:eP}=ey;ea.prefetchQueue.bump(eP);let[eS,eR,ew]=(0,v.readRecordValue)(eP);if(ey.lastUsedTime||(ey.lastUsedTime=Date.now()),"string"==typeof eS)return handleExternalUrl(a,ed,eS,ev);let ex=a.tree,eO=a.cache,eT=[];for(let l of eS){let v=l.slice(0,-4),S=l.slice(-3)[0],x=["",...v],j=(0,N.applyRouterStatePatchToTree)(x,ex,S);if(null===j&&(j=(0,N.applyRouterStatePatchToTree)(x,eE,S)),null!==j){if((0,H.isNavigatingToNewRootLayout)(ex,j))return handleExternalUrl(a,ed,eg,ev);let N=!ew&&(0,J.applyFlightData)(eO,ec,l,"auto"===ey.kind&&eb===ee.PrefetchCacheEntryStatus.reusable);N||eb!==ee.PrefetchCacheEntryStatus.stale||(N=addRefetchToLeafSegments(ec,eO,v,S,()=>(0,g.createRecordFromThenable)((0,d.fetchServerResponse)(u,ex,a.nextUrl,a.buildId))));let B=(0,$.shouldHardNavigate)(x,ex);for(let a of(B?(ec.status=c.CacheStates.READY,ec.subTreeData=eO.subTreeData,(0,w.invalidateCacheBelowFlightSegmentPath)(ec,eO,v),ed.cache=ec):N&&(ed.cache=ec),eO=ec,ex=j,generateSegmentsFromPatch(S))){let l=[...v,...a];"__DEFAULT__"!==l[l.length-1]&&eT.push(l)}}}return ed.previousTree=a.tree,ed.patchedTree=ex,ed.canonicalUrl=eR?(0,S.createHrefFromUrl)(eR):eg,ed.pendingPush=ev,ed.scrollableSegments=eT,ed.hashFragment=e_,ed.shouldScroll=ef,(0,W.handleMutable)(a,ed)}("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),a.exports=l.default)},1196:(a,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),function(a,l){for(var u in l)Object.defineProperty(a,u,{enumerable:!0,get:l[u]})}(l,{prefetchQueue:function(){return j},prefetchReducer:function(){return prefetchReducer}});let c=u(1706),d=u(9102),g=u(3678),v=u(8026),S=u(8155),w=u(4361),x=u(8862),j=new x.PromiseQueue(5);function prefetchReducer(a,l){(0,S.prunePrefetchCache)(a.prefetchCache);let{url:u}=l;u.searchParams.delete(w.NEXT_RSC_UNION_QUERY);let x=(0,c.createHrefFromUrl)(u,!1),N=a.prefetchCache.get(x);if(N&&(N.kind===g.PrefetchKind.TEMPORARY&&a.prefetchCache.set(x,{...N,kind:l.kind}),!(N.kind===g.PrefetchKind.AUTO&&l.kind===g.PrefetchKind.FULL)))return a;let $=(0,v.createRecordFromThenable)(j.enqueue(()=>(0,d.fetchServerResponse)(u,a.tree,a.nextUrl,a.buildId,l.kind)));return a.prefetchCache.set(x,{treeAtTimeOfPrefetch:a.tree,data:$,kind:l.kind,prefetchTime:Date.now(),lastUsedTime:null}),a}("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),a.exports=l.default)},8155:(a,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"prunePrefetchCache",{enumerable:!0,get:function(){return prunePrefetchCache}});let c=u(6699);function prunePrefetchCache(a){for(let[l,u]of a)(0,c.getPrefetchEntryCacheStatus)(u)===c.PrefetchCacheEntryStatus.expired&&a.delete(l)}("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),a.exports=l.default)},8038:(a,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"refreshReducer",{enumerable:!0,get:function(){return refreshReducer}});let c=u(9102),d=u(8026),g=u(4879),v=u(1706),S=u(9605),w=u(145),x=u(8237),j=u(3466),N=u(2428),$=u(5929);function refreshReducer(a,l){let{cache:u,mutable:H,origin:B}=l,W=a.canonicalUrl,J=a.tree,ee=JSON.stringify(H.previousTree)===JSON.stringify(J);if(ee)return(0,j.handleMutable)(a,H);u.data||(u.data=(0,d.createRecordFromThenable)((0,c.fetchServerResponse)(new URL(W,B),[J[0],J[1],J[2],"refetch"],a.nextUrl,a.buildId)));let[en,ea]=(0,g.readRecordValue)(u.data);if("string"==typeof en)return(0,x.handleExternalUrl)(a,H,en,a.pushRef.pendingPush);for(let l of(u.data=null,en)){if(3!==l.length)return console.log("REFRESH FAILED"),a;let[c]=l,d=(0,S.applyRouterStatePatchToTree)([""],J,c);if(null===d)throw Error("SEGMENT MISMATCH");if((0,w.isNavigatingToNewRootLayout)(J,d))return(0,x.handleExternalUrl)(a,H,W,a.pushRef.pendingPush);let g=ea?(0,v.createHrefFromUrl)(ea):void 0;ea&&(H.canonicalUrl=g);let[j,B]=l.slice(-2);null!==j&&(u.status=N.CacheStates.READY,u.subTreeData=j,(0,$.fillLazyItemsTillLeafWithHead)(u,void 0,c,B),H.cache=u,H.prefetchCache=new Map),H.previousTree=J,H.patchedTree=d,H.canonicalUrl=W,J=d}return(0,j.handleMutable)(a,H)}("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),a.exports=l.default)},2910:(a,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"restoreReducer",{enumerable:!0,get:function(){return restoreReducer}});let c=u(1706);function restoreReducer(a,l){let{url:u,tree:d}=l,g=(0,c.createHrefFromUrl)(u);return{buildId:a.buildId,canonicalUrl:g,pushRef:a.pushRef,focusAndScrollRef:a.focusAndScrollRef,cache:a.cache,prefetchCache:a.prefetchCache,tree:d,nextUrl:u.pathname}}("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),a.exports=l.default)},9747:(a,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"serverActionReducer",{enumerable:!0,get:function(){return serverActionReducer}});let c=u(5422),d=u(4361),g=u(8026),v=u(4879),S=u(6879),w=u(1706),x=u(8237),j=u(9605),N=u(145),$=u(2428),H=u(3466),B=u(5929),{createFromFetch:W,encodeReply:J}=u(2623);async function fetchServerAction(a,l){let u,{actionId:g,actionArgs:v}=l,w=await J(v),x=await fetch("",{method:"POST",headers:{Accept:d.RSC_CONTENT_TYPE_HEADER,[d.ACTION]:g,[d.NEXT_ROUTER_STATE_TREE]:encodeURIComponent(JSON.stringify(a.tree)),...a.nextUrl?{[d.NEXT_URL]:a.nextUrl}:{}},body:w}),j=x.headers.get("x-action-redirect");try{let a=JSON.parse(x.headers.get("x-action-revalidated")||"[[],0,0]");u={paths:a[0]||[],tag:!!a[1],cookie:a[2]}}catch(a){u={paths:[],tag:!1,cookie:!1}}let N=j?new URL((0,S.addBasePath)(j),new URL(a.canonicalUrl,window.location.href)):void 0;if(x.headers.get("content-type")===d.RSC_CONTENT_TYPE_HEADER){let a=await W(Promise.resolve(x),{callServer:c.callServer});if(j){let[,l]=null!=a?a:[];return{actionFlightData:l,redirectLocation:N,revalidatedParts:u}}let[l,[,d]]=null!=a?a:[];return{actionResult:l,actionFlightData:d,redirectLocation:N,revalidatedParts:u}}return{redirectLocation:N,revalidatedParts:u}}function serverActionReducer(a,l){let{mutable:u,cache:c,resolve:d,reject:S}=l,W=a.canonicalUrl,J=a.tree,ee=JSON.stringify(u.previousTree)===JSON.stringify(J);if(ee)return(0,H.handleMutable)(a,u);if(u.inFlightServerAction){if("fulfilled"!==u.inFlightServerAction.status&&u.globalMutable.pendingNavigatePath&&u.globalMutable.pendingNavigatePath!==W)return u.inFlightServerAction.then(()=>{u.actionResultResolved||(u.inFlightServerAction=null,u.globalMutable.pendingNavigatePath=void 0,u.globalMutable.refresh(),u.actionResultResolved=!0)},()=>{}),a}else u.inFlightServerAction=(0,g.createRecordFromThenable)(fetchServerAction(a,l));try{let{actionResult:l,actionFlightData:g,redirectLocation:S}=(0,v.readRecordValue)(u.inFlightServerAction);if(S&&(a.pushRef.pendingPush=!0,u.pendingPush=!0),u.previousTree=a.tree,!g){if(u.actionResultResolved||(d(l),u.actionResultResolved=!0),S)return(0,x.handleExternalUrl)(a,u,S.href,a.pushRef.pendingPush);return a}if("string"==typeof g)return(0,x.handleExternalUrl)(a,u,g,a.pushRef.pendingPush);for(let l of(u.inFlightServerAction=null,g)){if(3!==l.length)return console.log("SERVER ACTION APPLY FAILED"),a;let[d]=l,g=(0,j.applyRouterStatePatchToTree)([""],J,d);if(null===g)throw Error("SEGMENT MISMATCH");if((0,N.isNavigatingToNewRootLayout)(J,g))return(0,x.handleExternalUrl)(a,u,W,a.pushRef.pendingPush);let[v,S]=l.slice(-2);null!==v&&(c.status=$.CacheStates.READY,c.subTreeData=v,(0,B.fillLazyItemsTillLeafWithHead)(c,void 0,d,S),u.cache=c,u.prefetchCache=new Map),u.previousTree=J,u.patchedTree=g,u.canonicalUrl=W,J=g}if(S){let a=(0,w.createHrefFromUrl)(S,!1);u.canonicalUrl=a}return u.actionResultResolved||(d(l),u.actionResultResolved=!0),(0,H.handleMutable)(a,u)}catch(l){if("rejected"===l.status)return u.actionResultResolved||(S(l.reason),u.actionResultResolved=!0),a;throw l}}("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),a.exports=l.default)},9794:(a,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"serverPatchReducer",{enumerable:!0,get:function(){return serverPatchReducer}});let c=u(1706),d=u(9605),g=u(145),v=u(8237),S=u(1847),w=u(3466);function serverPatchReducer(a,l){let{flightData:u,previousTree:x,overrideCanonicalUrl:j,cache:N,mutable:$}=l,H=JSON.stringify(x)===JSON.stringify(a.tree);if(!H)return console.log("TREE MISMATCH"),a;if($.previousTree)return(0,w.handleMutable)(a,$);if("string"==typeof u)return(0,v.handleExternalUrl)(a,$,u,a.pushRef.pendingPush);let B=a.tree,W=a.cache;for(let l of u){let u=l.slice(0,-4),[w]=l.slice(-3,-2),x=(0,d.applyRouterStatePatchToTree)(["",...u],B,w);if(null===x)throw Error("SEGMENT MISMATCH");if((0,g.isNavigatingToNewRootLayout)(B,x))return(0,v.handleExternalUrl)(a,$,a.canonicalUrl,a.pushRef.pendingPush);let H=j?(0,c.createHrefFromUrl)(j):void 0;H&&($.canonicalUrl=H),(0,S.applyFlightData)(W,N,l),$.previousTree=B,$.patchedTree=x,$.cache=N,W=N,B=x}return(0,w.handleMutable)(a,$)}("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),a.exports=l.default)},3678:(a,l)=>{var u;Object.defineProperty(l,"__esModule",{value:!0}),function(a,l){for(var u in l)Object.defineProperty(a,u,{enumerable:!0,get:l[u]})}(l,{PrefetchKind:function(){return u},ACTION_REFRESH:function(){return c},ACTION_NAVIGATE:function(){return d},ACTION_RESTORE:function(){return g},ACTION_SERVER_PATCH:function(){return v},ACTION_PREFETCH:function(){return S},ACTION_FAST_REFRESH:function(){return w},ACTION_SERVER_ACTION:function(){return x}});let c="refresh",d="navigate",g="restore",v="server-patch",S="prefetch",w="fast-refresh",x="server-action";(function(a){a.AUTO="auto",a.FULL="full",a.TEMPORARY="temporary"})(u||(u={})),("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),a.exports=l.default)},7986:(a,l,u)=>{function serverReducer(a,l){return a}Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"reducer",{enumerable:!0,get:function(){return c}}),u(3678),u(8237),u(9794),u(2910),u(8038),u(1196),u(2755),u(9747);let c=serverReducer;("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),a.exports=l.default)},4320:(a,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"shouldHardNavigate",{enumerable:!0,get:function(){return shouldHardNavigate}});let c=u(4538);function shouldHardNavigate(a,l){let[u,d]=l,[g,v]=a;if(!(0,c.matchSegment)(g,u))return!!Array.isArray(g);let S=a.length<=2;return!S&&shouldHardNavigate(a.slice(2),d[v])}("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),a.exports=l.default)},3032:(a,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"createSearchParamsBailoutProxy",{enumerable:!0,get:function(){return createSearchParamsBailoutProxy}});let c=u(1492);function createSearchParamsBailoutProxy(){return new Proxy({},{get(a,l){"string"==typeof l&&(0,c.staticGenerationBailout)("searchParams."+l)}})}("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),a.exports=l.default)},1492:(a,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"staticGenerationBailout",{enumerable:!0,get:function(){return staticGenerationBailout}});let c=u(5171),d=u(3094),g=u(4749);let StaticGenBailoutError=class StaticGenBailoutError extends Error{constructor(...a){super(...a),this.code="NEXT_STATIC_GEN_BAILOUT"}};function formatErrorMessage(a,l){let{dynamic:u,link:c}=l||{};return"Page"+(u?' with `dynamic = "'+u+'"`':"")+" couldn't be rendered statically because it used `"+a+"`."+(c?" See more info here: "+c:"")}let staticGenerationBailout=(a,l)=>{let u=g.staticGenerationAsyncStorage.getStore();if(!u)return!1;if(u.forceStatic)return!0;if(u.dynamicShouldError){var v;throw new StaticGenBailoutError(formatErrorMessage(a,{...l,dynamic:null!=(v=null==l?void 0:l.dynamic)?v:"error"}))}let S=formatErrorMessage(a,{...l,link:"https://nextjs.org/docs/messages/dynamic-server-error"});if((0,d.maybePostpone)(u,S),u.revalidate=0,(null==l?void 0:l.dynamic)||(u.staticPrefetchBailout=!0),u.isStaticGeneration){let l=new c.DynamicServerError(S);throw u.dynamicUsageDescription=a,u.dynamicUsageStack=l.stack,l}return!1};("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),a.exports=l.default)},8898:(a,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"default",{enumerable:!0,get:function(){return StaticGenerationSearchParamsBailoutProvider}});let c=u(85),d=c._(u(9885)),g=u(3032);function StaticGenerationSearchParamsBailoutProvider(a){let{Component:l,propsForComponent:u,isStaticGeneration:c}=a;if(c){let a=(0,g.createSearchParamsBailoutProxy)();return d.default.createElement(l,{searchParams:a,...u})}return d.default.createElement(l,u)}("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),a.exports=l.default)},9236:(a,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"useReducerWithReduxDevtools",{enumerable:!0,get:function(){return d}});let c=u(9885);function useReducerWithReduxDevtoolsNoop(a,l){let[u,d]=(0,c.useReducer)(a,l);return[u,d,()=>{}]}let d=useReducerWithReduxDevtoolsNoop;("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),a.exports=l.default)},9760:(a,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"hasBasePath",{enumerable:!0,get:function(){return hasBasePath}});let c=u(6364);function hasBasePath(a){return(0,c.pathHasPrefix)(a,"")}("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),a.exports=l.default)},6945:(a,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"normalizePathTrailingSlash",{enumerable:!0,get:function(){return normalizePathTrailingSlash}});let c=u(6923),d=u(5525),normalizePathTrailingSlash=a=>{if(!a.startsWith("/"))return a;let{pathname:l,query:u,hash:g}=(0,d.parsePath)(a);return""+(0,c.removeTrailingSlash)(l)+u+g};("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),a.exports=l.default)},4978:(a,l,u)=>{function removeBasePath(a){return a}Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"removeBasePath",{enumerable:!0,get:function(){return removeBasePath}}),u(9760),("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),a.exports=l.default)},755:(a,l)=>{function djb2Hash(a){let l=5381;for(let u=0;u<a.length;u++){let c=a.charCodeAt(u);l=(l<<5)+l+c}return Math.abs(l)}function hexHash(a){return djb2Hash(a).toString(36).slice(0,5)}Object.defineProperty(l,"__esModule",{value:!0}),function(a,l){for(var u in l)Object.defineProperty(a,u,{enumerable:!0,get:l[u]})}(l,{djb2Hash:function(){return djb2Hash},hexHash:function(){return hexHash}})},1118:(a,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),function(a,l){for(var u in l)Object.defineProperty(a,u,{enumerable:!0,get:l[u]})}(l,{NEXT_DYNAMIC_NO_SSR_CODE:function(){return u},throwWithNoSSR:function(){return throwWithNoSSR}});let u="NEXT_DYNAMIC_NO_SSR_CODE";function throwWithNoSSR(){let a=Error(u);throw a.digest=u,a}},1518:(a,l)=>{function ensureLeadingSlash(a){return a.startsWith("/")?a:"/"+a}Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"ensureLeadingSlash",{enumerable:!0,get:function(){return ensureLeadingSlash}})},8549:(a,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"addPathPrefix",{enumerable:!0,get:function(){return addPathPrefix}});let c=u(5525);function addPathPrefix(a,l){if(!a.startsWith("/")||!l)return a;let{pathname:u,query:d,hash:g}=(0,c.parsePath)(a);return""+l+u+d+g}},8321:(a,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),function(a,l){for(var u in l)Object.defineProperty(a,u,{enumerable:!0,get:l[u]})}(l,{normalizeAppPath:function(){return normalizeAppPath},normalizeRscURL:function(){return normalizeRscURL},normalizePostponedURL:function(){return normalizePostponedURL}});let c=u(1518),d=u(392),g=u(7310);function normalizeAppPath(a){return(0,c.ensureLeadingSlash)(a.split("/").reduce((a,l,u,c)=>!l||(0,d.isGroupSegment)(l)||"@"===l[0]||("page"===l||"route"===l)&&u===c.length-1?a:a+"/"+l,""))}function normalizeRscURL(a){return a.replace(/\.rsc($|\?)/,"$1")}function normalizePostponedURL(a){let l=(0,g.parse)(a),{pathname:u}=l;return u&&u.startsWith("/_next/postponed")?(u=u.substring(16)||"/",(0,g.format)({...l,pathname:u})):a}},4448:(a,l)=>{function handleSmoothScroll(a,l){if(void 0===l&&(l={}),l.onlyHashChange){a();return}let u=document.documentElement,c=u.style.scrollBehavior;u.style.scrollBehavior="auto",l.dontForceLayout||u.getClientRects(),a(),u.style.scrollBehavior=c}Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"handleSmoothScroll",{enumerable:!0,get:function(){return handleSmoothScroll}})},4692:(a,l)=>{function isBot(a){return/Googlebot|Mediapartners-Google|AdsBot-Google|googleweblight|Storebot-Google|Google-PageRenderer|Bingbot|BingPreview|Slurp|DuckDuckBot|baiduspider|yandex|sogou|LinkedInBot|bitlybot|tumblr|vkShare|quora link preview|facebookexternalhit|facebookcatalog|Twitterbot|applebot|redditbot|Slackbot|Discordbot|WhatsApp|SkypeUriPreview|ia_archiver/i.test(a)}Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"isBot",{enumerable:!0,get:function(){return isBot}})},5525:(a,l)=>{function parsePath(a){let l=a.indexOf("#"),u=a.indexOf("?"),c=u>-1&&(l<0||u<l);return c||l>-1?{pathname:a.substring(0,c?u:l),query:c?a.substring(u,l>-1?l:void 0):"",hash:l>-1?a.slice(l):""}:{pathname:a,query:"",hash:""}}Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"parsePath",{enumerable:!0,get:function(){return parsePath}})},6364:(a,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"pathHasPrefix",{enumerable:!0,get:function(){return pathHasPrefix}});let c=u(5525);function pathHasPrefix(a,l){if("string"!=typeof a)return!1;let{pathname:u}=(0,c.parsePath)(a);return u===l||u.startsWith(l+"/")}},6923:(a,l)=>{function removeTrailingSlash(a){return a.replace(/\/$/,"")||"/"}Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"removeTrailingSlash",{enumerable:!0,get:function(){return removeTrailingSlash}})},392:(a,l)=>{function isGroupSegment(a){return"("===a[0]&&a.endsWith(")")}Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"isGroupSegment",{enumerable:!0,get:function(){return isGroupSegment}})},5153:(a,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"createProxy",{enumerable:!0,get:function(){return d}});let c=u(5951),d=c.createClientModuleProxy},8730:(a,l,u)=>{let{createProxy:c}=u(5153);a.exports=c("C:\\Users\\Jacob\\df-web-v2\\node_modules\\next\\dist\\client\\components\\app-router.js")},7284:(a,l,u)=>{let{createProxy:c}=u(5153);a.exports=c("C:\\Users\\Jacob\\df-web-v2\\node_modules\\next\\dist\\client\\components\\error-boundary.js")},8165:(a,l,u)=>{let{createProxy:c}=u(5153);a.exports=c("C:\\Users\\Jacob\\df-web-v2\\node_modules\\next\\dist\\client\\components\\layout-router.js")},4009:(a,l,u)=>{let{createProxy:c}=u(5153);a.exports=c("C:\\Users\\Jacob\\df-web-v2\\node_modules\\next\\dist\\client\\components\\not-found-boundary.js")},9291:(a,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"default",{enumerable:!0,get:function(){return NotFound}});let c=u(5196),d=c._(u(3542)),g={error:{fontFamily:'system-ui,"Segoe UI",Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji"',height:"100vh",textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},desc:{display:"inline-block"},h1:{display:"inline-block",margin:"0 20px 0 0",padding:"0 23px 0 0",fontSize:24,fontWeight:500,verticalAlign:"top",lineHeight:"49px"},h2:{fontSize:14,fontWeight:400,lineHeight:"49px",margin:0}};function NotFound(){return d.default.createElement(d.default.Fragment,null,d.default.createElement("title",null,"404: This page could not be found."),d.default.createElement("div",{style:g.error},d.default.createElement("div",null,d.default.createElement("style",{dangerouslySetInnerHTML:{__html:"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}"}}),d.default.createElement("h1",{className:"next-error-h1",style:g.h1},"404"),d.default.createElement("div",{style:g.desc},d.default.createElement("h2",{style:g.h2},"This page could not be found.")))))}("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),a.exports=l.default)},5676:(a,l,u)=>{let{createProxy:c}=u(5153);a.exports=c("C:\\Users\\Jacob\\df-web-v2\\node_modules\\next\\dist\\client\\components\\render-from-template-context.js")},1263:(a,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"createSearchParamsBailoutProxy",{enumerable:!0,get:function(){return createSearchParamsBailoutProxy}});let c=u(3657);function createSearchParamsBailoutProxy(){return new Proxy({},{get(a,l){"string"==typeof l&&(0,c.staticGenerationBailout)("searchParams."+l)}})}("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),a.exports=l.default)},7701:(a,l,u)=>{let{createProxy:c}=u(5153);a.exports=c("C:\\Users\\Jacob\\df-web-v2\\node_modules\\next\\dist\\client\\components\\static-generation-searchparams-bailout-provider.js")},2564:(a,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),function(a,l){for(var u in l)Object.defineProperty(a,u,{enumerable:!0,get:l[u]})}(l,{renderToReadableStream:function(){return c.renderToReadableStream},decodeReply:function(){return c.decodeReply},decodeAction:function(){return c.decodeAction},decodeFormState:function(){return c.decodeFormState},AppRouter:function(){return d.default},LayoutRouter:function(){return g.default},RenderFromTemplateContext:function(){return v.default},staticGenerationAsyncStorage:function(){return S.staticGenerationAsyncStorage},requestAsyncStorage:function(){return w.requestAsyncStorage},actionAsyncStorage:function(){return x.actionAsyncStorage},staticGenerationBailout:function(){return j.staticGenerationBailout},createSearchParamsBailoutProxy:function(){return $.createSearchParamsBailoutProxy},serverHooks:function(){return H},preloadStyle:function(){return B.preloadStyle},preloadFont:function(){return B.preloadFont},preconnect:function(){return B.preconnect},taintObjectReference:function(){return W.taintObjectReference},StaticGenerationSearchParamsBailoutProvider:function(){return N.default},NotFoundBoundary:function(){return J}});let c=u(5951),d=_interop_require_default(u(8730)),g=_interop_require_default(u(8165)),v=_interop_require_default(u(5676)),S=u(5319),w=u(1877),x=u(5528),j=u(3657),N=_interop_require_default(u(7701)),$=u(1263),H=_interop_require_wildcard(u(9195)),B=u(8483),W=u(3369);function _interop_require_default(a){return a&&a.__esModule?a:{default:a}}function _getRequireWildcardCache(a){if("function"!=typeof WeakMap)return null;var l=new WeakMap,u=new WeakMap;return(_getRequireWildcardCache=function(a){return a?u:l})(a)}function _interop_require_wildcard(a,l){if(!l&&a&&a.__esModule)return a;if(null===a||"object"!=typeof a&&"function"!=typeof a)return{default:a};var u=_getRequireWildcardCache(l);if(u&&u.has(a))return u.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var g in a)if("default"!==g&&Object.prototype.hasOwnProperty.call(a,g)){var v=d?Object.getOwnPropertyDescriptor(a,g):null;v&&(v.get||v.set)?Object.defineProperty(c,g,v):c[g]=a[g]}return c.default=a,u&&u.set(a,c),c}let{NotFoundBoundary:J}=u(4009)},8483:(a,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),function(a,l){for(var u in l)Object.defineProperty(a,u,{enumerable:!0,get:l[u]})}(l,{preloadStyle:function(){return preloadStyle},preloadFont:function(){return preloadFont},preconnect:function(){return preconnect}});let c=_interop_require_default(u(8337));function _interop_require_default(a){return a&&a.__esModule?a:{default:a}}function preloadStyle(a,l){let u={as:"style"};"string"==typeof l&&(u.crossOrigin=l),c.default.preload(a,u)}function preloadFont(a,l,u){let d={as:"font",type:l};"string"==typeof u&&(d.crossOrigin=u),c.default.preload(a,d)}function preconnect(a,l){c.default.preconnect(a,"string"==typeof l?{crossOrigin:l}:void 0)}},3369:(a,l,u)=>{function notImplemented(){throw Error("Taint can only be used with the taint flag.")}Object.defineProperty(l,"__esModule",{value:!0}),function(a,l){for(var u in l)Object.defineProperty(a,u,{enumerable:!0,get:l[u]})}(l,{taintObjectReference:function(){return c},taintUniqueValue:function(){return d}}),u(3542);let c=notImplemented,d=notImplemented},8337:(a,l,u)=>{a.exports=u(7096).vendored["react-rsc"].ReactDOM},4656:(a,l,u)=>{a.exports=u(7096).vendored["react-rsc"].ReactJsxRuntime},5951:(a,l,u)=>{a.exports=u(7096).vendored["react-rsc"].ReactServerDOMWebpackServerEdge},5082:(a,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),function(a,l){for(var u in l)Object.defineProperty(a,u,{enumerable:!0,get:l[u]})}(l,{NEXT_QUERY_PARAM_PREFIX:function(){return u},PRERENDER_REVALIDATE_HEADER:function(){return c},PRERENDER_REVALIDATE_ONLY_GENERATED_HEADER:function(){return d},NEXT_DID_POSTPONE_HEADER:function(){return g},NEXT_CACHE_TAGS_HEADER:function(){return v},NEXT_CACHE_SOFT_TAGS_HEADER:function(){return S},NEXT_CACHE_REVALIDATED_TAGS_HEADER:function(){return w},NEXT_CACHE_REVALIDATE_TAG_TOKEN_HEADER:function(){return x},NEXT_CACHE_TAG_MAX_LENGTH:function(){return j},NEXT_CACHE_SOFT_TAG_MAX_LENGTH:function(){return N},NEXT_CACHE_IMPLICIT_TAG_ID:function(){return $},CACHE_ONE_YEAR:function(){return H},MIDDLEWARE_FILENAME:function(){return B},MIDDLEWARE_LOCATION_REGEXP:function(){return W},INSTRUMENTATION_HOOK_FILENAME:function(){return J},PAGES_DIR_ALIAS:function(){return ee},DOT_NEXT_ALIAS:function(){return en},ROOT_DIR_ALIAS:function(){return ea},APP_DIR_ALIAS:function(){return el},RSC_MOD_REF_PROXY_ALIAS:function(){return eu},RSC_ACTION_VALIDATE_ALIAS:function(){return ec},RSC_ACTION_PROXY_ALIAS:function(){return ed},RSC_ACTION_ENCRYPTION_ALIAS:function(){return eh},RSC_ACTION_CLIENT_WRAPPER_ALIAS:function(){return ef},PUBLIC_DIR_MIDDLEWARE_CONFLICT:function(){return ep},SSG_GET_INITIAL_PROPS_CONFLICT:function(){return e_},SERVER_PROPS_GET_INIT_PROPS_CONFLICT:function(){return eg},SERVER_PROPS_SSG_CONFLICT:function(){return ev},STATIC_STATUS_PAGE_GET_INITIAL_PROPS_ERROR:function(){return em},SERVER_PROPS_EXPORT_ERROR:function(){return ey},GSP_NO_RETURNED_VALUE:function(){return eb},GSSP_NO_RETURNED_VALUE:function(){return eE},UNSTABLE_REVALIDATE_RENAME_ERROR:function(){return eP},GSSP_COMPONENT_MEMBER_ERROR:function(){return eS},NON_STANDARD_NODE_ENV:function(){return eR},SSG_FALLBACK_EXPORT_ERROR:function(){return ew},ESLINT_DEFAULT_DIRS:function(){return ex},ESLINT_PROMPT_VALUES:function(){return eO},SERVER_RUNTIME:function(){return eT},WEBPACK_LAYERS:function(){return eC},WEBPACK_RESOURCE_QUERIES:function(){return ek}});let u="nxtP",c="x-prerender-revalidate",d="x-prerender-revalidate-if-generated",g="x-nextjs-postponed",v="x-next-cache-tags",S="x-next-cache-soft-tags",w="x-next-revalidated-tags",x="x-next-revalidate-tag-token",j=256,N=1024,$="_N_T_",H=31536e3,B="middleware",W=`(?:src/)?${B}`,J="instrumentation",ee="private-next-pages",en="private-dot-next",ea="private-next-root-dir",el="private-next-app-dir",eu="private-next-rsc-mod-ref-proxy",ec="private-next-rsc-action-validate",ed="private-next-rsc-action-proxy",eh="private-next-rsc-action-encryption",ef="private-next-rsc-action-client-wrapper",ep="You can not have a '_next' folder inside of your public folder. This conflicts with the internal '/_next' route. https://nextjs.org/docs/messages/public-next-folder-conflict",e_="You can not use getInitialProps with getStaticProps. To use SSG, please remove your getInitialProps",eg="You can not use getInitialProps with getServerSideProps. Please remove getInitialProps.",ev="You can not use getStaticProps or getStaticPaths with getServerSideProps. To use SSG, please remove getServerSideProps",em="can not have getInitialProps/getServerSideProps, https://nextjs.org/docs/messages/404-get-initial-props",ey="pages with `getServerSideProps` can not be exported. See more info here: https://nextjs.org/docs/messages/gssp-export",eb="Your `getStaticProps` function did not return an object. Did you forget to add a `return`?",eE="Your `getServerSideProps` function did not return an object. Did you forget to add a `return`?",eP="The `unstable_revalidate` property is available for general use.\nPlease use `revalidate` instead.",eS="can not be attached to a page's component and must be exported from the page. See more info here: https://nextjs.org/docs/messages/gssp-component-member",eR='You are using a non-standard "NODE_ENV" value in your environment. This creates inconsistencies in the project and is strongly advised against. Read more: https://nextjs.org/docs/messages/non-standard-node-env',ew="Pages with `fallback` enabled in `getStaticPaths` can not be exported. See more info here: https://nextjs.org/docs/messages/ssg-fallback-true-export",ex=["app","pages","components","lib","src"],eO=[{title:"Strict",recommended:!0,config:{extends:"next/core-web-vitals"}},{title:"Base",config:{extends:"next"}},{title:"Cancel",config:null}],eT={edge:"edge",experimentalEdge:"experimental-edge",nodejs:"nodejs"},eM={shared:"shared",reactServerComponents:"rsc",serverSideRendering:"ssr",actionBrowser:"action-browser",api:"api",middleware:"middleware",edgeAsset:"edge-asset",appPagesBrowser:"app-pages-browser",appMetadataRoute:"app-metadata-route",appRouteHandler:"app-route-handler"},eC={...eM,GROUP:{server:[eM.reactServerComponents,eM.actionBrowser,eM.appMetadataRoute,eM.appRouteHandler],nonClientServerTarget:[eM.middleware,eM.api],app:[eM.reactServerComponents,eM.actionBrowser,eM.appMetadataRoute,eM.appRouteHandler,eM.serverSideRendering,eM.appPagesBrowser]}},ek={edgeSSREntry:"__next_edge_ssr_entry__",metadata:"__next_metadata__",metadataRoute:"__next_metadata_route__",metadataImageMeta:"__next_metadata_image_meta__"}},2290:(a,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"getSegmentParam",{enumerable:!0,get:function(){return getSegmentParam}});let c=u(4265);function getSegmentParam(a){let l=c.INTERCEPTION_ROUTE_MARKERS.find(l=>a.startsWith(l));return(l&&(a=a.slice(l.length)),a.startsWith("[[...")&&a.endsWith("]]"))?{type:"optional-catchall",param:a.slice(5,-2)}:a.startsWith("[...")&&a.endsWith("]")?{type:"catchall",param:a.slice(4,-1)}:a.startsWith("[")&&a.endsWith("]")?{type:"dynamic",param:a.slice(1,-1)}:null}},4265:(a,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),function(a,l){for(var u in l)Object.defineProperty(a,u,{enumerable:!0,get:l[u]})}(l,{INTERCEPTION_ROUTE_MARKERS:function(){return d},isInterceptionRouteAppPath:function(){return isInterceptionRouteAppPath},extractInterceptionRouteInformation:function(){return extractInterceptionRouteInformation}});let c=u(8321),d=["(..)(..)","(.)","(..)","(...)"];function isInterceptionRouteAppPath(a){return void 0!==a.split("/").find(a=>d.find(l=>a.startsWith(l)))}function extractInterceptionRouteInformation(a){let l,u,g;for(let c of a.split("/"))if(u=d.find(a=>c.startsWith(a))){[l,g]=a.split(u,2);break}if(!l||!u||!g)throw Error(`Invalid interception route: ${a}. Must be in the format /<intercepting route>/(..|...|..)(..)/<intercepted route>`);switch(l=(0,c.normalizeAppPath)(l),u){case"(.)":g="/"===l?`/${g}`:l+"/"+g;break;case"(..)":if("/"===l)throw Error(`Invalid interception route: ${a}. Cannot use (..) marker at the root level, use (.) instead.`);g=l.split("/").slice(0,-1).concat(g).join("/");break;case"(...)":g="/"+g;break;case"(..)(..)":let v=l.split("/");if(v.length<=2)throw Error(`Invalid interception route: ${a}. Cannot use (..)(..) marker at the root level or one level up.`);g=v.slice(0,-2).concat(g).join("/");break;default:throw Error("Invariant: unexpected marker")}return{interceptingRoute:l,interceptedRoute:g}}},316:(a,l,u)=>{a.exports=u(399)},2428:(a,l,u)=>{a.exports=u(316).vendored.contexts.AppRouterContext},1736:(a,l,u)=>{a.exports=u(316).vendored.contexts.HooksClientContext},5753:(a,l,u)=>{a.exports=u(316).vendored.contexts.ServerInsertedHtml},8908:(a,l,u)=>{a.exports=u(316).vendored["react-ssr"].ReactDOM},784:(a,l,u)=>{a.exports=u(316).vendored["react-ssr"].ReactJsxRuntime},2623:(a,l,u)=>{a.exports=u(316).vendored["react-ssr"].ReactServerDOMWebpackClientEdge},9885:(a,l,u)=>{a.exports=u(316).vendored["react-ssr"].React},7615:(a,l,u)=>{u.d(l,{ZP:()=>i6});var c="undefined"!=typeof window?window:void 0,d="undefined"!=typeof globalThis?globalThis:c,g=Array.prototype,v=g.forEach,S=g.indexOf,w=null==d?void 0:d.navigator,x=null==d?void 0:d.document,j=null==d?void 0:d.location,N=null==d?void 0:d.fetch,$=null!=d&&d.XMLHttpRequest&&"withCredentials"in new d.XMLHttpRequest?d.XMLHttpRequest:void 0,H=null==d?void 0:d.AbortController,B=null==w?void 0:w.userAgent,W=null!=c?c:{},J={DEBUG:!1,LIB_VERSION:"1.261.0"};function f(){return(f=Object.assign?Object.assign.bind():function(a){for(var l=1;l<arguments.length;l++){var u=arguments[l];for(var c in u)({}).hasOwnProperty.call(u,c)&&(a[c]=u[c])}return a}).apply(null,arguments)}function p(a,l){if(null==a)return{};var u={};for(var c in a)if(({}).hasOwnProperty.call(a,c)){if(-1!==l.indexOf(c))continue;u[c]=a[c]}return u}var ee=["$snapshot","$pageview","$pageleave","$set","survey dismissed","survey sent","survey shown","$identify","$groupidentify","$create_alias","$$client_ingestion_warning","$web_experiment_applied","$feature_enrollment_update","$feature_flag_called"];function _(a,l){return -1!==a.indexOf(l)}var m=function(a){return a.trim()},b=function(a){return a.replace(/^\$/,"")},en=Array.isArray,ea=Object.prototype,el=ea.hasOwnProperty,eu=ea.toString,ec=en||function(a){return"[object Array]"===eu.call(a)},k=a=>"function"==typeof a,E=a=>a===Object(a)&&!ec(a),I=a=>{if(E(a)){for(var l in a)if(el.call(a,l))return!1;return!0}return!1},P=a=>void 0===a,R=a=>"[object String]"==eu.call(a),T=a=>R(a)&&0===a.trim().length,C=a=>null===a,M=a=>P(a)||C(a),F=a=>"[object Number]"==eu.call(a),O=a=>"[object Boolean]"===eu.call(a),A=a=>a instanceof FormData,D=a=>_(ee,a),ed=[!0,"true",1,"1","yes"],L=a=>_(ed,a),eh=[!1,"false",0,"0","no"];function z(a,l,u,c,d){return l>u&&(c.warn("min cannot be greater than max."),l=u),F(a)?a>u?(c.warn(" cannot be  greater than max: "+u+". Using max value instead."),u):a<l?(c.warn(" cannot be less than min: "+l+". Using min value instead."),l):a:(c.warn(" must be a number. using max or fallback. max: "+u+", fallback: "+d),z(d||u,l,u,c))}let U=class U{stop(){this.t&&(clearInterval(this.t),this.t=void 0)}constructor(a){this.i=a,this.o={},this.h=()=>{Object.keys(this.o).forEach(a=>{var l=this.m(a)+this.S;l>=this.$?delete this.o[a]:this.k(a,l)})},this.m=a=>this.o[String(a)],this.k=(a,l)=>{this.o[String(a)]=l},this.consumeRateLimit=a=>{var l,u=null!=(l=this.m(a))?l:this.$;if(0===(u=Math.max(u-1,0)))return!0;this.k(a,u);var c,d=0===u;return d&&(null==(c=this.I)||c.call(this,a)),d},this.I=this.i.I,this.$=z(this.i.bucketSize,0,100,this.i.P),this.S=z(this.i.refillRate,0,this.$,this.i.P),this.R=z(this.i.refillInterval,0,864e5,this.i.P),this.t=setInterval(()=>{this.h()},this.R)}};var q=a=>{var l={T:function(l){if(c&&(J.DEBUG||W.POSTHOG_DEBUG)&&!P(c.console)&&c.console){for(var u=("__rrweb_original__"in c.console[l])?c.console[l].__rrweb_original__:c.console[l],d=arguments.length,g=Array(d>1?d-1:0),v=1;v<d;v++)g[v-1]=arguments[v];u(a,...g)}},info:function(){for(var a=arguments.length,u=Array(a),c=0;c<a;c++)u[c]=arguments[c];l.T("log",...u)},warn:function(){for(var a=arguments.length,u=Array(a),c=0;c<a;c++)u[c]=arguments[c];l.T("warn",...u)},error:function(){for(var a=arguments.length,u=Array(a),c=0;c<a;c++)u[c]=arguments[c];l.T("error",...u)},critical:function(){for(var l=arguments.length,u=Array(l),c=0;c<l;c++)u[c]=arguments[c];console.error(a,...u)},uninitializedWarning:a=>{l.error("You must initialize PostHog before calling "+a)},createLogger:l=>q(a+" "+l)};return l},ef=q("[PostHog.js]"),ep=ef.createLogger,e_=ep("[ExternalScriptsLoader]"),G=(a,l,u)=>{if(a.config.disable_external_dependency_loading)return e_.warn(l+" was requested but loading of external scripts is disabled."),u("Loading of external scripts is disabled");var c=null==x?void 0:x.querySelectorAll("script");if(c){for(var d=0;d<c.length;d++)if(c[d].src===l)return u()}var n=()=>{if(!x)return u("document not found");var c=x.createElement("script");if(c.type="text/javascript",c.crossOrigin="anonymous",c.src=l,c.onload=a=>u(void 0,a),c.onerror=a=>u(a),a.config.prepare_external_dependency_script&&(c=a.config.prepare_external_dependency_script(c)),!c)return u("prepare_external_dependency_script returned null");var d,g=x.querySelectorAll("body > script");g.length>0?null==(d=g[0].parentNode)||d.insertBefore(c,g[0]):x.body.appendChild(c)};null!=x&&x.body?n():null==x||x.addEventListener("DOMContentLoaded",n)};W.__PosthogExtensions__=W.__PosthogExtensions__||{},W.__PosthogExtensions__.loadExternalDependency=(a,l,u)=>{var c="/static/"+l+".js?v="+a.version;"remote-config"===l&&(c="/array/"+a.config.token+"/config.js"),"toolbar"===l&&(c=c+"&t="+3e5*Math.floor(Date.now()/3e5));var d=a.requestRouter.endpointFor("assets",c);G(a,d,u)},W.__PosthogExtensions__.loadSiteApp=(a,l,u)=>{var c=a.requestRouter.endpointFor("api",l);G(a,c,u)};var eg={};function V(a,l,u){if(ec(a)){if(v&&a.forEach===v)a.forEach(l,u);else if("length"in a&&a.length===+a.length){for(var c=0,d=a.length;c<d;c++)if(c in a&&l.call(u,a[c],c)===eg)return}}}function K(a,l,u){if(!M(a)){if(ec(a))return V(a,l,u);if(A(a)){for(var c of a.entries())if(l.call(u,c[1],c[0])===eg)return}else for(var d in a)if(el.call(a,d)&&l.call(u,a[d],d)===eg)return}}var Y=function(a){for(var l=arguments.length,u=Array(l>1?l-1:0),c=1;c<l;c++)u[c-1]=arguments[c];return V(u,function(l){for(var u in l)void 0!==l[u]&&(a[u]=l[u])}),a},X=function(a){for(var l=arguments.length,u=Array(l>1?l-1:0),c=1;c<l;c++)u[c-1]=arguments[c];return V(u,function(l){V(l,function(l){a.push(l)})}),a};function Q(a){for(var l=Object.keys(a),u=l.length,c=Array(u);u--;)c[u]=[l[u],a[l[u]]];return c}var Z=function(a){try{return a()}catch(a){return}},tt=function(a){return function(){try{for(var l=arguments.length,u=Array(l),c=0;c<l;c++)u[c]=arguments[c];return a.apply(this,u)}catch(a){ef.critical("Implementation error. Please turn on debug mode and open a ticket on https://app.posthog.com/home#panel=support%3Asupport%3A."),ef.critical(a)}}},it=function(a){var l={};return K(a,function(a,u){(R(a)&&a.length>0||F(a))&&(l[u]=a)}),l};function et(a,l){var u,c;return u=a=>R(a)&&!C(l)?a.slice(0,l):a,c=new Set,function t(a,l){var d;return a!==Object(a)?u?u(a,l):a:c.has(a)?void 0:(c.add(a),ec(a)?(d=[],V(a,a=>{d.push(t(a))})):(d={},K(a,(a,l)=>{c.has(a)||(d[l]=t(a,l))})),d)}(a)}var ev=["herokuapp.com","vercel.app","netlify.app"];function st(a){var l=null==a?void 0:a.hostname;if(!R(l))return!1;var u=l.split(".").slice(-2).join(".");for(var c of ev)if(u===c)return!1;return!0}function nt(a,l){for(var u=0;u<a.length;u++)if(l(a[u]))return a[u]}function ot(a,l,u,c){var{capture:d=!1,passive:g=!0}=null!=c?c:{};null==a||a.addEventListener(l,u,{capture:d,passive:g})}var em="$people_distinct_id",ey="__alias",eb="__timers",eE="$autocapture_disabled_server_side",eP="$heatmaps_enabled_server_side",eS="$exception_capture_enabled_server_side",eR="$error_tracking_suppression_rules",ew="$error_tracking_capture_extension_exceptions",ex="$web_vitals_enabled_server_side",eO="$dead_clicks_enabled_server_side",eT="$web_vitals_allowed_metrics",eM="$session_recording_enabled_server_side",eC="$console_log_recording_enabled_server_side",ek="$session_recording_network_payload_capture",eI="$session_recording_masking",eA="$session_recording_canvas_recording",eF="$replay_sample_rate",ej="$replay_minimum_duration",eN="$replay_script_config",eL="$sesid",eD="$session_is_sampled",e$="$session_recording_url_trigger_activated_session",eH="$session_recording_event_trigger_activated_session",eU="$enabled_feature_flags",eB="$early_access_features",eq="$feature_flag_details",eG="$stored_person_properties",eW="$stored_group_properties",ez="$surveys",eY="$surveys_activated",eV="$flag_call_reported",eK="$user_state",eX="$client_session_props",eJ="$capture_rate_limit",eZ="$initial_campaign_params",eQ="$initial_referrer_info",e0="$initial_person_info",e1="$epp",e2="__POSTHOG_TOOLBAR__",e3="$posthog_cookieless",e5=[em,ey,"__cmpns",eb,eM,eP,eL,eU,eR,eK,eB,eq,eW,eG,ez,eV,eX,eJ,eZ,eQ,e1,e0];function Vt(a){return a instanceof Element&&(a.id===e2||!(null==a.closest||!a.closest(".toolbar-global-fade-container")))}function Kt(a){return!!a&&1===a.nodeType}function Yt(a,l){return!!a&&!!a.tagName&&a.tagName.toLowerCase()===l.toLowerCase()}function Xt(a){return!!a&&3===a.nodeType}function Qt(a){return!!a&&11===a.nodeType}function Zt(a){return a?m(a).split(/\s+/):[]}function ti(a){var l=null==c?void 0:c.location.href;return!!(l&&a&&a.some(a=>l.match(a)))}function ii(a){var l="";switch(typeof a.className){case"string":l=a.className;break;case"object":l=(a.className&&"baseVal"in a.className?a.className.baseVal:null)||a.getAttribute("class")||"";break;default:l=""}return Zt(l)}function ei(a){return M(a)?null:m(a).split(/(\s+)/).filter(a=>gi(a)).join("").replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255)}function ri(a){var l="";return li(a)&&!ui(a)&&a.childNodes&&a.childNodes.length&&K(a.childNodes,function(a){var u;Xt(a)&&a.textContent&&(l+=null!==(u=ei(a.textContent))&&void 0!==u?u:"")}),m(l)}function si(a){var l;return P(a.target)?a.srcElement||null:null!=(l=a.target)&&l.shadowRoot?a.composedPath()[0]||null:a.target||null}var e4=["a","button","form","input","select","textarea","label"];function oi(a){var l=a.parentNode;return!(!l||!Kt(l))&&l}function ai(a,l,u,d,g){if(void 0===u&&(u=void 0),!c||!a||Yt(a,"html")||!Kt(a)||null!=(v=u)&&v.url_allowlist&&!ti(u.url_allowlist)||null!=(S=u)&&S.url_ignorelist&&ti(u.url_ignorelist))return!1;if(null!=(w=u)&&w.dom_event_allowlist){var v,S,w,x=u.dom_event_allowlist;if(x&&!x.some(a=>l.type===a))return!1}for(var j=!1,N=[a],$=!0,H=a;H.parentNode&&!Yt(H,"body");)if(Qt(H.parentNode))N.push(H.parentNode.host),H=H.parentNode.host;else{if(!($=oi(H)))break;if(d||e4.indexOf($.tagName.toLowerCase())>-1)j=!0;else{var B=c.getComputedStyle($);B&&"pointer"===B.getPropertyValue("cursor")&&(j=!0)}N.push($),H=$}if(!function(a,l){var u=null==l?void 0:l.element_allowlist;if(P(u))return!0;var c,s=function(a){if(u.some(l=>a.tagName.toLowerCase()===l))return{v:!0}};for(var d of a)if(c=s(d))return c.v;return!1}(N,u)||!function(a,l){var u=null==l?void 0:l.css_selector_allowlist;if(P(u))return!0;var c,s=function(a){if(u.some(l=>a.matches(l)))return{v:!0}};for(var d of a)if(c=s(d))return c.v;return!1}(N,u))return!1;var W=c.getComputedStyle(a);if(W&&"pointer"===W.getPropertyValue("cursor")&&"click"===l.type)return!0;var J=a.tagName.toLowerCase();switch(J){case"html":return!1;case"form":return(g||["submit"]).indexOf(l.type)>=0;case"input":case"select":case"textarea":return(g||["change","click"]).indexOf(l.type)>=0;default:return j?(g||["click"]).indexOf(l.type)>=0:(g||["click"]).indexOf(l.type)>=0&&(e4.indexOf(J)>-1||"true"===a.getAttribute("contenteditable"))}}function li(a){for(var l=a;l.parentNode&&!Yt(l,"body");l=l.parentNode){var u=ii(l);if(_(u,"ph-sensitive")||_(u,"ph-no-capture"))return!1}if(_(ii(a),"ph-include"))return!0;var c=a.type||"";if(R(c))switch(c.toLowerCase()){case"hidden":case"password":return!1}var d=a.name||a.id||"";return!(R(d)&&/^cc|cardnum|ccnum|creditcard|csc|cvc|cvv|exp|pass|pwd|routing|seccode|securitycode|securitynum|socialsec|socsec|ssn/i.test(d.replace(/[^a-zA-Z0-9]/g,"")))}function ui(a){return!!(Yt(a,"input")&&!["button","checkbox","submit","reset"].includes(a.type)||Yt(a,"select")||Yt(a,"textarea")||"true"===a.getAttribute("contenteditable"))}var e6="(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11})",e8=RegExp("^(?:"+e6+")$"),e9=new RegExp(e6),e7="\\d{3}-?\\d{2}-?\\d{4}",te=RegExp("^("+e7+")$"),tn=RegExp("("+e7+")");function gi(a,l){return void 0===l&&(l=!0),!(M(a)||R(a)&&(a=m(a),(l?e8:e9).test((a||"").replace(/[- ]/g,""))||(l?te:tn).test(a)))}function _i(a){var l=ri(a);return gi(l=(l+" "+mi(a)).trim())?l:""}function mi(a){var l="";return a&&a.childNodes&&a.childNodes.length&&K(a.childNodes,function(a){var u;if(a&&"span"===(null==(u=a.tagName)?void 0:u.toLowerCase()))try{var c=ri(a);l=(l+" "+c).trim(),a.childNodes&&a.childNodes.length&&(l=(l+" "+mi(a)).trim())}catch(a){ef.error("[AutoCapture]",a)}}),l}function bi(a){return a.map(a=>{var l,u,c={text:null==(l=a.$el_text)?void 0:l.slice(0,400),tag_name:a.tag_name,href:null==(u=a.attr__href)?void 0:u.slice(0,2048),attr_class:wi(a),attr_id:a.attr__id,nth_child:a.nth_child,nth_of_type:a.nth_of_type,attributes:{}};return Q(a).filter(a=>{var[l]=a;return 0===l.indexOf("attr__")}).forEach(a=>{var[l,u]=a;return c.attributes[l]=u}),c}).map(a=>{var l,u,c="";if(a.tag_name&&(c+=a.tag_name),a.attr_class)for(var d of(a.attr_class.sort(),a.attr_class))c+="."+d.replace(/"/g,"");var g=f({},a.text?{text:a.text}:{},{"nth-child":null!==(l=a.nth_child)&&void 0!==l?l:0,"nth-of-type":null!==(u=a.nth_of_type)&&void 0!==u?u:0},a.href?{href:a.href}:{},a.attr_id?{attr_id:a.attr_id}:{},a.attributes),v={};return Q(g).sort((a,l)=>{var[u]=a,[c]=l;return u.localeCompare(c)}).forEach(a=>{var[l,u]=a;return v[yi(l.toString())]=yi(u.toString())}),c+=":"+Q(v).map(a=>{var[l,u]=a;return l+'="'+u+'"'}).join("")}).join(";")}function yi(a){return a.replace(/"|\\"/g,'\\"')}function wi(a){var l=a.attr__class;return l?ec(l)?l:Zt(l):void 0}let Si=class Si{constructor(){this.clicks=[]}isRageClick(a,l,u){var c=this.clicks[this.clicks.length-1];if(c&&Math.abs(a-c.x)+Math.abs(l-c.y)<30&&u-c.timestamp<1e3){if(this.clicks.push({x:a,y:l,timestamp:u}),3===this.clicks.length)return!0}else this.clicks=[{x:a,y:l,timestamp:u}];return!1}};var tl="$copy_autocapture",tu=function(a){return a.GZipJS="gzip-js",a.Base64="base64",a}({}),tc=["fatal","error","warning","log","info","debug"],td=["localhost","127.0.0.1"],Ii=a=>{var l=null==x?void 0:x.createElement("a");return P(l)?null:(l.href=a,l)},Pi=function(a,l){void 0===l&&(l="&");var u,c,d=[];return K(a,function(a,l){P(a)||P(l)||"undefined"===l||(u=encodeURIComponent(a instanceof File?a.name:a.toString()),c=encodeURIComponent(l),d[d.length]=c+"="+u)}),d.join(l)},Ri=function(a,l){for(var u,c=((a.split("#")[0]||"").split(/\?(.*)/)[1]||"").replace(/^\?+/g,"").split("&"),d=0;d<c.length;d++){var g=c[d].split("=");if(g[0]===l){u=g;break}}if(!ec(u)||u.length<2)return"";var v=u[1];try{v=decodeURIComponent(v)}catch(a){ef.error("Skipping decoding for malformed query param: "+v)}return v.replace(/\+/g," ")},Ti=function(a,l,u){if(!a||!l||!l.length)return a;for(var c=a.split("#"),d=c[0]||"",g=c[1],v=d.split("?"),S=v[1],w=v[0],x=(S||"").split("&"),j=[],N=0;N<x.length;N++){var $=x[N].split("=");ec($)&&(l.includes($[0])?j.push($[0]+"="+u):j.push(x[N]))}var H=w;return null!=S&&(H+="?"+j.join("&")),null!=g&&(H+="#"+g),H},Ci=function(a,l){var u=a.match(RegExp(l+"=([^&]*)"));return u?u[1]:null},th=ep("[AutoCapture]");function Fi(a,l){return l.length>a?l.slice(0,a)+"...":l}function Oi(a){if(a.previousElementSibling)return a.previousElementSibling;var l=a;do l=l.previousSibling;while(l&&!Kt(l));return l}function Ai(a,l,u,c){var d=a.tagName.toLowerCase(),g={tag_name:d};e4.indexOf(d)>-1&&!u&&("a"===d.toLowerCase()||"button"===d.toLowerCase()?g.$el_text=Fi(1024,_i(a)):g.$el_text=Fi(1024,ri(a)));var v=ii(a);v.length>0&&(g.classes=v.filter(function(a){return""!==a})),K(a.attributes,function(u){var d;if((!ui(a)||-1!==["name","id","class","aria-label"].indexOf(u.name))&&(null==c||!c.includes(u.name))&&!l&&gi(u.value)&&(!R(d=u.name)||"_ngcontent"!==d.substring(0,10)&&"_nghost"!==d.substring(0,7))){var v=u.value;"class"===u.name&&(v=Zt(v).join(" ")),g["attr__"+u.name]=Fi(1024,v)}});for(var S=1,w=1,x=a;x=Oi(x);)S++,x.tagName===a.tagName&&w++;return g.nth_child=S,g.nth_of_type=w,g}function Di(a,l){for(var u,d,{e:g,maskAllElementAttributes:v,maskAllText:S,elementAttributeIgnoreList:w,elementsChainAsString:x}=l,j=[a],N=a;N.parentNode&&!Yt(N,"body");)Qt(N.parentNode)?(j.push(N.parentNode.host),N=N.parentNode.host):(j.push(N.parentNode),N=N.parentNode);var $,H=[],B={},W=!1,J=!1;if(K(j,a=>{var l=li(a);"a"===a.tagName.toLowerCase()&&(W=a.getAttribute("href"),W=l&&W&&gi(W)&&W),_(ii(a),"ph-no-capture")&&(J=!0),H.push(Ai(a,v,S,w)),Y(B,function(a){if(!li(a))return{};var l={};return K(a.attributes,function(a){if(a.name&&0===a.name.indexOf("data-ph-capture-attribute")){var u=a.name.replace("data-ph-capture-attribute-",""),c=a.value;u&&c&&gi(c)&&(l[u]=c)}}),l}(a))}),J)return{props:{},explicitNoCapture:J};if(S||("a"===a.tagName.toLowerCase()||"button"===a.tagName.toLowerCase()?H[0].$el_text=_i(a):H[0].$el_text=ri(a)),W){H[0].attr__href=W;var ee,en,ea=null==(ee=Ii(W))?void 0:ee.host,el=null==c||null==(en=c.location)?void 0:en.host;ea&&el&&ea!==el&&($=W)}return{props:Y({$event_type:g.type,$ce_version:1},x?{}:{$elements:H},{$elements_chain:bi(H)},null!=(u=H[0])&&u.$el_text?{$el_text:null==(d=H[0])?void 0:d.$el_text}:{},$&&"click"===g.type?{$external_click_url:$}:{},B)}}let ji=class ji{constructor(a){this.C=!1,this.M=null,this.rageclicks=new Si,this.F=!1,this.instance=a,this.O=null}get A(){var a,l,u=E(this.instance.config.autocapture)?this.instance.config.autocapture:{};return u.url_allowlist=null==(a=u.url_allowlist)?void 0:a.map(a=>new RegExp(a)),u.url_ignorelist=null==(l=u.url_ignorelist)?void 0:l.map(a=>new RegExp(a)),u}D(){if(this.isBrowserSupported()){if(c&&x){var i=a=>{a=a||(null==c?void 0:c.event);try{this.j(a)}catch(a){th.error("Failed to capture event",a)}};if(ot(x,"submit",i,{capture:!0}),ot(x,"change",i,{capture:!0}),ot(x,"click",i,{capture:!0}),this.A.capture_copied_text){var e=a=>{a=a||(null==c?void 0:c.event),this.j(a,tl)};ot(x,"copy",e,{capture:!0}),ot(x,"cut",e,{capture:!0})}}}else th.info("Disabling Automatic Event Collection because this browser is not supported")}startIfEnabled(){this.isEnabled&&!this.C&&(this.D(),this.C=!0)}onRemoteConfig(a){a.elementsChainAsString&&(this.F=a.elementsChainAsString),this.instance.persistence&&this.instance.persistence.register({[eE]:!!a.autocapture_opt_out}),this.M=!!a.autocapture_opt_out,this.startIfEnabled()}setElementSelectors(a){this.O=a}getElementSelectors(a){var l,u=[];return null==(l=this.O)||l.forEach(l=>{var c=null==x?void 0:x.querySelectorAll(l);null==c||c.forEach(c=>{a===c&&u.push(l)})}),u}get isEnabled(){var a,l,u=null==(a=this.instance.persistence)?void 0:a.props[eE];if(C(this.M)&&!O(u)&&!this.instance.L())return!1;var c=null!==(l=this.M)&&void 0!==l?l:!!u;return!!this.instance.config.autocapture&&!c}j(a,l){if(void 0===l&&(l="$autocapture"),this.isEnabled){var u,d=si(a);Xt(d)&&(d=d.parentNode||null),"$autocapture"===l&&"click"===a.type&&a instanceof MouseEvent&&this.instance.config.rageclick&&null!=(u=this.rageclicks)&&u.isRageClick(a.clientX,a.clientY,(new Date).getTime())&&this.j(a,"$rageclick");var g=l===tl;if(d&&ai(d,a,this.A,g,g?["copy","cut"]:void 0)){var{props:v,explicitNoCapture:S}=Di(d,{e:a,maskAllElementAttributes:this.instance.config.mask_all_element_attributes,maskAllText:this.instance.config.mask_all_text,elementAttributeIgnoreList:this.A.element_attribute_ignorelist,elementsChainAsString:this.F});if(S)return!1;var w=this.getElementSelectors(d);if(w&&w.length>0&&(v.$element_selectors=w),l===tl){var x,j=ei(null==c||null==(x=c.getSelection())?void 0:x.toString()),N=a.type||"clipboard";if(!j)return!1;v.$selected_content=j,v.$copy_type=N}return this.instance.capture(l,v),!0}}}isBrowserSupported(){return k(null==x?void 0:x.querySelectorAll)}};Math.trunc||(Math.trunc=function(a){return a<0?Math.ceil(a):Math.floor(a)}),Number.isInteger||(Number.isInteger=function(a){return F(a)&&isFinite(a)&&Math.floor(a)===a});var tf="0123456789abcdef";let Ni=class Ni{constructor(a){if(this.bytes=a,16!==a.length)throw TypeError("not 128-bit length")}static fromFieldsV7(a,l,u,c){if(!Number.isInteger(a)||!Number.isInteger(l)||!Number.isInteger(u)||!Number.isInteger(c)||a<0||l<0||u<0||c<0||a>0xffffffffffff||l>4095||u>1073741823||c>4294967295)throw RangeError("invalid field value");var d=new Uint8Array(16);return d[0]=a/1099511627776,d[1]=a/4294967296,d[2]=a/16777216,d[3]=a/65536,d[4]=a/256,d[5]=a,d[6]=112|l>>>8,d[7]=l,d[8]=128|u>>>24,d[9]=u>>>16,d[10]=u>>>8,d[11]=u,d[12]=c>>>24,d[13]=c>>>16,d[14]=c>>>8,d[15]=c,new Ni(d)}toString(){for(var a="",l=0;l<this.bytes.length;l++)a=a+tf.charAt(this.bytes[l]>>>4)+tf.charAt(15&this.bytes[l]),3!==l&&5!==l&&7!==l&&9!==l||(a+="-");if(36!==a.length)throw Error("Invalid UUIDv7 was generated");return a}clone(){return new Ni(this.bytes.slice(0))}equals(a){return 0===this.compareTo(a)}compareTo(a){for(var l=0;l<16;l++){var u=this.bytes[l]-a.bytes[l];if(0!==u)return Math.sign(u)}return 0}};let zi=class zi{constructor(){this.N=0,this.U=0,this.q=new Bi}generate(){var a=this.generateOrAbort();if(P(a)){this.N=0;var l=this.generateOrAbort();if(P(l))throw Error("Could not generate UUID after timestamp reset");return l}return a}generateOrAbort(){var a=Date.now();if(a>this.N)this.N=a,this.B();else{if(!(a+1e4>this.N))return;this.U++,this.U>4398046511103&&(this.N++,this.B())}return Ni.fromFieldsV7(this.N,Math.trunc(this.U/1073741824),1073741823&this.U,this.q.nextUint32())}B(){this.U=1024*this.q.nextUint32()+(1023&this.q.nextUint32())}};var tp,qi=a=>{if("undefined"!=typeof UUIDV7_DENY_WEAK_RNG&&UUIDV7_DENY_WEAK_RNG)throw Error("no cryptographically strong RNG available");for(var l=0;l<a.length;l++)a[l]=65536*Math.trunc(65536*Math.random())+Math.trunc(65536*Math.random());return a};c&&!P(c.crypto)&&crypto.getRandomValues&&(qi=a=>crypto.getRandomValues(a));let Bi=class Bi{constructor(){this.H=new Uint32Array(8),this.W=1/0}nextUint32(){return this.W>=this.H.length&&(qi(this.H),this.W=0),this.H[this.W++]}};var Hi=()=>Wi().toString(),Wi=()=>(tp||(tp=new zi)).generate(),t_="",tg=/[a-z0-9][a-z0-9-]+\.[a-z]{2,}$/i;function Vi(a,l){if(l){var u=function(a,l){if(void 0===l&&(l=x),t_)return t_;if(!l||["localhost","127.0.0.1"].includes(a))return"";for(var u=a.split("."),c=Math.min(u.length,8),d="dmn_chk_"+Hi();!t_&&c--;){var g=u.slice(c).join("."),v=d+"=1;domain=."+g+";path=/";l.cookie=v+";max-age=3",l.cookie.includes(d)&&(l.cookie=v+";max-age=0",t_=g)}return t_}(a);if(!u){var c,d=(c=a.match(tg))?c[0]:"";d!==u&&ef.info("Warning: cookie subdomain discovery mismatch",d,u),u=d}return u?"; domain=."+u:""}return""}var tv={G:()=>!!x,J:function(a){ef.error("cookieStore error: "+a)},V:function(a){if(x){try{for(var l=a+"=",u=x.cookie.split(";").filter(a=>a.length),c=0;c<u.length;c++){for(var d=u[c];" "==d.charAt(0);)d=d.substring(1,d.length);if(0===d.indexOf(l))return decodeURIComponent(d.substring(l.length,d.length))}}catch(a){}return null}},K:function(a){var l;try{l=JSON.parse(tv.V(a))||{}}catch(a){}return l},Y:function(a,l,u,c,d){if(x)try{var g="",v="",S=Vi(x.location.hostname,c);if(u){var w=new Date;w.setTime(w.getTime()+24*u*36e5),g="; expires="+w.toUTCString()}d&&(v="; secure");var j=a+"="+encodeURIComponent(JSON.stringify(l))+g+"; SameSite=Lax; path=/"+S+v;return j.length>3686.4&&ef.warn("cookieStore warning: large cookie, len="+j.length),x.cookie=j,j}catch(a){return}},X:function(a,l){if(null!=x&&x.cookie)try{tv.Y(a,"",-1,l)}catch(a){return}}},tm=null,ty={G:function(){if(!C(tm))return tm;var a=!0;if(P(c))a=!1;else try{var l="__mplssupport__";ty.Y(l,"xyz"),'"xyz"'!==ty.V(l)&&(a=!1),ty.X(l)}catch(l){a=!1}return a||ef.error("localStorage unsupported; falling back to cookie store"),tm=a,a},J:function(a){ef.error("localStorage error: "+a)},V:function(a){try{return null==c?void 0:c.localStorage.getItem(a)}catch(a){ty.J(a)}return null},K:function(a){try{return JSON.parse(ty.V(a))||{}}catch(a){}return null},Y:function(a,l){try{null==c||c.localStorage.setItem(a,JSON.stringify(l))}catch(a){ty.J(a)}},X:function(a){try{null==c||c.localStorage.removeItem(a)}catch(a){ty.J(a)}}},tb=["distinct_id",eL,eD,e1,e0],tE=f({},ty,{K:function(a){try{var l={};try{l=tv.K(a)||{}}catch(a){}var u=Y(l,JSON.parse(ty.V(a)||"{}"));return ty.Y(a,u),u}catch(a){}return null},Y:function(a,l,u,c,d,g){try{ty.Y(a,l,void 0,void 0,g);var v={};tb.forEach(a=>{l[a]&&(v[a]=l[a])}),Object.keys(v).length&&tv.Y(a,v,u,c,d,g)}catch(a){ty.J(a)}},X:function(a,l){try{null==c||c.localStorage.removeItem(a),tv.X(a,l)}catch(a){ty.J(a)}}}),tP={},tS={G:function(){return!0},J:function(a){ef.error("memoryStorage error: "+a)},V:function(a){return tP[a]||null},K:function(a){return tP[a]||null},Y:function(a,l){tP[a]=l},X:function(a){delete tP[a]}},tR=null,tw={G:function(){if(!C(tR))return tR;if(tR=!0,P(c))tR=!1;else try{var a="__support__";tw.Y(a,"xyz"),'"xyz"'!==tw.V(a)&&(tR=!1),tw.X(a)}catch(a){tR=!1}return tR},J:function(a){ef.error("sessionStorage error: ",a)},V:function(a){try{return null==c?void 0:c.sessionStorage.getItem(a)}catch(a){tw.J(a)}return null},K:function(a){try{return JSON.parse(tw.V(a))||null}catch(a){}return null},Y:function(a,l){try{null==c||c.sessionStorage.setItem(a,JSON.stringify(l))}catch(a){tw.J(a)}},X:function(a){try{null==c||c.sessionStorage.removeItem(a)}catch(a){tw.J(a)}}},tx=function(a){return a[a.PENDING=-1]="PENDING",a[a.DENIED=0]="DENIED",a[a.GRANTED=1]="GRANTED",a}({});let ne=class ne{constructor(a){this._instance=a}get A(){return this._instance.config}get consent(){return this.Z()?tx.DENIED:this.tt}isOptedOut(){return"always"===this.A.cookieless_mode||this.consent===tx.DENIED||this.consent===tx.PENDING&&(this.A.opt_out_capturing_by_default||"on_reject"===this.A.cookieless_mode)}isOptedIn(){return!this.isOptedOut()}isExplicitlyOptedOut(){return this.consent===tx.DENIED}optInOut(a){this.it.Y(this.et,a?1:0,this.A.cookie_expiration,this.A.cross_subdomain_cookie,this.A.secure_cookie)}reset(){this.it.X(this.et,this.A.cross_subdomain_cookie)}get et(){var{token:a,opt_out_capturing_cookie_prefix:l,consent_persistence_name:u}=this._instance.config;return u||(l?l+a:"__ph_opt_in_out_"+a)}get tt(){var a=this.it.V(this.et);return L(a)?tx.GRANTED:_(eh,a)?tx.DENIED:tx.PENDING}get it(){if(!this.rt){var a=this.A.opt_out_capturing_persistence_type;this.rt="localStorage"===a?ty:tv;var l="localStorage"===a?tv:ty;l.V(this.et)&&(this.rt.V(this.et)||this.optInOut(L(l.V(this.et))),l.X(this.et,this.A.cross_subdomain_cookie))}return this.rt}Z(){return!!this.A.respect_dnt&&!!nt([null==w?void 0:w.doNotTrack,null==w?void 0:w.msDoNotTrack,W.doNotTrack],a=>L(a))}};var tO=ep("[Dead Clicks]"),ae=()=>!0,le=a=>{var l,u=!(null==(l=a.instance.persistence)||!l.get_property(eO)),c=a.instance.config.capture_dead_clicks;return O(c)?c:u};let ue=class ue{get lazyLoadedDeadClicksAutocapture(){return this.st}constructor(a,l,u){this.instance=a,this.isEnabled=l,this.onCapture=u,this.startIfEnabled()}onRemoteConfig(a){this.instance.persistence&&this.instance.persistence.register({[eO]:null==a?void 0:a.captureDeadClicks}),this.startIfEnabled()}startIfEnabled(){this.isEnabled(this)&&this.nt(()=>{this.ot()})}nt(a){var l,u;null!=(l=W.__PosthogExtensions__)&&l.initDeadClicksAutocapture&&a(),null==(u=W.__PosthogExtensions__)||null==u.loadExternalDependency||u.loadExternalDependency(this.instance,"dead-clicks-autocapture",l=>{l?tO.error("failed to load script",l):a()})}ot(){var a;if(x){if(!this.st&&null!=(a=W.__PosthogExtensions__)&&a.initDeadClicksAutocapture){var l=E(this.instance.config.capture_dead_clicks)?this.instance.config.capture_dead_clicks:{};l.__onCapture=this.onCapture,this.st=W.__PosthogExtensions__.initDeadClicksAutocapture(this.instance,l),this.st.start(x),tO.info("starting...")}}else tO.error("`document` not found. Cannot start.")}stop(){this.st&&(this.st.stop(),this.st=void 0,tO.info("stopping..."))}};var tT=ep("[ExceptionAutocapture]");let de=class de{constructor(a){var l,u,d;this.lt=()=>{var a;if(c&&this.isEnabled&&null!=(a=W.__PosthogExtensions__)&&a.errorWrappingFunctions){var l=W.__PosthogExtensions__.errorWrappingFunctions.wrapOnError,u=W.__PosthogExtensions__.errorWrappingFunctions.wrapUnhandledRejection,d=W.__PosthogExtensions__.errorWrappingFunctions.wrapConsoleError;try{!this.ut&&this.A.capture_unhandled_errors&&(this.ut=l(this.captureException.bind(this))),!this.ht&&this.A.capture_unhandled_rejections&&(this.ht=u(this.captureException.bind(this))),!this.dt&&this.A.capture_console_errors&&(this.dt=d(this.captureException.bind(this)))}catch(a){tT.error("failed to start",a),this.vt()}}},this._instance=a,this.ct=!(null==(l=this._instance.persistence)||!l.props[eS]),this.A=this.ft(),this.gt=new U({refillRate:null!==(u=this._instance.config.error_tracking.__exceptionRateLimiterRefillRate)&&void 0!==u?u:1,bucketSize:null!==(d=this._instance.config.error_tracking.__exceptionRateLimiterBucketSize)&&void 0!==d?d:10,refillInterval:1e4,P:tT}),this.startIfEnabled()}ft(){var a=this._instance.config.capture_exceptions,l={capture_unhandled_errors:!1,capture_unhandled_rejections:!1,capture_console_errors:!1};return E(a)?l=f({},l,a):(P(a)?this.ct:a)&&(l=f({},l,{capture_unhandled_errors:!0,capture_unhandled_rejections:!0})),l}get isEnabled(){return this.A.capture_console_errors||this.A.capture_unhandled_errors||this.A.capture_unhandled_rejections}startIfEnabled(){this.isEnabled&&(tT.info("enabled"),this.nt(this.lt))}nt(a){var l,u;null!=(l=W.__PosthogExtensions__)&&l.errorWrappingFunctions&&a(),null==(u=W.__PosthogExtensions__)||null==u.loadExternalDependency||u.loadExternalDependency(this._instance,"exception-autocapture",l=>{if(l)return tT.error("failed to load script",l);a()})}vt(){var a,l,u;null==(a=this.ut)||a.call(this),this.ut=void 0,null==(l=this.ht)||l.call(this),this.ht=void 0,null==(u=this.dt)||u.call(this),this.dt=void 0}onRemoteConfig(a){var l=a.autocaptureExceptions;this.ct=!!l,this.A=this.ft(),this._instance.persistence&&this._instance.persistence.register({[eS]:this.ct}),this.startIfEnabled()}captureException(a){var l,u=this._instance.requestRouter.endpointFor("ui");a.$exception_personURL=u+"/project/"+this._instance.config.token+"/person/"+this._instance.get_distinct_id();var c=null!==(l=a.$exception_list[0].type)&&void 0!==l?l:"Exception";this.gt.consumeRateLimit(c)?tT.info("Skipping exception capture because of client rate limiting.",{exception:a.$exception_list[0].type}):this._instance.exceptions.sendExceptionEvent(a)}};function ve(a){return!P(Event)&&ce(a,Event)}function ce(a,l){try{return a instanceof l}catch(a){return!1}}function fe(a){switch(Object.prototype.toString.call(a)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object DOMError]":return!0;default:return ce(a,Error)}}function pe(a,l){return Object.prototype.toString.call(a)==="[object "+l+"]"}function ge(a){return pe(a,"DOMError")}var tM=/\(error: (.*)\)/;function ye(a,l,u,c){var d={platform:"web:javascript",filename:a,function:"<anonymous>"===l?"?":l,in_app:!0};return P(u)||(d.lineno=u),P(c)||(d.colno=c),d}var tC=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,tk=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,tI=/\((\S*)(?::(\d+))(?::(\d+))\)/,tA=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,tF=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,tj=function(){for(var a=arguments.length,l=Array(a),u=0;u<a;u++)l[u]=arguments[u];var c=l.sort((a,l)=>a[0]-l[0]).map(a=>a[1]);return function(a,l){void 0===l&&(l=0);for(var u=[],d=a.split("\n"),g=l;g<d.length;g++){var v=d[g];if(!(v.length>1024)){var S=tM.test(v)?v.replace(tM,"$1"):v;if(!S.match(/\S*Error: /)){for(var w of c){var x=w(S);if(x){u.push(x);break}}if(u.length>=50)break}}}return function(a){if(!a.length)return[];var l=Array.from(a);return l.reverse(),l.slice(0,50).map(a=>f({},a,{filename:a.filename||Ie(l).filename,function:a.function||"?"}))}(u)}}(...[[30,a=>{var l=tC.exec(a);if(l){var[,u,c,d]=l;return ye(u,"?",+c,+d)}var g=tk.exec(a);if(g){if(g[2]&&0===g[2].indexOf("eval")){var v=tI.exec(g[2]);v&&(g[2]=v[1],g[3]=v[2],g[4]=v[3])}var[S,w]=Ce(g[1]||"?",g[2]);return ye(w,S,g[3]?+g[3]:void 0,g[4]?+g[4]:void 0)}}],[50,a=>{var l=tA.exec(a);if(l){if(l[3]&&l[3].indexOf(" > eval")>-1){var u=tF.exec(l[3]);u&&(l[1]=l[1]||"eval",l[3]=u[1],l[4]=u[2],l[5]="")}var c=l[3],d=l[1]||"?";return[d,c]=Ce(d,c),ye(c,d,l[4]?+l[4]:void 0,l[5]?+l[5]:void 0)}}]]);function Ie(a){return a[a.length-1]||{}}var tN,tL,tD,Ce=(a,l)=>{var u=-1!==a.indexOf("safari-extension"),c=-1!==a.indexOf("safari-web-extension");return u||c?[-1!==a.indexOf("@")?a.split("@")[0]:"?",u?"safari-extension:"+l:"safari-web-extension:"+l]:[a,l]},t$=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;function Fe(a,l){void 0===l&&(l=0);var u=a.stacktrace||a.stack||"",c=a&&tH.test(a.message)?1:0;try{var d,g,v=(d=tj(u,c),g=function(a){var l=globalThis._posthogChunkIds;if(!l)return{};var u=Object.keys(l);return tD&&u.length===tL||(tL=u.length,tD=u.reduce((u,c)=>{tN||(tN={});var d=tN[c];if(d)u[d[0]]=d[1];else for(var g=a(c),v=g.length-1;v>=0;v--){var S=g[v],w=null==S?void 0:S.filename,x=l[c];if(w&&x){u[w]=x,tN[c]=[w,x];break}}return u},{})),tD}(tj),d.forEach(a=>{a.filename&&(a.chunk_id=g[a.filename])}),d);return v.slice(0,v.length-l)}catch(a){}return[]}var tH=/Minified React error #\d+;/i;function Ae(a,l){var u,c,d,g=Fe(a),v=null===(c=null==l?void 0:l.handled)||void 0===c||c,S=null!==(d=null==l?void 0:l.synthetic)&&void 0!==d&&d;return{type:null!=l&&l.overrideExceptionType?l.overrideExceptionType:a.name,value:(u=a.message).error&&"string"==typeof u.error.message?String(u.error.message):String(u),stacktrace:{frames:g,type:"raw"},mechanism:{handled:v,synthetic:S}}}function De(a,l){var u=Ae(a,l);return a.cause&&fe(a.cause)&&a.cause!==a?[u,...De(a.cause,{handled:null==l?void 0:l.handled,synthetic:null==l?void 0:l.synthetic})]:[u]}function je(a,l){return{$exception_list:De(a,l),$exception_level:"error"}}function Le(a,l){var u,c,d,g=null===(u=null==l?void 0:l.handled)||void 0===u||u,v=null===(c=null==l?void 0:l.synthetic)||void 0===c||c,S={type:null!=l&&l.overrideExceptionType?l.overrideExceptionType:null!==(d=null==l?void 0:l.defaultExceptionType)&&void 0!==d?d:"Error",value:a||(null==l?void 0:l.defaultExceptionMessage),mechanism:{handled:g,synthetic:v}};if(null!=l&&l.syntheticException){var w=Fe(l.syntheticException,1);w.length&&(S.stacktrace={frames:w,type:"raw"})}return{$exception_list:[S],$exception_level:"error"}}function Ne(a){return R(a)&&!T(a)&&tc.indexOf(a)>=0}function ze(a,l){var u,c,d=null===(u=null==l?void 0:l.handled)||void 0===u||u,g=null===(c=null==l?void 0:l.synthetic)||void 0===c||c,v={type:null!=l&&l.overrideExceptionType?l.overrideExceptionType:ve(a)?a.constructor.name:"Error",value:"Non-Error 'exception' captured with keys: "+function(a,l){void 0===l&&(l=40);var u=Object.keys(a);if(u.sort(),!u.length)return"[object has no keys]";for(var c=u.length;c>0;c--){var d=u.slice(0,c).join(", ");if(!(d.length>l))return c===u.length||d.length<=l?d:d.slice(0,l)+"..."}return""}(a),mechanism:{handled:d,synthetic:g}};if(null!=l&&l.syntheticException){var S=Fe(null==l?void 0:l.syntheticException,1);S.length&&(v.stacktrace={frames:S,type:"raw"})}return{$exception_list:[v],$exception_level:Ne(a.level)?a.level:"error"}}function Ue(a,l){var{error:u,event:c}=a,d={$exception_list:[]},g=u||c;if(ge(g)||pe(g,"DOMException")){if("stack"in g)d=je(g,l);else{var v=g.name||(ge(g)?"DOMError":"DOMException"),S=g.message?v+": "+g.message:v;d=Le(S,f({},l,{overrideExceptionType:ge(g)?"DOMError":"DOMException",defaultExceptionMessage:S}))}return"code"in g&&(d.$exception_DOMException_code=""+g.code),d}if(pe(g,"ErrorEvent")&&g.error)return je(g.error,l);if(fe(g))return je(g,l);if(pe(g,"Object")||ve(g))return ze(g,l);if(P(u)&&R(c)){var w="Error",x=c,j=c.match(t$);return j&&(w=j[1],x=j[2]),Le(x,f({},l,{overrideExceptionType:w,defaultExceptionMessage:x}))}return Le(g,l)}function qe(a,l,u){try{if(!(l in a))return()=>{};var c=a[l],d=u(c);return k(d)&&(d.prototype=d.prototype||{},Object.defineProperties(d,{__posthog_wrapped__:{enumerable:!1,value:!0}})),a[l]=d,()=>{a[l]=c}}catch(a){return()=>{}}}let Be=class Be{constructor(a){var l;this._instance=a,this._t=(null==c||null==(l=c.location)?void 0:l.pathname)||""}get isEnabled(){return"history_change"===this._instance.config.capture_pageview}startIfEnabled(){this.isEnabled&&(ef.info("History API monitoring enabled, starting..."),this.monitorHistoryChanges())}stop(){this.bt&&this.bt(),this.bt=void 0,ef.info("History API monitoring stopped")}monitorHistoryChanges(){var a,l;if(c&&c.history){var u=this;null!=(a=c.history.pushState)&&a.__posthog_wrapped__||qe(c.history,"pushState",a=>function(l,c,d){a.call(this,l,c,d),u.yt("pushState")}),null!=(l=c.history.replaceState)&&l.__posthog_wrapped__||qe(c.history,"replaceState",a=>function(l,c,d){a.call(this,l,c,d),u.yt("replaceState")}),this.wt()}}yt(a){try{var l,u=null==c||null==(l=c.location)?void 0:l.pathname;if(!u)return;u!==this._t&&this.isEnabled&&this._instance.capture("$pageview",{navigation_type:a}),this._t=u}catch(l){ef.error("Error capturing "+a+" pageview",l)}}wt(){if(!this.bt){var i=()=>{this.yt("popstate")};ot(c,"popstate",i),this.bt=()=>{c&&c.removeEventListener("popstate",i)}}}};function He(a){var l,u;return(null==(l=JSON.stringify(a,(u=[],function(a,l){if(E(l)){for(;u.length>0&&u[u.length-1]!==this;)u.pop();return u.includes(l)?"[Circular]":(u.push(l),l)}return l})))?void 0:l.length)||0}function We(a,l){if(void 0===l&&(l=6606028.8),a.size>=l&&a.data.length>1){var u=Math.floor(a.data.length/2),c=a.data.slice(0,u),d=a.data.slice(u);return[We({size:He(c),data:c,sessionId:a.sessionId,windowId:a.windowId}),We({size:He(d),data:d,sessionId:a.sessionId,windowId:a.windowId})].flatMap(a=>a)}return[a]}var tU=((i3=tU||{})[i3.DomContentLoaded=0]="DomContentLoaded",i3[i3.Load=1]="Load",i3[i3.FullSnapshot=2]="FullSnapshot",i3[i3.IncrementalSnapshot=3]="IncrementalSnapshot",i3[i3.Meta=4]="Meta",i3[i3.Custom=5]="Custom",i3[i3.Plugin=6]="Plugin",i3),tB=((i5=tB||{})[i5.Mutation=0]="Mutation",i5[i5.MouseMove=1]="MouseMove",i5[i5.MouseInteraction=2]="MouseInteraction",i5[i5.Scroll=3]="Scroll",i5[i5.ViewportResize=4]="ViewportResize",i5[i5.Input=5]="Input",i5[i5.TouchMove=6]="TouchMove",i5[i5.MediaInteraction=7]="MediaInteraction",i5[i5.StyleSheetRule=8]="StyleSheetRule",i5[i5.CanvasMutation=9]="CanvasMutation",i5[i5.Font=10]="Font",i5[i5.Log=11]="Log",i5[i5.Drag=12]="Drag",i5[i5.StyleDeclaration=13]="StyleDeclaration",i5[i5.Selection=14]="Selection",i5[i5.AdoptedStyleSheet=15]="AdoptedStyleSheet",i5[i5.CustomElement=16]="CustomElement",i5),tq="[SessionRecording]",tG="redacted",tW={initiatorTypes:["audio","beacon","body","css","early-hint","embed","fetch","frame","iframe","icon","image","img","input","link","navigation","object","ping","script","track","video","xmlhttprequest"],maskRequestFn:a=>a,recordHeaders:!1,recordBody:!1,recordInitialRequests:!1,recordPerformance:!1,performanceEntryTypeToObserve:["first-input","navigation","paint","resource"],payloadSizeLimitBytes:1e6,payloadHostDenyList:[".lr-ingest.io",".ingest.sentry.io",".clarity.ms","analytics.google.com","bam.nr-data.net"]},tz=["authorization","x-forwarded-for","authorization","cookie","set-cookie","x-api-key","x-real-ip","remote-addr","forwarded","proxy-authorization","x-csrf-token","x-csrftoken","x-xsrf-token"],tY=["password","secret","passwd","api_key","apikey","auth","credentials","mysql_pwd","privatekey","private_key","token"],tV=["/s/","/e/","/i/"];function tr(a,l,u,c){if(M(a))return a;var d=(null==l?void 0:l["content-length"])||new Blob([a]).size;return R(d)&&(d=parseInt(d)),d>u?tq+" "+c+" body too large to record ("+d+" bytes)":a}function ir(a,l){if(M(a))return a;var u=a;return gi(u,!1)||(u=tq+" "+l+" body "+tG),K(tY,a=>{var c,d;null!=(c=u)&&c.length&&-1!==(null==(d=u)?void 0:d.indexOf(a))&&(u=tq+" "+l+" body "+tG+" as might contain: "+a)}),u}var er=(a,l)=>{var u,c,d={payloadSizeLimitBytes:tW.payloadSizeLimitBytes,performanceEntryTypeToObserve:[...tW.performanceEntryTypeToObserve],payloadHostDenyList:[...l.payloadHostDenyList||[],...tW.payloadHostDenyList]},g=!1!==a.session_recording.recordHeaders&&l.recordHeaders,v=!1!==a.session_recording.recordBody&&l.recordBody,S=!1!==a.capture_performance&&l.recordPerformance,w=(c=Math.min(1e6,null!==(u=d.payloadSizeLimitBytes)&&void 0!==u?u:1e6),a=>(null!=a&&a.requestBody&&(a.requestBody=tr(a.requestBody,a.requestHeaders,c,"Request")),null!=a&&a.responseBody&&(a.responseBody=tr(a.responseBody,a.responseHeaders,c,"Response")),a)),h=l=>{var u;return w(((a,l)=>{var u,c=Ii(a.name),d=0===l.indexOf("http")?null==(u=Ii(l))?void 0:u.pathname:l;"/"===d&&(d="");var g=null==c?void 0:c.pathname.replace(d||"","");if(!(c&&g&&tV.some(a=>0===g.indexOf(a))))return a})((M(u=l.requestHeaders)||K(Object.keys(null!=u?u:{}),a=>{tz.includes(a.toLowerCase())&&(u[a]=tG)}),l),a.api_host))},x=k(a.session_recording.maskNetworkRequestFn);return x&&k(a.session_recording.maskCapturedNetworkRequestFn)&&ef.warn("Both `maskNetworkRequestFn` and `maskCapturedNetworkRequestFn` are defined. `maskNetworkRequestFn` will be ignored."),x&&(a.session_recording.maskCapturedNetworkRequestFn=l=>{var u=a.session_recording.maskNetworkRequestFn({url:l.name});return f({},l,{name:null==u?void 0:u.url})}),d.maskRequestFn=k(a.session_recording.maskCapturedNetworkRequestFn)?l=>{var u,c=h(l);return c&&null!==(u=null==a.session_recording.maskCapturedNetworkRequestFn?void 0:a.session_recording.maskCapturedNetworkRequestFn(c))&&void 0!==u?u:void 0}:a=>(function(a){if(!P(a))return a.requestBody=ir(a.requestBody,"Request"),a.responseBody=ir(a.responseBody,"Response"),a})(h(a)),f({},tW,d,{recordHeaders:g,recordBody:v,recordPerformance:S,recordInitialRequests:S})};let rr=class rr{constructor(a,l){var u,c;void 0===l&&(l={}),this.St={},this.$t=a=>{if(!this.St[a]){this.St[a]=!0;var l,u,c=this.xt(a);null==(l=(u=this.i).onBlockedNode)||l.call(u,a,c)}},this.kt=a=>{var l=this.xt(a);if("svg"!==(null==l?void 0:l.nodeName)&&l instanceof Element){var u=l.closest("svg");if(u)return[this._rrweb.mirror.getId(u),u]}return[a,l]},this.xt=a=>this._rrweb.mirror.getNode(a),this.Et=a=>{var l,u,c,d,g,v,S,w;return(null!==(l=null==(u=a.removes)?void 0:u.length)&&void 0!==l?l:0)+(null!==(c=null==(d=a.attributes)?void 0:d.length)&&void 0!==c?c:0)+(null!==(g=null==(v=a.texts)?void 0:v.length)&&void 0!==g?g:0)+(null!==(S=null==(w=a.adds)?void 0:w.length)&&void 0!==S?S:0)},this.throttleMutations=a=>{if(3!==a.type||0!==a.data.source)return a;var l=a.data,u=this.Et(l);l.attributes&&(l.attributes=l.attributes.filter(a=>{var[l]=this.kt(a.id);return!this.gt.consumeRateLimit(l)&&a}));var c=this.Et(l);return 0!==c||u===c?a:void 0},this._rrweb=a,this.i=l,this.gt=new U({bucketSize:null!==(u=this.i.bucketSize)&&void 0!==u?u:100,refillRate:null!==(c=this.i.refillRate)&&void 0!==c?c:10,refillInterval:1e3,I:this.$t,P:ef})}};var tK=Uint8Array,tX=Uint16Array,tJ=Uint32Array,tZ=new tK([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),tQ=new tK([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),t0=new tK([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),hr=function(a,l){for(var u=new tX(31),c=0;c<31;++c)u[c]=l+=1<<a[c-1];var d=new tJ(u[30]);for(c=1;c<30;++c)for(var g=u[c];g<u[c+1];++g)d[g]=g-u[c]<<5|c;return[u,d]},t1=hr(tZ,2),t2=t1[0],t3=t1[1];t2[28]=258,t3[258]=28;for(var t5=hr(tQ,0)[1],t4=new tX(32768),t6=0;t6<32768;++t6){var t8=(43690&t6)>>>1|(21845&t6)<<1;t8=(61680&(t8=(52428&t8)>>>2|(13107&t8)<<2))>>>4|(3855&t8)<<4,t4[t6]=((65280&t8)>>>8|(255&t8)<<8)>>>1}var mr=function(a,l,u){for(var c=a.length,d=0,g=new tX(l);d<c;++d)++g[a[d]-1];var v,S=new tX(l);for(d=0;d<l;++d)S[d]=S[d-1]+g[d-1]<<1;if(u){v=new tX(1<<l);var w=15-l;for(d=0;d<c;++d)if(a[d])for(var x=d<<4|a[d],j=l-a[d],N=S[a[d]-1]++<<j,$=N|(1<<j)-1;N<=$;++N)v[t4[N]>>>w]=x}else for(v=new tX(c),d=0;d<c;++d)v[d]=t4[S[a[d]-1]++]>>>15-a[d];return v},t9=new tK(288);for(t6=0;t6<144;++t6)t9[t6]=8;for(t6=144;t6<256;++t6)t9[t6]=9;for(t6=256;t6<280;++t6)t9[t6]=7;for(t6=280;t6<288;++t6)t9[t6]=8;var t7=new tK(32);for(t6=0;t6<32;++t6)t7[t6]=5;var re=mr(t9,9,0),rt=mr(t7,5,0),$r=function(a){return(a/8>>0)+(7&a&&1)},xr=function(a,l,u){(null==u||u>a.length)&&(u=a.length);var c=new(a instanceof tX?tX:a instanceof tJ?tJ:tK)(u-l);return c.set(a.subarray(l,u)),c},kr=function(a,l,u){u<<=7&l;var c=l/8>>0;a[c]|=u,a[c+1]|=u>>>8},Er=function(a,l,u){u<<=7&l;var c=l/8>>0;a[c]|=u,a[c+1]|=u>>>8,a[c+2]|=u>>>16},Ir=function(a,l){for(var u=[],c=0;c<a.length;++c)a[c]&&u.push({s:c,f:a[c]});var d=u.length,g=u.slice();if(!d)return[new tK(0),0];if(1==d){var v=new tK(u[0].s+1);return v[u[0].s]=1,[v,1]}u.sort(function(a,l){return a.f-l.f}),u.push({s:-1,f:25001});var S=u[0],w=u[1],x=0,j=1,N=2;for(u[0]={s:-1,f:S.f+w.f,l:S,r:w};j!=d-1;)S=u[u[x].f<u[N].f?x++:N++],w=u[x!=j&&u[x].f<u[N].f?x++:N++],u[j++]={s:-1,f:S.f+w.f,l:S,r:w};var $=g[0].s;for(c=1;c<d;++c)g[c].s>$&&($=g[c].s);var H=new tX($+1),B=Pr(u[j-1],H,0);if(B>l){c=0;var W=0,J=B-l,ee=1<<J;for(g.sort(function(a,l){return H[l.s]-H[a.s]||a.f-l.f});c<d;++c){var en=g[c].s;if(!(H[en]>l))break;W+=ee-(1<<B-H[en]),H[en]=l}for(W>>>=J;W>0;){var ea=g[c].s;H[ea]<l?W-=1<<l-H[ea]++-1:++c}for(;c>=0&&W;--c){var el=g[c].s;H[el]==l&&(--H[el],++W)}B=l}return[new tK(H),B]},Pr=function(a,l,u){return -1==a.s?Math.max(Pr(a.l,l,u+1),Pr(a.r,l,u+1)):l[a.s]=u},Rr=function(a){for(var l=a.length;l&&!a[--l];);for(var u=new tX(++l),c=0,d=a[0],g=1,o=function(a){u[c++]=a},v=1;v<=l;++v)if(a[v]==d&&v!=l)++g;else{if(!d&&g>2){for(;g>138;g-=138)o(32754);g>2&&(o(g>10?g-11<<5|28690:g-3<<5|12305),g=0)}else if(g>3){for(o(d),--g;g>6;g-=6)o(8304);g>2&&(o(g-3<<5|8208),g=0)}for(;g--;)o(d);g=1,d=a[v]}return[u.subarray(0,c),l]},Tr=function(a,l){for(var u=0,c=0;c<l.length;++c)u+=a[c]*l[c];return u},Cr=function(a,l,u){var c=u.length,d=$r(l+2);a[d]=255&c,a[d+1]=c>>>8,a[d+2]=255^a[d],a[d+3]=255^a[d+1];for(var g=0;g<c;++g)a[d+g+4]=u[g];return 8*(d+4+c)},Mr=function(a,l,u,c,d,g,v,S,w,x,j){kr(l,j++,u),++d[256];for(var N=Ir(d,15),$=N[0],H=N[1],B=Ir(g,15),W=B[0],J=B[1],ee=Rr($),en=ee[0],ea=ee[1],el=Rr(W),eu=el[0],ec=el[1],ed=new tX(19),eh=0;eh<en.length;++eh)ed[31&en[eh]]++;for(eh=0;eh<eu.length;++eh)ed[31&eu[eh]]++;for(var ef=Ir(ed,7),ep=ef[0],e_=ef[1],eg=19;eg>4&&!ep[t0[eg-1]];--eg);var ev,em,ey,eb,eE=x+5<<3,eP=Tr(d,t9)+Tr(g,t7)+v,eS=Tr(d,$)+Tr(g,W)+v+14+3*eg+Tr(ed,ep)+(2*ed[16]+3*ed[17]+7*ed[18]);if(eE<=eP&&eE<=eS)return Cr(l,j,a.subarray(w,w+x));if(kr(l,j,1+(eS<eP)),j+=2,eS<eP){ev=mr($,H,0),em=$,ey=mr(W,J,0),eb=W;var eR=mr(ep,e_,0);for(kr(l,j,ea-257),kr(l,j+5,ec-1),kr(l,j+10,eg-4),j+=14,eh=0;eh<eg;++eh)kr(l,j+3*eh,ep[t0[eh]]);j+=3*eg;for(var ew=[en,eu],ex=0;ex<2;++ex){var eO=ew[ex];for(eh=0;eh<eO.length;++eh){var eT=31&eO[eh];kr(l,j,eR[eT]),j+=ep[eT],eT>15&&(kr(l,j,eO[eh]>>>5&127),j+=eO[eh]>>>12)}}}else ev=re,em=t9,ey=rt,eb=t7;for(eh=0;eh<S;++eh)if(c[eh]>255){Er(l,j,ev[(eT=c[eh]>>>18&31)+257]),j+=em[eT+257],eT>7&&(kr(l,j,c[eh]>>>23&31),j+=tZ[eT]);var eM=31&c[eh];Er(l,j,ey[eM]),j+=eb[eM],eM>3&&(Er(l,j,c[eh]>>>5&8191),j+=tQ[eM])}else Er(l,j,ev[c[eh]]),j+=em[c[eh]];return Er(l,j,ev[256]),j+em[256]},rn=new tJ([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),ra=function(){for(var a=new tJ(256),l=0;l<256;++l){for(var u=l,c=9;--c;)u=(1&u&&3988292384)^u>>>1;a[l]=u}return a}(),Ar=function(){var a=4294967295;return{p:function(l){for(var u=a,c=0;c<l.length;++c)u=ra[255&u^l[c]]^u>>>8;a=u},d:function(){return 4294967295^a}}},jr=function(a,l,u){for(;u;++l)a[l]=u,u>>>=8},Lr=function(a,l){var u=l.filename;if(a[0]=31,a[1]=139,a[2]=8,a[8]=l.level<2?4:9==l.level?2:0,a[9]=3,0!=l.mtime&&jr(a,4,Math.floor(new Date(l.mtime||Date.now())/1e3)),u){a[3]=8;for(var c=0;c<=u.length;++c)a[c+10]=u.charCodeAt(c)}};function zr(a,l){void 0===l&&(l={});var u,c,d,g=Ar(),v=a.length;g.p(a);var S=(c=l,d=10+((u=l).filename&&u.filename.length+1||0),function(a,l,u,c,d,g){var v=a.length,S=new tK(c+v+5*(1+Math.floor(v/7e3))+d),w=S.subarray(c,S.length-d),x=0;if(!l||v<8)for(var j=0;j<=v;j+=65535){var N=j+65535;N<v?x=Cr(w,x,a.subarray(j,N)):(w[j]=g,x=Cr(w,x,a.subarray(j,v)))}else{for(var $=rn[l-1],H=$>>>13,B=8191&$,W=(1<<u)-1,J=new tX(32768),ee=new tX(W+1),en=Math.ceil(u/3),ea=2*en,y=function(l){return(a[l]^a[l+1]<<en^a[l+2]<<ea)&W},el=new tJ(25e3),eu=new tX(288),ec=new tX(32),ed=0,eh=0,ef=(j=0,0),ep=0,e_=0;j<v;++j){var eg=y(j),ev=32767&j,em=ee[eg];if(J[ev]=em,ee[eg]=ev,ep<=j){var ey=v-j;if((ed>7e3||ef>24576)&&ey>423){x=Mr(a,w,0,el,eu,ec,eh,ef,e_,j-e_,x),ef=ed=eh=0,e_=j;for(var eb=0;eb<286;++eb)eu[eb]=0;for(eb=0;eb<30;++eb)ec[eb]=0}var eE=2,eP=0,eS=B,eR=ev-em&32767;if(ey>2&&eg==y(j-eR))for(var ew=Math.min(H,ey)-1,ex=Math.min(32767,j),eO=Math.min(258,ey);eR<=ex&&--eS&&ev!=em;){if(a[j+eE]==a[j+eE-eR]){for(var eT=0;eT<eO&&a[j+eT]==a[j+eT-eR];++eT);if(eT>eE){if(eE=eT,eP=eR,eT>ew)break;var eM=Math.min(eR,eT-2),eC=0;for(eb=0;eb<eM;++eb){var ek=j-eR+eb+32768&32767,eI=ek-J[ek]+32768&32767;eI>eC&&(eC=eI,em=ek)}}}eR+=(ev=em)-(em=J[ev])+32768&32767}if(eP){el[ef++]=268435456|t3[eE]<<18|t5[eP];var eA=31&t3[eE],eF=31&t5[eP];eh+=tZ[eA]+tQ[eF],++eu[257+eA],++ec[eF],ep=j+eE,++ed}else el[ef++]=a[j],++eu[a[j]]}}x=Mr(a,w,g,el,eu,ec,eh,ef,e_,j-e_,x)}return xr(S,0,c+$r(x)+d)}(a,null==c.level?6:c.level,null==c.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(a.length)))):12+c.mem,d,8,!0)),w=S.length;return Lr(S,l),jr(S,w-8,g.d()),jr(S,w-4,v),S}function Ur(a,l){var u=a.length;if("undefined"!=typeof TextEncoder)return(new TextEncoder).encode(a);for(var c=new tK(a.length+(a.length>>>1)),d=0,n=function(a){c[d++]=a},g=0;g<u;++g){if(d+5>c.length){var v=new tK(d+8+(u-g<<1));v.set(c),c=v}var S=a.charCodeAt(g);S<128||l?n(S):(S<2048?n(192|S>>>6):(S>55295&&S<57344?(n(240|(S=65536+(1047552&S)|1023&a.charCodeAt(++g))>>>18),n(128|S>>>12&63)):n(224|S>>>12),n(128|S>>>6&63)),n(128|63&S))}return xr(c,0,d)}function qr(a,l){return function(a){for(var l=0,u=0;u<a.length;u++)l=(l<<5)-l+a.charCodeAt(u)|0;return Math.abs(l)}(a)%100<z(100*l,0,100,ef)}var rl="disabled",ru="sampled",rc="active",rd="buffering",rh="paused",rf="trigger",rp=rf+"_activated",r_=rf+"_pending",rg=rf+"_"+rl;function Qr(a,l){return l.some(l=>"regex"===l.matching&&new RegExp(l.url).test(a))}let Zr=class Zr{constructor(a){this.It=a}triggerStatus(a){var l=this.It.map(l=>l.triggerStatus(a));return l.includes(rp)?rp:l.includes(r_)?r_:rg}stop(){this.It.forEach(a=>a.stop())}};let ts=class ts{constructor(a){this.It=a}triggerStatus(a){var l=new Set;for(var u of this.It)l.add(u.triggerStatus(a));switch(l.delete(rg),l.size){case 0:return rg;case 1:return Array.from(l)[0];default:return r_}}stop(){this.It.forEach(a=>a.stop())}};let is=class is{triggerStatus(){return r_}stop(){}};let es=class es{constructor(a){this.Pt=[],this.Rt=[],this.urlBlocked=!1,this._instance=a}onRemoteConfig(a){var l,u;this.Pt=(null==(l=a.sessionRecording)?void 0:l.urlTriggers)||[],this.Rt=(null==(u=a.sessionRecording)?void 0:u.urlBlocklist)||[]}Tt(a){var l;return 0===this.Pt.length?rg:(null==(l=this._instance)?void 0:l.get_property(e$))===a?rp:r_}triggerStatus(a){var l=this.Tt(a),u=l===rp?rp:l===r_?r_:rg;return this._instance.register_for_session({$sdk_debug_replay_url_trigger_status:u}),u}checkUrlTriggerConditions(a,l,u){if(void 0!==c&&c.location.href){var d=c.location.href,g=this.urlBlocked,v=Qr(d,this.Rt);g&&v||(v&&!g?a():!v&&g&&l(),Qr(d,this.Pt)&&u("url"))}}stop(){}};let rs=class rs{constructor(a){this.linkedFlag=null,this.linkedFlagSeen=!1,this.Ct=()=>{},this._instance=a}triggerStatus(){var a=r_;return M(this.linkedFlag)&&(a=rg),this.linkedFlagSeen&&(a=rp),this._instance.register_for_session({$sdk_debug_replay_linked_flag_trigger_status:a}),a}onRemoteConfig(a,l){var u;if(this.linkedFlag=(null==(u=a.sessionRecording)?void 0:u.linkedFlag)||null,!M(this.linkedFlag)&&!this.linkedFlagSeen){var c=R(this.linkedFlag)?this.linkedFlag:this.linkedFlag.flag,d=R(this.linkedFlag)?null:this.linkedFlag.variant;this.Ct=this._instance.onFeatureFlags((a,u)=>{var g=!1;if(E(u)&&c in u){var v=u[c];g=O(v)?!0===v:d?v===d:!!v}this.linkedFlagSeen=g,g&&l(c,d)})}}stop(){this.Ct()}};let ss=class ss{constructor(a){this.Mt=[],this._instance=a}onRemoteConfig(a){var l;this.Mt=(null==(l=a.sessionRecording)?void 0:l.eventTriggers)||[]}Ft(a){var l;return 0===this.Mt.length?rg:(null==(l=this._instance)?void 0:l.get_property(eH))===a?rp:r_}triggerStatus(a){var l=this.Ft(a),u=l===rp?rp:l===r_?r_:rg;return this._instance.register_for_session({$sdk_debug_replay_event_trigger_status:u}),u}stop(){}};function ns(a){return a.isRecordingEnabled?rd:rl}function os(a){if(!a.receivedFlags)return rd;if(!a.isRecordingEnabled)return rl;if(a.urlTriggerMatching.urlBlocked)return rh;var l=!0===a.isSampled,u=new Zr([a.eventTriggerMatching,a.urlTriggerMatching,a.linkedFlagMatching]).triggerStatus(a.sessionId);return l?ru:u===rp?rc:u===r_?rd:!1===a.isSampled?rl:rc}function as(a){if(!a.receivedFlags)return rd;if(!a.isRecordingEnabled)return rl;if(a.urlTriggerMatching.urlBlocked)return rh;var l=new ts([a.eventTriggerMatching,a.urlTriggerMatching,a.linkedFlagMatching]).triggerStatus(a.sessionId),u=l!==rg,c=O(a.isSampled);return u&&l===r_?rd:u&&l===rg||c&&!a.isSampled?rl:!0===a.isSampled?ru:rc}var rv="[SessionRecording]",rm=ep(rv);function hs(){var a;return null==W||null==(a=W.__PosthogExtensions__)||null==(a=a.rrweb)?void 0:a.record}var ry=[tB.MouseMove,tB.MouseInteraction,tB.Scroll,tB.ViewportResize,tB.Input,tB.TouchMove,tB.MediaInteraction,tB.Drag],cs=a=>({rrwebMethod:a,enqueuedAt:Date.now(),attempt:1});function fs(a){return function(a,l){for(var u="",c=0;c<a.length;){var d=a[c++];d<128||l?u+=String.fromCharCode(d):d<224?u+=String.fromCharCode((31&d)<<6|63&a[c++]):d<240?u+=String.fromCharCode((15&d)<<12|(63&a[c++])<<6|63&a[c++]):u+=String.fromCharCode(55296|(d=((15&d)<<18|(63&a[c++])<<12|(63&a[c++])<<6|63&a[c++])-65536)>>10,56320|1023&d)}return u}(zr(Ur(JSON.stringify(a))),!0)}function ps(a){return a.type===tU.Custom&&"sessionIdle"===a.data.tag}let gs=class gs{get sessionId(){return this.Ot}get At(){return this._instance.config.session_recording.session_idle_threshold_ms||3e5}get started(){return this.Dt}get jt(){if(!this._instance.sessionManager)throw Error(rv+" must be started with a valid sessionManager.");return this._instance.sessionManager}get Lt(){var a,l;return this.Nt.triggerStatus(this.sessionId)===r_?6e4:null!==(a=null==(l=this._instance.config.session_recording)?void 0:l.full_snapshot_interval_millis)&&void 0!==a?a:3e5}get zt(){var a=this._instance.get_property(eD);return O(a)?a:null}get Ut(){var a,l,u=null==(a=this.H)?void 0:a.data[(null==(l=this.H)?void 0:l.data.length)-1],{sessionStartTimestamp:c}=this.jt.checkAndGetSessionAndWindowId(!0);return u?u.timestamp-c:null}get qt(){var a=!!this._instance.get_property(eM),l=!this._instance.config.disable_session_recording;return c&&a&&l}get Bt(){var a=!!this._instance.get_property(eC),l=this._instance.config.enable_recording_console_log;return null!=l?l:a}get Ht(){var a,l,u,c,d,g,v=this._instance.config.session_recording.captureCanvas,S=this._instance.get_property(eA),w=null!==(a=null!==(l=null==v?void 0:v.recordCanvas)&&void 0!==l?l:null==S?void 0:S.enabled)&&void 0!==a&&a,x=null!==(u=null!==(c=null==v?void 0:v.canvasFps)&&void 0!==c?c:null==S?void 0:S.fps)&&void 0!==u?u:4,j=null!==(d=null!==(g=null==v?void 0:v.canvasQuality)&&void 0!==g?g:null==S?void 0:S.quality)&&void 0!==d?d:.4;if("string"==typeof j){var N=parseFloat(j);j=isNaN(N)?.4:N}return{enabled:w,fps:z(x,0,12,rm.createLogger("canvas recording fps"),4),quality:z(j,0,1,rm.createLogger("canvas recording quality"),.4)}}get Wt(){var a,l,u=this._instance.get_property(ek),c={recordHeaders:null==(a=this._instance.config.session_recording)?void 0:a.recordHeaders,recordBody:null==(l=this._instance.config.session_recording)?void 0:l.recordBody},d=(null==c?void 0:c.recordHeaders)||(null==u?void 0:u.recordHeaders),g=(null==c?void 0:c.recordBody)||(null==u?void 0:u.recordBody),v=E(this._instance.config.capture_performance)?this._instance.config.capture_performance.network_timing:this._instance.config.capture_performance,S=!!(O(v)?v:null==u?void 0:u.capturePerformance);return d||g||S?{recordHeaders:d,recordBody:g,recordPerformance:S}:void 0}get Gt(){var a,l,u,c,d,g,v=this._instance.get_property(eI),S={maskAllInputs:null==(a=this._instance.config.session_recording)?void 0:a.maskAllInputs,maskTextSelector:null==(l=this._instance.config.session_recording)?void 0:l.maskTextSelector,blockSelector:null==(u=this._instance.config.session_recording)?void 0:u.blockSelector},w=null!==(c=null==S?void 0:S.maskAllInputs)&&void 0!==c?c:null==v?void 0:v.maskAllInputs,x=null!==(d=null==S?void 0:S.maskTextSelector)&&void 0!==d?d:null==v?void 0:v.maskTextSelector,j=null!==(g=null==S?void 0:S.blockSelector)&&void 0!==g?g:null==v?void 0:v.blockSelector;return P(w)&&P(x)&&P(j)?void 0:{maskAllInputs:null==w||w,maskTextSelector:x,blockSelector:j}}get Jt(){var a=this._instance.get_property(eF);return F(a)?a:null}get Vt(){var a=this._instance.get_property(ej);return F(a)?a:null}get status(){return this.Kt?this.Yt({receivedFlags:this.Kt,isRecordingEnabled:this.qt,isSampled:this.zt,urlTriggerMatching:this.Xt,eventTriggerMatching:this.Qt,linkedFlagMatching:this.Zt,sessionId:this.sessionId}):rd}constructor(a){if(this.Yt=ns,this.Kt=!1,this.ti=[],this.ii="unknown",this.ei=Date.now(),this.Nt=new is,this.ri=void 0,this.si=void 0,this.ni=void 0,this.oi=void 0,this.ai=void 0,this._forceAllowLocalhostNetworkCapture=!1,this.li=()=>{this.ui()},this.hi=()=>{this.di("browser offline",{})},this.vi=()=>{this.di("browser online",{})},this.ci=()=>{if(null!=x&&x.visibilityState){var a="window "+x.visibilityState;this.di(a,{})}},this._instance=a,this.Dt=!1,this.fi="/s/",this.pi=void 0,this.Kt=!1,!this._instance.sessionManager)throw rm.error("started without valid sessionManager"),Error(rv+" started without valid sessionManager. This is a bug.");if("always"===this._instance.config.cookieless_mode)throw Error(rv+' cannot be used with cookieless_mode="always"');this.Zt=new rs(this._instance),this.Xt=new es(this._instance),this.Qt=new ss(this._instance);var{sessionId:l,windowId:u}=this.jt.checkAndGetSessionAndWindowId();this.Ot=l,this.gi=u,this.H=this.mi(),this.At>=this.jt.sessionTimeoutMs&&rm.warn("session_idle_threshold_ms ("+this.At+") is greater than the session timeout ("+this.jt.sessionTimeoutMs+"). Session will never be detected as idle")}startIfEnabledOrStop(a){this.qt?(this.bi(a),ot(c,"beforeunload",this.li),ot(c,"offline",this.hi),ot(c,"online",this.vi),ot(c,"visibilitychange",this.ci),this.yi(),this.wi(),M(this.ri)&&(this.ri=this._instance.on("eventCaptured",a=>{try{if("$pageview"===a.event){var l=null!=a&&a.properties.$current_url?this.Si(null==a?void 0:a.properties.$current_url):"";if(!l)return;this.di("$pageview",{href:l})}}catch(a){rm.error("Could not add $pageview to rrweb session",a)}})),this.si||(this.si=this.jt.onSessionId((a,l,u)=>{var c,d;u&&(this.di("$session_id_change",{sessionId:a,windowId:l,changeReason:u}),null==(c=this._instance)||null==(c=c.persistence)||c.unregister(eH),null==(d=this._instance)||null==(d=d.persistence)||d.unregister(e$))}))):this.stopRecording()}stopRecording(){var a,l,u,d;this.Dt&&this.pi&&(this.pi(),this.pi=void 0,this.Dt=!1,null==c||c.removeEventListener("beforeunload",this.li),null==c||c.removeEventListener("offline",this.hi),null==c||c.removeEventListener("online",this.vi),null==c||c.removeEventListener("visibilitychange",this.ci),this.mi(),clearInterval(this.$i),null==(a=this.ri)||a.call(this),this.ri=void 0,null==(l=this.ai)||l.call(this),this.ai=void 0,null==(u=this.si)||u.call(this),this.si=void 0,null==(d=this.oi)||d.call(this),this.oi=void 0,this.Qt.stop(),this.Xt.stop(),this.Zt.stop(),rm.info("stopped"))}xi(){var a;null==(a=this._instance.persistence)||a.unregister(eD)}ki(a){var l,u=this.Ot!==a,c=this.Jt;if(F(c)){var d=this.zt,g=u||!O(d),v=g?qr(a,c):d;g&&(v?this.Ei(ru):rm.warn("Sample rate ("+c+") has determined that this sessionId ("+a+") will not be sent to the server."),this.di("samplingDecisionMade",{sampleRate:c,isSampled:v})),null==(l=this._instance.persistence)||l.register({[eD]:v})}else this.xi()}onRemoteConfig(a){var l,u,c,d;this.di("$remote_config_received",a),this.Ii(a),null!=(l=a.sessionRecording)&&l.endpoint&&(this.fi=null==(d=a.sessionRecording)?void 0:d.endpoint),this.yi(),"any"===(null==(u=a.sessionRecording)?void 0:u.triggerMatchType)?(this.Yt=os,this.Nt=new Zr([this.Qt,this.Xt])):(this.Yt=as,this.Nt=new ts([this.Qt,this.Xt])),this._instance.register_for_session({$sdk_debug_replay_remote_trigger_matching_config:null==(c=a.sessionRecording)?void 0:c.triggerMatchType}),this.Xt.onRemoteConfig(a),this.Qt.onRemoteConfig(a),this.Zt.onRemoteConfig(a,(a,l)=>{this.Ei("linked_flag_matched",{flag:a,variant:l})}),this.Kt=!0,this.startIfEnabledOrStop()}yi(){F(this.Jt)&&M(this.oi)&&(this.oi=this.jt.onSessionId(a=>{this.ki(a)}))}Ii(a){if(this._instance.persistence){var l,u=this._instance.persistence,r=()=>{var l,c,d,g,v,S,w,x,j,N=null==(l=a.sessionRecording)?void 0:l.sampleRate,$=M(N)?null:parseFloat(N);M($)&&this.xi();var H=null==(c=a.sessionRecording)?void 0:c.minimumDurationMilliseconds;u.register({[eM]:!!a.sessionRecording,[eC]:null==(d=a.sessionRecording)?void 0:d.consoleLogRecordingEnabled,[ek]:f({capturePerformance:a.capturePerformance},null==(g=a.sessionRecording)?void 0:g.networkPayloadCapture),[eI]:null==(v=a.sessionRecording)?void 0:v.masking,[eA]:{enabled:null==(S=a.sessionRecording)?void 0:S.recordCanvas,fps:null==(w=a.sessionRecording)?void 0:w.canvasFps,quality:null==(x=a.sessionRecording)?void 0:x.canvasQuality},[eF]:$,[ej]:P(H)?null:H,[eN]:null==(j=a.sessionRecording)?void 0:j.scriptConfig})};r(),null==(l=this.ni)||l.call(this),this.ni=this.jt.onSessionId(r)}}log(a,l){var u;void 0===l&&(l="log"),null==(u=this._instance.sessionRecording)||u.onRRwebEmit({type:6,data:{plugin:"rrweb/console@1",payload:{level:l,trace:[],payload:[JSON.stringify(a)]}},timestamp:Date.now()})}bi(a){if(!P(Object.assign)&&!P(Array.from)&&!(this.Dt||this._instance.config.disable_session_recording||this._instance.consent.isOptedOut())){var l;(this.Dt=!0,this.jt.checkAndGetSessionAndWindowId(),hs())?this.Pi():null==(l=W.__PosthogExtensions__)||null==l.loadExternalDependency||l.loadExternalDependency(this._instance,this.Ri,a=>{if(a)return rm.error("could not load recorder",a);this.Pi()}),rm.info("starting"),this.status===rc&&this.Ei(a||"recording_initialized")}}get Ri(){var a;return(null==(a=this._instance)||null==(a=a.persistence)||null==(a=a.get_property(eN))?void 0:a.script)||"recorder"}Ti(a){var l;return 3===a.type&&-1!==ry.indexOf(null==(l=a.data)?void 0:l.source)}Ci(a){var l=this.Ti(a);l||this.ii||a.timestamp-this.ei>this.At&&(this.ii=!0,clearInterval(this.$i),this.di("sessionIdle",{eventTimestamp:a.timestamp,lastActivityTimestamp:this.ei,threshold:this.At,bufferLength:this.H.data.length,bufferSize:this.H.size}),this.ui());var u=!1;if(l&&(this.ei=a.timestamp,this.ii)){var c="unknown"===this.ii;this.ii=!1,c||(this.di("sessionNoLongerIdle",{reason:"user activity",type:a.type}),u=!0)}if(!this.ii){var{windowId:d,sessionId:g}=this.jt.checkAndGetSessionAndWindowId(!l,a.timestamp),v=this.Ot!==g,S=this.gi!==d;this.gi=d,this.Ot=g,v||S?(this.stopRecording(),this.startIfEnabledOrStop("session_id_changed")):u&&this.Mi()}}Fi(a){try{return a.rrwebMethod(),!0}catch(l){return this.ti.length<10?this.ti.push({enqueuedAt:a.enqueuedAt||Date.now(),attempt:a.attempt++,rrwebMethod:a.rrwebMethod}):rm.warn("could not emit queued rrweb event.",l,a),!1}}di(a,l){return this.Fi(cs(()=>hs().addCustomEvent(a,l)))}Oi(){return this.Fi(cs(()=>hs().takeFullSnapshot()))}Pi(){var a,l,u,c,d={blockClass:"ph-no-capture",blockSelector:void 0,ignoreClass:"ph-ignore-input",maskTextClass:"ph-mask",maskTextSelector:void 0,maskTextFn:void 0,maskAllInputs:!0,maskInputOptions:{password:!0},maskInputFn:void 0,slimDOMOptions:{},collectFonts:!1,inlineStylesheet:!0,recordCrossOriginIframes:!1};for(var[g,v]of Object.entries(this._instance.config.session_recording||{}))g in d&&("maskInputOptions"===g?d.maskInputOptions=f({password:!0},v):d[g]=v);this.Ht&&this.Ht.enabled&&(d.recordCanvas=!0,d.sampling={canvas:this.Ht.fps},d.dataURLOptions={type:"image/webp",quality:this.Ht.quality}),this.Gt&&(d.maskAllInputs=null===(l=this.Gt.maskAllInputs)||void 0===l||l,d.maskTextSelector=null!==(u=this.Gt.maskTextSelector)&&void 0!==u?u:void 0,d.blockSelector=null!==(c=this.Gt.blockSelector)&&void 0!==c?c:void 0);var S=hs();if(S){this.Ai=null!==(a=this.Ai)&&void 0!==a?a:new rr(S,{refillRate:this._instance.config.session_recording.__mutationThrottlerRefillRate,bucketSize:this._instance.config.session_recording.__mutationThrottlerBucketSize,onBlockedNode:(a,l)=>{var u="Too many mutations on node '"+a+"'. Rate limiting. This could be due to SVG animations or something similar";rm.info(u,{node:l}),this.log(rv+" "+u,"warn")}});var w=this.Di();this.pi=S(f({emit:a=>{this.onRRwebEmit(a)},plugins:w},d)),this.ei=Date.now(),this.ii=O(this.ii)?this.ii:"unknown",this.di("$session_options",{sessionRecordingOptions:d,activePlugins:w.map(a=>null==a?void 0:a.name)}),this.di("$posthog_config",{config:this._instance.config})}else rm.error("onScriptLoaded was called but rrwebRecord is not available. This indicates something has gone wrong.")}Mi(){if(this.$i&&clearInterval(this.$i),!0!==this.ii){var a=this.Lt;a&&(this.$i=setInterval(()=>{this.Oi()},a))}}Di(){var a,l,u=[],c=null==(a=W.__PosthogExtensions__)||null==(a=a.rrwebPlugins)?void 0:a.getRecordConsolePlugin;c&&this.Bt&&u.push(c());var d=null==(l=W.__PosthogExtensions__)||null==(l=l.rrwebPlugins)?void 0:l.getRecordNetworkPlugin;return this.Wt&&k(d)&&(!td.includes(location.hostname)||this._forceAllowLocalhostNetworkCapture?u.push(d(er(this._instance.config,this.Wt))):rm.info("NetworkCapture not started because we are on localhost.")),u}onRRwebEmit(a){var l;if(this.ji(),a&&E(a)){if(a.type===tU.Meta){var u=this.Si(a.data.href);if(this.Li=u,!u)return;a.data.href=u}else this.Ni();if(this.Xt.checkUrlTriggerConditions(()=>this.zi(),()=>this.Ui(),a=>this.qi(a)),!this.Xt.urlBlocked||a.type===tU.Custom&&"recording paused"===a.data.tag){a.type===tU.FullSnapshot&&this.Mi(),a.type===tU.FullSnapshot&&this.Kt&&this.Nt.triggerStatus(this.sessionId)===r_&&this.mi();var c=this.Ai?this.Ai.throttleMutations(a):a;if(c){var d=function(a){if(a&&E(a)&&6===a.type&&E(a.data)&&"rrweb/console@1"===a.data.plugin){a.data.payload.payload.length>10&&(a.data.payload.payload=a.data.payload.payload.slice(0,10),a.data.payload.payload.push("...[truncated]"));for(var l=[],u=0;u<a.data.payload.payload.length;u++)a.data.payload.payload[u]&&a.data.payload.payload[u].length>2e3?l.push(a.data.payload.payload[u].slice(0,2e3)+"...[truncated]"):l.push(a.data.payload.payload[u]);return a.data.payload.payload=l,a}return a}(c);if(this.Ci(d),!0!==this.ii||ps(d)){if(ps(d)){var g=d.data.payload;if(g){var v=g.lastActivityTimestamp,S=g.threshold;d.timestamp=v+S}}var w=null===(l=this._instance.config.session_recording.compress_events)||void 0===l||l?function(a){if(1024>He(a))return a;try{if(a.type===tU.FullSnapshot)return f({},a,{data:fs(a.data),cv:"2024-10"});if(a.type===tU.IncrementalSnapshot&&a.data.source===tB.Mutation)return f({},a,{cv:"2024-10",data:f({},a.data,{texts:fs(a.data.texts),attributes:fs(a.data.attributes),removes:fs(a.data.removes),adds:fs(a.data.adds)})});if(a.type===tU.IncrementalSnapshot&&a.data.source===tB.StyleSheetRule)return f({},a,{cv:"2024-10",data:f({},a.data,{adds:a.data.adds?fs(a.data.adds):void 0,removes:a.data.removes?fs(a.data.removes):void 0})})}catch(a){rm.error("could not compress event - will use uncompressed event",a)}return a}(d):d,x={$snapshot_bytes:He(w),$snapshot_data:w,$session_id:this.Ot,$window_id:this.gi};this.status!==rl?this.Bi(x):this.mi()}}}}}Ni(){if(!this._instance.config.capture_pageview&&c){var a=this.Si(c.location.href);this.Li!==a&&(this.di("$url_changed",{href:a}),this.Li=a)}}ji(){if(this.ti.length){var a=[...this.ti];this.ti=[],a.forEach(a=>{Date.now()-a.enqueuedAt<=2e3&&this.Fi(a)})}}Si(a){var l=this._instance.config.session_recording;if(l.maskNetworkRequestFn){var u,c={url:a};return null==(u=c=l.maskNetworkRequestFn(c))?void 0:u.url}return a}mi(){return this.H={size:0,data:[],sessionId:this.Ot,windowId:this.gi},this.H}ui(){this.Hi&&(clearTimeout(this.Hi),this.Hi=void 0);var a=this.Vt,l=this.Ut,u=F(l)&&l>=0,c=F(a)&&u&&l<a;return this.status===rd||this.status===rh||this.status===rl||c?(this.Hi=setTimeout(()=>{this.ui()},2e3),this.H):(this.H.data.length>0&&We(this.H).forEach(a=>{this.Wi({$snapshot_bytes:a.size,$snapshot_data:a.data,$session_id:a.sessionId,$window_id:a.windowId,$lib:"web",$lib_version:J.LIB_VERSION})}),this.mi())}Bi(a){var l,u=2+((null==(l=this.H)?void 0:l.data.length)||0);!this.ii&&(this.H.size+a.$snapshot_bytes+u>943718.4||this.H.sessionId!==this.Ot)&&(this.H=this.ui()),this.H.size+=a.$snapshot_bytes,this.H.data.push(a.$snapshot_data),this.Hi||this.ii||(this.Hi=setTimeout(()=>{this.ui()},2e3))}Wi(a){this._instance.capture("$snapshot",a,{_url:this._instance.requestRouter.endpointFor("api",this.fi),_noTruncate:!0,_batchKey:"recordings",skip_client_rate_limiting:!0})}qi(a){var l;this.Nt.triggerStatus(this.sessionId)===r_&&(null==(l=this._instance)||null==(l=l.persistence)||l.register({["url"===a?e$:eH]:this.Ot}),this.ui(),this.Ei(a+"_trigger_matched"))}zi(){this.Xt.urlBlocked||(this.Xt.urlBlocked=!0,clearInterval(this.$i),rm.info("recording paused due to URL blocker"),this.di("recording paused",{reason:"url blocker"}))}Ui(){this.Xt.urlBlocked&&(this.Xt.urlBlocked=!1,this.Oi(),this.Mi(),this.di("recording resumed",{reason:"left blocked url"}),rm.info("recording resumed"))}wi(){0!==this.Qt.Mt.length&&M(this.ai)&&(this.ai=this._instance.on("eventCaptured",a=>{try{this.Qt.Mt.includes(a.event)&&this.qi("event")}catch(a){rm.error("Could not activate event trigger",a)}}))}overrideLinkedFlag(){this.Zt.linkedFlagSeen=!0,this.Oi(),this.Ei("linked_flag_overridden")}overrideSampling(){var a;null==(a=this._instance.persistence)||a.register({[eD]:!0}),this.Oi(),this.Ei("sampling_overridden")}overrideTrigger(a){this.qi(a)}Ei(a,l){this._instance.register_for_session({$session_recording_start_reason:a}),rm.info(a.replace("_"," "),l),_(["recording_initialized","session_id_changed"],a)||this.di(a,l)}get sdkDebugProperties(){var{sessionStartTimestamp:a}=this.jt.checkAndGetSessionAndWindowId(!0);return{$recording_status:this.status,$sdk_debug_replay_internal_buffer_length:this.H.data.length,$sdk_debug_replay_internal_buffer_size:this.H.size,$sdk_debug_current_session_duration:this.Ut,$sdk_debug_session_start:a}}};var rb=ep("[SegmentIntegration]");function ms(a,l){var u=a.config.segment;if(!u)return l();!function(a,l){var u=a.config.segment;if(!u)return l();var r=u=>{var r=()=>u.anonymousId()||Hi();a.config.get_device_id=r,u.id()&&(a.register({distinct_id:u.id(),$device_id:r()}),a.persistence.set_property(eK,"identified")),l()},c=u.user();"then"in c&&k(c.then)?c.then(a=>r(a)):r(c)}(a,()=>{var c;u.register((Promise&&Promise.resolve||rb.warn("This browser does not have Promise support, and can not use the segment integration"),c=(l,u)=>{if(!u)return l;l.event.userId||l.event.anonymousId===a.get_distinct_id()||(rb.info("No userId set, resetting PostHog"),a.reset()),l.event.userId&&l.event.userId!==a.get_distinct_id()&&(rb.info("UserId set, identifying with PostHog"),a.identify(l.event.userId));var c=a.calculateEventProperties(u,l.event.properties);return l.event.properties=Object.assign({},c,l.event.properties),l},{name:"PostHog JS",type:"enrichment",version:"1.0.0",isLoaded:()=>!0,load:()=>Promise.resolve(),track:a=>c(a,a.event.event),page:a=>c(a,"$pageview"),identify:a=>c(a,"$identify"),screen:a=>c(a,"$screen")})).then(()=>{l()})})}var rE="posthog-js";function ys(a,l){var{organization:u,projectId:c,prefix:d,severityAllowList:g=["error"]}=void 0===l?{}:l;return l=>{if(!("*"===g||g.includes(l.level))||!a.__loaded)return l;l.tags||(l.tags={});var v,S,w,x,j,N=a.requestRouter.endpointFor("ui","/project/"+a.config.token+"/person/"+a.get_distinct_id());l.tags["PostHog Person URL"]=N,a.sessionRecordingStarted()&&(l.tags["PostHog Recording URL"]=a.get_session_replay_url({withTimestamp:!0}));var $=(null==(v=l.exception)?void 0:v.values)||[],H=$.map(a=>f({},a,{stacktrace:a.stacktrace?f({},a.stacktrace,{type:"raw",frames:(a.stacktrace.frames||[]).map(a=>f({},a,{platform:"web:javascript"}))}):void 0})),B={$exception_message:(null==(S=$[0])?void 0:S.value)||l.message,$exception_type:null==(w=$[0])?void 0:w.type,$exception_personURL:N,$exception_level:l.level,$exception_list:H,$sentry_event_id:l.event_id,$sentry_exception:l.exception,$sentry_exception_message:(null==(x=$[0])?void 0:x.value)||l.message,$sentry_exception_type:null==(j=$[0])?void 0:j.type,$sentry_tags:l.tags};return u&&c&&(B.$sentry_url=(d||"https://sentry.io/organizations/")+u+"/issues/?project="+c+"&query="+l.event_id),a.exceptions.sendExceptionEvent(B),l}}let ws=class ws{constructor(a,l,u,c,d){this.name=rE,this.setupOnce=function(g){g(ys(a,{organization:l,projectId:u,prefix:c,severityAllowList:d}))}}};var rP=null!=c&&c.location?Ci(c.location.hash,"__posthog")||Ci(location.hash,"state"):null,rS="_postHogToolbarParams",rR=ep("[Toolbar]"),rw=function(a){return a[a.UNINITIALIZED=0]="UNINITIALIZED",a[a.LOADING=1]="LOADING",a[a.LOADED=2]="LOADED",a}(rw||{});let Es=class Es{constructor(a){this.instance=a}Gi(a){W.ph_toolbar_state=a}Ji(){var a;return null!==(a=W.ph_toolbar_state)&&void 0!==a?a:rw.UNINITIALIZED}maybeLoadToolbar(a,l,u){if(void 0===a&&(a=void 0),void 0===l&&(l=void 0),void 0===u&&(u=void 0),!c||!x)return!1;a=null!=a?a:c.location,u=null!=u?u:c.history;try{if(!l){try{c.localStorage.setItem("test","test"),c.localStorage.removeItem("test")}catch(a){return!1}l=null==c?void 0:c.localStorage}var d,g=rP||Ci(a.hash,"__posthog")||Ci(a.hash,"state"),v=g?Z(()=>JSON.parse(atob(decodeURIComponent(g))))||Z(()=>JSON.parse(decodeURIComponent(g))):null;return v&&"ph_authorize"===v.action?((d=v).source="url",d&&Object.keys(d).length>0&&(v.desiredHash?a.hash=v.desiredHash:u?u.replaceState(u.state,"",a.pathname+a.search):a.hash="")):((d=JSON.parse(l.getItem(rS)||"{}")).source="localstorage",delete d.userIntent),!(!d.token||this.instance.config.token!==d.token)&&(this.loadToolbar(d),!0)}catch(a){return!1}}Vi(a){var l=W.ph_load_toolbar||W.ph_load_editor;!M(l)&&k(l)?l(a,this.instance):rR.warn("No toolbar load function found")}loadToolbar(a){var l,u=!(null==x||!x.getElementById(e2));if(!c||u)return!1;var d="custom"===this.instance.requestRouter.region&&this.instance.config.advanced_disable_toolbar_metrics,g=f({token:this.instance.config.token},a,{apiURL:this.instance.requestRouter.endpointFor("ui")},d?{instrument:!1}:{});return(c.localStorage.setItem(rS,JSON.stringify(f({},g,{source:void 0}))),this.Ji()===rw.LOADED)?this.Vi(g):this.Ji()===rw.UNINITIALIZED&&(this.Gi(rw.LOADING),null==(l=W.__PosthogExtensions__)||null==l.loadExternalDependency||l.loadExternalDependency(this.instance,"toolbar",a=>{if(a)return rR.error("[Toolbar] Failed to load",a),void this.Gi(rw.UNINITIALIZED);this.Gi(rw.LOADED),this.Vi(g)}),ot(c,"turbolinks:load",()=>{this.Gi(rw.UNINITIALIZED),this.loadToolbar(g)})),!0}Ki(a){return this.loadToolbar(a)}maybeLoadEditor(a,l,u){return void 0===a&&(a=void 0),void 0===l&&(l=void 0),void 0===u&&(u=void 0),this.maybeLoadToolbar(a,l,u)}};var rx=ep("[TracingHeaders]");let Ps=class Ps{constructor(a){this.Yi=void 0,this.Xi=void 0,this.lt=()=>{var a,l;P(this.Yi)&&(null==(a=W.__PosthogExtensions__)||null==(a=a.tracingHeadersPatchFns)||a._patchXHR(this._instance.config.__add_tracing_headers||[],this._instance.get_distinct_id(),this._instance.sessionManager)),P(this.Xi)&&(null==(l=W.__PosthogExtensions__)||null==(l=l.tracingHeadersPatchFns)||l._patchFetch(this._instance.config.__add_tracing_headers||[],this._instance.get_distinct_id(),this._instance.sessionManager))},this._instance=a}nt(a){var l,u;null!=(l=W.__PosthogExtensions__)&&l.tracingHeadersPatchFns&&a(),null==(u=W.__PosthogExtensions__)||null==u.loadExternalDependency||u.loadExternalDependency(this._instance,"tracing-headers",l=>{if(l)return rx.error("failed to load script",l);a()})}startIfEnabledOrStop(){var a,l;this._instance.config.__add_tracing_headers?this.nt(this.lt):(null==(a=this.Yi)||a.call(this),null==(l=this.Xi)||l.call(this),this.Yi=void 0,this.Xi=void 0)}};var rO=ep("[Web Vitals]");let Cs=class Cs{constructor(a){var l;this.Qi=!1,this.C=!1,this.H={url:void 0,metrics:[],firstMetricTimestamp:void 0},this.Zi=()=>{clearTimeout(this.te),0!==this.H.metrics.length&&(this._instance.capture("$web_vitals",this.H.metrics.reduce((a,l)=>f({},a,{["$web_vitals_"+l.name+"_event"]:f({},l),["$web_vitals_"+l.name+"_value"]:l.value}),{})),this.H={url:void 0,metrics:[],firstMetricTimestamp:void 0})},this.ie=a=>{var l,u=null==(l=this._instance.sessionManager)?void 0:l.checkAndGetSessionAndWindowId(!0);if(P(u))rO.error("Could not read session ID. Dropping metrics!");else{this.H=this.H||{url:void 0,metrics:[],firstMetricTimestamp:void 0};var c=this.ee();P(c)||(M(null==a?void 0:a.name)||M(null==a?void 0:a.value)?rO.error("Invalid metric received",a):this.re&&a.value>=this.re?rO.error("Ignoring metric with value >= "+this.re,a):(this.H.url!==c&&(this.Zi(),this.te=setTimeout(this.Zi,this.flushToCaptureTimeoutMs)),P(this.H.url)&&(this.H.url=c),this.H.firstMetricTimestamp=P(this.H.firstMetricTimestamp)?Date.now():this.H.firstMetricTimestamp,a.attribution&&a.attribution.interactionTargetElement&&(a.attribution.interactionTargetElement=void 0),this.H.metrics.push(f({},a,{$current_url:c,$session_id:u.sessionId,$window_id:u.windowId,timestamp:Date.now()})),this.H.metrics.length===this.allowedMetrics.length&&this.Zi()))}},this.lt=()=>{var a,l,u,c,d=W.__PosthogExtensions__;P(d)||P(d.postHogWebVitalsCallbacks)||({onLCP:a,onCLS:l,onFCP:u,onINP:c}=d.postHogWebVitalsCallbacks),a&&l&&u&&c?(this.allowedMetrics.indexOf("LCP")>-1&&a(this.ie.bind(this)),this.allowedMetrics.indexOf("CLS")>-1&&l(this.ie.bind(this)),this.allowedMetrics.indexOf("FCP")>-1&&u(this.ie.bind(this)),this.allowedMetrics.indexOf("INP")>-1&&c(this.ie.bind(this)),this.C=!0):rO.error("web vitals callbacks not loaded - not starting")},this._instance=a,this.Qi=!(null==(l=this._instance.persistence)||!l.props[ex]),this.startIfEnabled()}get allowedMetrics(){var a,l,u=E(this._instance.config.capture_performance)?null==(a=this._instance.config.capture_performance)?void 0:a.web_vitals_allowed_metrics:void 0;return P(u)?(null==(l=this._instance.persistence)?void 0:l.props[eT])||["CLS","FCP","INP","LCP"]:u}get flushToCaptureTimeoutMs(){return(E(this._instance.config.capture_performance)?this._instance.config.capture_performance.web_vitals_delayed_flush_ms:void 0)||5e3}get re(){var a=E(this._instance.config.capture_performance)&&F(this._instance.config.capture_performance.__web_vitals_max_value)?this._instance.config.capture_performance.__web_vitals_max_value:9e5;return 0<a&&a<=6e4?9e5:a}get isEnabled(){var a=null==j?void 0:j.protocol;if("http:"!==a&&"https:"!==a)return rO.info("Web Vitals are disabled on non-http/https protocols"),!1;var l=E(this._instance.config.capture_performance)?this._instance.config.capture_performance.web_vitals:O(this._instance.config.capture_performance)?this._instance.config.capture_performance:void 0;return O(l)?l:this.Qi}startIfEnabled(){this.isEnabled&&!this.C&&(rO.info("enabled, starting..."),this.nt(this.lt))}onRemoteConfig(a){var l=E(a.capturePerformance)&&!!a.capturePerformance.web_vitals,u=E(a.capturePerformance)?a.capturePerformance.web_vitals_allowed_metrics:void 0;this._instance.persistence&&(this._instance.persistence.register({[ex]:l}),this._instance.persistence.register({[eT]:u})),this.Qi=l,this.startIfEnabled()}nt(a){var l,u;null!=(l=W.__PosthogExtensions__)&&l.postHogWebVitalsCallbacks&&a(),null==(u=W.__PosthogExtensions__)||null==u.loadExternalDependency||u.loadExternalDependency(this._instance,"web-vitals",l=>{l?rO.error("failed to load script",l):a()})}ee(){var a=c?c.location.href:void 0;return a||rO.error("Could not determine current URL"),a}};var rT=ep("[Heatmaps]");function Fs(a){return E(a)&&"clientX"in a&&"clientY"in a&&F(a.clientX)&&F(a.clientY)}let Os=class Os{constructor(a){var l;this.rageclicks=new Si,this.Qi=!1,this.C=!1,this.se=null,this.instance=a,this.Qi=!(null==(l=this.instance.persistence)||!l.props[eP])}get flushIntervalMilliseconds(){var a=5e3;return E(this.instance.config.capture_heatmaps)&&this.instance.config.capture_heatmaps.flush_interval_milliseconds&&(a=this.instance.config.capture_heatmaps.flush_interval_milliseconds),a}get isEnabled(){return P(this.instance.config.capture_heatmaps)?P(this.instance.config.enable_heatmaps)?this.Qi:this.instance.config.enable_heatmaps:!1!==this.instance.config.capture_heatmaps}startIfEnabled(){if(this.isEnabled)this.C||(rT.info("starting..."),this.ne(),this.se=setInterval(this.oe.bind(this),this.flushIntervalMilliseconds));else{var a,l;clearInterval(null!==(a=this.se)&&void 0!==a?a:void 0),null==(l=this.ae)||l.stop(),this.getAndClearBuffer()}}onRemoteConfig(a){var l=!!a.heatmaps;this.instance.persistence&&this.instance.persistence.register({[eP]:l}),this.Qi=l,this.startIfEnabled()}getAndClearBuffer(){var a=this.H;return this.H=void 0,a}le(a){this.ue(a.originalEvent,"deadclick")}ne(){c&&x&&(ot(c,"beforeunload",this.oe.bind(this)),ot(x,"click",a=>this.ue(a||(null==c?void 0:c.event)),{capture:!0}),ot(x,"mousemove",a=>this.he(a||(null==c?void 0:c.event)),{capture:!0}),this.ae=new ue(this.instance,ae,this.le.bind(this)),this.ae.startIfEnabled(),this.C=!0)}de(a,l){var u=this.instance.scrollManager.scrollY(),d=this.instance.scrollManager.scrollX(),g=this.instance.scrollManager.scrollElement(),v=function(a,l,u){for(var d=a;d&&Kt(d)&&!Yt(d,"body")&&d!==u;){if(_(l,null==c?void 0:c.getComputedStyle(d).position))return!0;d=oi(d)}return!1}(si(a),["fixed","sticky"],g);return{x:a.clientX+(v?0:d),y:a.clientY+(v?0:u),target_fixed:v,type:l}}ue(a,l){var u;if(void 0===l&&(l="click"),!Vt(a.target)&&Fs(a)){var c=this.de(a,l);null!=(u=this.rageclicks)&&u.isRageClick(a.clientX,a.clientY,(new Date).getTime())&&this.ve(f({},c,{type:"rageclick"})),this.ve(c)}}he(a){!Vt(a.target)&&Fs(a)&&(clearTimeout(this.ce),this.ce=setTimeout(()=>{this.ve(this.de(a,"mousemove"))},500))}ve(a){if(c){var l=c.location.href;this.H=this.H||{},this.H[l]||(this.H[l]=[]),this.H[l].push(a)}}oe(){this.H&&!I(this.H)&&this.instance.capture("$$heatmap",{$heatmap_data:this.getAndClearBuffer()})}};let As=class As{constructor(a){this._instance=a}doPageView(a,l){var u,d=this.fe(a,l);return this.pe={pathname:null!==(u=null==c?void 0:c.location.pathname)&&void 0!==u?u:"",pageViewId:l,timestamp:a},this._instance.scrollManager.resetContext(),d}doPageLeave(a){var l;return this.fe(a,null==(l=this.pe)?void 0:l.pageViewId)}doEvent(){var a;return{$pageview_id:null==(a=this.pe)?void 0:a.pageViewId}}fe(a,l){var u=this.pe;if(!u)return{$pageview_id:l};var c={$pageview_id:l,$prev_pageview_id:u.pageViewId},d=this._instance.scrollManager.getContext();if(d&&!this._instance.config.disable_scroll_properties){var{maxScrollHeight:g,lastScrollY:v,maxScrollY:S,maxContentHeight:w,lastContentY:x,maxContentY:j}=d;if(!(P(g)||P(v)||P(S)||P(w)||P(x)||P(j))){g=Math.ceil(g),v=Math.ceil(v),S=Math.ceil(S),w=Math.ceil(w),x=Math.ceil(x),j=Math.ceil(j);var N=g<=1?1:z(v/g,0,1,ef),$=g<=1?1:z(S/g,0,1,ef),H=w<=1?1:z(x/w,0,1,ef),B=w<=1?1:z(j/w,0,1,ef);c=Y(c,{$prev_pageview_last_scroll:v,$prev_pageview_last_scroll_percentage:N,$prev_pageview_max_scroll:S,$prev_pageview_max_scroll_percentage:$,$prev_pageview_last_content:x,$prev_pageview_last_content_percentage:H,$prev_pageview_max_content:j,$prev_pageview_max_content_percentage:B})}}return u.pathname&&(c.$prev_pageview_pathname=u.pathname),u.timestamp&&(c.$prev_pageview_duration=(a.getTime()-u.timestamp.getTime())/1e3),c}};var Ds=function(a){var l,u,c,d,g="";for(l=u=0,c=(a=(a+"").replace(/\r\n/g,"\n").replace(/\r/g,"\n")).length,d=0;d<c;d++){var v=a.charCodeAt(d),S=null;v<128?u++:S=v>127&&v<2048?String.fromCharCode(v>>6|192,63&v|128):String.fromCharCode(v>>12|224,v>>6&63|128,63&v|128),C(S)||(u>l&&(g+=a.substring(l,u)),g+=S,l=u=d+1)}return u>l&&(g+=a.substring(l,a.length)),g},rM=!!$||!!N,rC="text/plain",Ns=(a,l)=>{var[u,c]=a.split("?"),d=f({},l);null==c||c.split("&").forEach(a=>{var[l]=a.split("=");delete d[l]});var g=Pi(d);return u+"?"+(g=g?(c?c+"&":"")+g:c)},zs=(a,l)=>JSON.stringify(a,(a,l)=>"bigint"==typeof l?l.toString():l,l),Us=a=>{var{data:l,compression:u}=a;if(l){if(u===tu.GZipJS){var c=zr(Ur(zs(l)),{mtime:0}),d=new Blob([c],{type:rC});return{contentType:rC,body:d,estimatedSize:d.size}}if(u===tu.Base64){var g,v="data="+encodeURIComponent("string"==typeof(g=function(a){var l,u,c,d,g,v="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",S=0,w=0,x="",j=[];if(!a)return a;a=Ds(a);do l=(g=a.charCodeAt(S++)<<16|a.charCodeAt(S++)<<8|a.charCodeAt(S++))>>18&63,u=g>>12&63,c=g>>6&63,d=63&g,j[w++]=v.charAt(l)+v.charAt(u)+v.charAt(c)+v.charAt(d);while(S<a.length);switch(x=j.join(""),a.length%3){case 1:x=x.slice(0,-2)+"==";break;case 2:x=x.slice(0,-1)+"="}return x}(zs(l)))?g:zs(g));return{contentType:"application/x-www-form-urlencoded",body:v,estimatedSize:new Blob([v]).size}}var S=zs(l);return{contentType:"application/json",body:S,estimatedSize:new Blob([S]).size}}},rk=[];N&&rk.push({transport:"fetch",method:a=>{var l,u,{contentType:c,body:d,estimatedSize:g}=null!==(l=Us(a))&&void 0!==l?l:{},v=new Headers;K(a.headers,function(a,l){v.append(l,a)}),c&&v.append("Content-Type",c);var S=a.url,w=null;if(H){var x=new H;w={signal:x.signal,timeout:setTimeout(()=>x.abort(),a.timeout)}}N(S,f({method:(null==a?void 0:a.method)||"GET",headers:v,keepalive:"POST"===a.method&&52428.8>(g||0),body:d,signal:null==(u=w)?void 0:u.signal},a.fetchOptions)).then(l=>l.text().then(u=>{var c={statusCode:l.status,text:u};if(200===l.status)try{c.json=JSON.parse(u)}catch(a){ef.error(a)}null==a.callback||a.callback(c)})).catch(l=>{ef.error(l),null==a.callback||a.callback({statusCode:0,text:l})}).finally(()=>w?clearTimeout(w.timeout):null)}}),$&&rk.push({transport:"XHR",method:a=>{var l,u=new $;u.open(a.method||"GET",a.url,!0);var{contentType:c,body:d}=null!==(l=Us(a))&&void 0!==l?l:{};K(a.headers,function(a,l){u.setRequestHeader(l,a)}),c&&u.setRequestHeader("Content-Type",c),a.timeout&&(u.timeout=a.timeout),u.withCredentials=!0,u.onreadystatechange=()=>{if(4===u.readyState){var l={statusCode:u.status,text:u.responseText};if(200===u.status)try{l.json=JSON.parse(u.responseText)}catch(a){}null==a.callback||a.callback(l)}},u.send(d)}}),null!=w&&w.sendBeacon&&rk.push({transport:"sendBeacon",method:a=>{var l=Ns(a.url,{beacon:"1"});try{var u,{contentType:c,body:d}=null!==(u=Us(a))&&void 0!==u?u:{},g="string"==typeof d?new Blob([d],{type:c}):d;w.sendBeacon(l,g)}catch(a){}}});var Bs=function(a,l){if(!function(a){try{new RegExp(a)}catch(a){return!1}return!0}(l))return!1;try{return new RegExp(l).test(a)}catch(a){return!1}};function Hs(a,l,u){return zs({distinct_id:a,userPropertiesToSet:l,userPropertiesToSetOnce:u})}var rI={exact:(a,l)=>l.some(l=>a.some(a=>l===a)),is_not:(a,l)=>l.every(l=>a.every(a=>l!==a)),regex:(a,l)=>l.some(l=>a.some(a=>Bs(l,a))),not_regex:(a,l)=>l.every(l=>a.every(a=>!Bs(l,a))),icontains:(a,l)=>l.map(Gs).some(l=>a.map(Gs).some(a=>l.includes(a))),not_icontains:(a,l)=>l.map(Gs).every(l=>a.map(Gs).every(a=>!l.includes(a)))},Gs=a=>a.toLowerCase(),rA=ep("[Error tracking]");let Vs=class Vs{constructor(a){var l,u;this.ge=[],this._instance=a,this.ge=null!==(l=null==(u=this._instance.persistence)?void 0:u.get_property(eR))&&void 0!==l?l:[]}onRemoteConfig(a){var l,u,c,d=null!==(l=null==(u=a.errorTracking)?void 0:u.suppressionRules)&&void 0!==l?l:[],g=null==(c=a.errorTracking)?void 0:c.captureExtensionExceptions;this.ge=d,this._instance.persistence&&this._instance.persistence.register({[eR]:this.ge,[ew]:g})}get _e(){var a,l=!!this._instance.get_property(ew),u=this._instance.config.error_tracking.captureExtensionExceptions;return null!==(a=null!=u?u:l)&&void 0!==a&&a}sendExceptionEvent(a){if(this.me(a))rA.info("Skipping exception capture because a suppression rule matched");else{if(this._e||!this.be(a))return this._instance.capture("$exception",a,{_noTruncate:!0,_batchKey:"exceptionEvent"});rA.info("Skipping exception capture because it was thrown by an extension")}}me(a){var l=a.$exception_list;if(!l||!ec(l)||0===l.length)return!1;var u=l.reduce((a,l)=>{var{type:u,value:c}=l;return R(u)&&u.length>0&&a.$exception_types.push(u),R(c)&&c.length>0&&a.$exception_values.push(c),a},{$exception_types:[],$exception_values:[]});return this.ge.some(a=>{var l=a.values.map(a=>{var l,c=rI[a.operator],d=ec(a.value)?a.value:[a.value],g=null!==(l=u[a.key])&&void 0!==l?l:[];return d.length>0&&c(d,g)});return"OR"===a.type?l.some(Boolean):l.every(Boolean)})}be(a){var l=a.$exception_list;return!(!l||!ec(l))&&l.flatMap(a=>{var l,u;return null!==(l=null==(u=a.stacktrace)?void 0:u.frames)&&void 0!==l?l:[]}).some(a=>a.filename&&a.filename.startsWith("chrome-extension://"))}};var rF="Mobile",rj="Android",rN="Tablet",rL=rj+" "+rN,rD="iPad",r$="Apple",rH=r$+" Watch",rU="Safari",rB="BlackBerry",rq="Samsung",rG=rq+"Browser",rW=rq+" Internet",rz="Chrome",rY=rz+" OS",rV=rz+" iOS",rK="Internet Explorer",rX=rK+" "+rF,rJ="Opera",rZ=rJ+" Mini",rQ="Edge",r0="Microsoft "+rQ,r1="Firefox",r2=r1+" iOS",r3="Nintendo",r5="PlayStation",r4="Xbox",r6=rj+" "+rF,r8=rF+" "+rU,r9="Windows",r7=r9+" Phone",ie="Nokia",il="Ouya",iu="Generic",ic=iu+" "+rF.toLowerCase(),id=iu+" "+rN.toLowerCase(),ih="Konqueror",ip="(\\d+(\\.\\d+)?)",i_=RegExp("Version/"+ip),ig=RegExp(r4,"i"),iv=RegExp(r5+" \\w+","i"),im=RegExp(r3+" \\w+","i"),iy=RegExp(rB+"|PlayBook|BB10","i"),ib={"NT3.51":"NT 3.11","NT4.0":"NT 4.0","5.0":"2000",5.1:"XP",5.2:"XP","6.0":"Vista",6.1:"7",6.2:"8",6.3:"8.1",6.4:"10","10.0":"10"},zn=(a,l)=>l&&_(l,r$)||function(a){return _(a,rU)&&!_(a,rz)&&!_(a,rj)}(a),Un=function(a,l){return l=l||"",_(a," OPR/")&&_(a,"Mini")?rZ:_(a," OPR/")?rJ:iy.test(a)?rB:_(a,"IE"+rF)||_(a,"WPDesktop")?rX:_(a,rG)?rW:_(a,rQ)||_(a,"Edg/")?r0:_(a,"FBIOS")?"Facebook "+rF:_(a,"UCWEB")||_(a,"UCBrowser")?"UC Browser":_(a,"CriOS")?rV:_(a,"CrMo")||_(a,rz)?rz:_(a,rj)&&_(a,rU)?r6:_(a,"FxiOS")?r2:_(a.toLowerCase(),ih.toLowerCase())?ih:zn(a,l)?_(a,rF)?r8:rU:_(a,r1)?r1:_(a,"MSIE")||_(a,"Trident/")?rK:_(a,"Gecko")?r1:""},iE={[rX]:[RegExp("rv:"+ip)],[r0]:[RegExp(rQ+"?\\/"+ip)],[rz]:[RegExp("("+rz+"|CrMo)\\/"+ip)],[rV]:[RegExp("CriOS\\/"+ip)],"UC Browser":[RegExp("(UCBrowser|UCWEB)\\/"+ip)],[rU]:[i_],[r8]:[i_],[rJ]:[RegExp("(Opera|OPR)\\/"+ip)],[r1]:[RegExp(r1+"\\/"+ip)],[r2]:[RegExp("FxiOS\\/"+ip)],[ih]:[RegExp("Konqueror[:/]?"+ip,"i")],[rB]:[RegExp(rB+" "+ip),i_],[r6]:[RegExp("android\\s"+ip,"i")],[rW]:[RegExp(rG+"\\/"+ip)],[rK]:[RegExp("(rv:|MSIE )"+ip)],Mozilla:[RegExp("rv:"+ip)]},Bn=function(a,l){var u=iE[Un(a,l)];if(P(u))return null;for(var c=0;c<u.length;c++){var d=u[c],g=a.match(d);if(g)return parseFloat(g[g.length-2])}return null},iP=[[RegExp(r4+"; "+r4+" (.*?)[);]","i"),a=>[r4,a&&a[1]||""]],[RegExp(r3,"i"),[r3,""]],[RegExp(r5,"i"),[r5,""]],[iy,[rB,""]],[RegExp(r9,"i"),(a,l)=>{if(/Phone/.test(l)||/WPDesktop/.test(l))return[r7,""];if(new RegExp(rF).test(l)&&!/IEMobile\b/.test(l))return[r9+" "+rF,""];var u=/Windows NT ([0-9.]+)/i.exec(l);if(u&&u[1]){var c=ib[u[1]]||"";return/arm/i.test(l)&&(c="RT"),[r9,c]}return[r9,""]}],[/((iPhone|iPad|iPod).*?OS (\d+)_(\d+)_?(\d+)?|iPhone)/,a=>a&&a[3]?["iOS",[a[3],a[4],a[5]||"0"].join(".")]:["iOS",""]],[/(watch.*\/(\d+\.\d+\.\d+)|watch os,(\d+\.\d+),)/i,a=>{var l="";return a&&a.length>=3&&(l=P(a[2])?a[3]:a[2]),["watchOS",l]}],[RegExp("("+rj+" (\\d+)\\.(\\d+)\\.?(\\d+)?|"+rj+")","i"),a=>a&&a[2]?[rj,[a[2],a[3],a[4]||"0"].join(".")]:[rj,""]],[/Mac OS X (\d+)[_.](\d+)[_.]?(\d+)?/i,a=>{var l=["Mac OS X",""];if(a&&a[1]){var u=[a[1],a[2],a[3]||"0"];l[1]=u.join(".")}return l}],[/Mac/i,["Mac OS X",""]],[/CrOS/,[rY,""]],[/Linux|debian/i,["Linux",""]]],Wn=function(a){return im.test(a)?r3:iv.test(a)?r5:ig.test(a)?r4:RegExp(il,"i").test(a)?il:RegExp("("+r7+"|WPDesktop)","i").test(a)?r7:/iPad/.test(a)?rD:/iPod/.test(a)?"iPod Touch":/iPhone/.test(a)?"iPhone":/(watch)(?: ?os[,/]|\d,\d\/)[\d.]+/i.test(a)?rH:iy.test(a)?rB:/(kobo)\s(ereader|touch)/i.test(a)?"Kobo":RegExp(ie,"i").test(a)?ie:/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i.test(a)||/(kf[a-z]+)( bui|\)).+silk\//i.test(a)?"Kindle Fire":/(Android|ZTE)/i.test(a)?!new RegExp(rF).test(a)||/(9138B|TB782B|Nexus [97]|pixel c|HUAWEISHT|BTV|noble nook|smart ultra 6)/i.test(a)?/pixel[\daxl ]{1,6}/i.test(a)&&!/pixel c/i.test(a)||/(huaweimed-al00|tah-|APA|SM-G92|i980|zte|U304AA)/i.test(a)||/lmy47v/i.test(a)&&!/QTAQZ3/i.test(a)?rj:rL:rj:RegExp("(pda|"+rF+")","i").test(a)?ic:RegExp(rN,"i").test(a)&&!RegExp(rN+" pc","i").test(a)?id:""},iS="https?://(.*)",iR=["gclid","gclsrc","dclid","gbraid","wbraid","fbclid","msclkid","twclid","li_fat_id","igshid","ttclid","rdt_cid","epik","qclid","sccid","irclid","_kx"],iw=X(["utm_source","utm_medium","utm_campaign","utm_content","utm_term","gad_source","mc_cid"],iR),ix="<masked>",iO=["li_fat_id"];function Xn(a,l,u){if(!x)return{};var c,d=l?X([],iR,u||[]):[],g=Qn(Ti(x.URL,d,ix),a);return Y((c={},K(iO,function(a){var l=tv.V(a);c[a]=l||null}),c),g)}function Qn(a,l){var u=iw.concat(l||[]),c={};return K(u,function(l){var u=Ri(a,l);c[l]=u||null}),c}function Zn(a){var l=a?0===a.search(iS+"google.([^/?]*)")?"google":0===a.search(iS+"bing.com")?"bing":0===a.search(iS+"yahoo.com")?"yahoo":0===a.search(iS+"duckduckgo.com")?"duckduckgo":null:null,u="yahoo"!=l?"q":"p",c={};if(!C(l)){c.$search_engine=l;var d=x?Ri(x.referrer,u):"";d.length&&(c.ph_keyword=d)}return c}function to(){return navigator.language||navigator.userLanguage}function io(){return(null==x?void 0:x.referrer)||"$direct"}function eo(a,l){var u=a?X([],iR,l||[]):[],c=null==j?void 0:j.href.substring(0,1e3);return{r:io().substring(0,1e3),u:c?Ti(c,u,ix):void 0}}function ro(a){var l,{r:u,u:c}=a,d={$referrer:u,$referring_domain:null==u?void 0:"$direct"==u?"$direct":null==(l=Ii(u))?void 0:l.host};if(c){d.$current_url=c;var g=Ii(c);d.$host=null==g?void 0:g.host,d.$pathname=null==g?void 0:g.pathname,Y(d,Qn(c))}return u&&Y(d,Zn(u)),d}function so(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch(a){return}}function no(){try{return(new Date).getTimezoneOffset()}catch(a){return}}function oo(a,l){if(!B)return{};var u,d,g=a?X([],iR,l||[]):[],[v,S]=function(a){for(var l=0;l<iP.length;l++){var[u,c]=iP[l],d=u.exec(a),g=d&&(k(c)?c(d,a):c);if(g)return g}return["",""]}(B);return Y(it({$os:v,$os_version:S,$browser:Un(B,navigator.vendor),$device:Wn(B),$device_type:(d=Wn(B))===rD||d===rL||"Kobo"===d||"Kindle Fire"===d||d===id?rN:d===r3||d===r4||d===r5||d===il?"Console":d===rH?"Wearable":d?rF:"Desktop",$timezone:so(),$timezone_offset:no()}),{$current_url:Ti(null==j?void 0:j.href,g,ix),$host:null==j?void 0:j.host,$pathname:null==j?void 0:j.pathname,$raw_user_agent:B.length>1e3?B.substring(0,997)+"...":B,$browser_version:Bn(B,navigator.vendor),$browser_language:to(),$browser_language_prefix:"string"==typeof(u=to())?u.split("-")[0]:void 0,$screen_height:null==c?void 0:c.screen.height,$screen_width:null==c?void 0:c.screen.width,$viewport_height:null==c?void 0:c.innerHeight,$viewport_width:null==c?void 0:c.innerWidth,$lib:"web",$lib_version:J.LIB_VERSION,$insert_id:Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10),$time:Date.now()/1e3})}var iT=ep("[FeatureFlags]"),iM="$active_feature_flags",iC="$override_feature_flags",ik="$feature_flag_payloads",iI="$override_feature_flag_payloads",iA="$feature_flag_request_id",fo=a=>{var l={};for(var[u,c]of Q(a||{}))c&&(l[u]=c);return l},po=a=>{var l=a.flags;return l?(a.featureFlags=Object.fromEntries(Object.keys(l).map(a=>{var u;return[a,null!==(u=l[a].variant)&&void 0!==u?u:l[a].enabled]})),a.featureFlagPayloads=Object.fromEntries(Object.keys(l).filter(a=>l[a].enabled).filter(a=>{var u;return null==(u=l[a].metadata)?void 0:u.payload}).map(a=>{var u;return[a,null==(u=l[a].metadata)?void 0:u.payload]}))):iT.warn("Using an older version of the feature flags endpoint. Please upgrade your PostHog server to the latest version"),a},iF=function(a){return a.FeatureFlags="feature_flags",a.Recordings="recordings",a}({});let _o=class _o{constructor(a){this.ye=!1,this.we=!1,this.Se=!1,this.$e=!1,this.xe=!1,this.ke=!1,this.Ee=!1,this._instance=a,this.featureFlagEventHandlers=[]}flags(){if(this._instance.config.__preview_remote_config)this.ke=!0;else{var a=!this.Ie&&(this._instance.config.advanced_disable_feature_flags||this._instance.config.advanced_disable_feature_flags_on_first_load);this.Pe({disableFlags:a})}}get hasLoadedFlags(){return this.we}getFlags(){return Object.keys(this.getFlagVariants())}getFlagsWithDetails(){var a=this._instance.get_property(eq),l=this._instance.get_property(iC),u=this._instance.get_property(iI);if(!u&&!l)return a||{};var c=Y({},a||{});for(var d of[...new Set([...Object.keys(u||{}),...Object.keys(l||{})])]){var g,v,S=c[d],w=null==l?void 0:l[d],x=P(w)?null!==(g=null==S?void 0:S.enabled)&&void 0!==g&&g:!!w,j=P(w)?S.variant:"string"==typeof w?w:void 0,N=null==u?void 0:u[d],$=f({},S,{enabled:x,variant:x?null!=j?j:null==S?void 0:S.variant:void 0});x!==(null==S?void 0:S.enabled)&&($.original_enabled=null==S?void 0:S.enabled),j!==(null==S?void 0:S.variant)&&($.original_variant=null==S?void 0:S.variant),N&&($.metadata=f({},null==S?void 0:S.metadata,{payload:N,original_payload:null==S||null==(v=S.metadata)?void 0:v.payload})),c[d]=$}return this.ye||(iT.warn(" Overriding feature flag details!",{flagDetails:a,overriddenPayloads:u,finalDetails:c}),this.ye=!0),c}getFlagVariants(){var a=this._instance.get_property(eU),l=this._instance.get_property(iC);if(!l)return a||{};for(var u=Y({},a),c=Object.keys(l),d=0;d<c.length;d++)u[c[d]]=l[c[d]];return this.ye||(iT.warn(" Overriding feature flags!",{enabledFlags:a,overriddenFlags:l,finalFlags:u}),this.ye=!0),u}getFlagPayloads(){var a=this._instance.get_property(ik),l=this._instance.get_property(iI);if(!l)return a||{};for(var u=Y({},a||{}),c=Object.keys(l),d=0;d<c.length;d++)u[c[d]]=l[c[d]];return this.ye||(iT.warn(" Overriding feature flag payloads!",{flagPayloads:a,overriddenPayloads:l,finalPayloads:u}),this.ye=!0),u}reloadFeatureFlags(){this.$e||this._instance.config.advanced_disable_feature_flags||this.Ie||(this.Ie=setTimeout(()=>{this.Pe()},5))}Re(){clearTimeout(this.Ie),this.Ie=void 0}ensureFlagsLoaded(){this.we||this.Se||this.Ie||this.reloadFeatureFlags()}setAnonymousDistinctId(a){this.$anon_distinct_id=a}setReloadingPaused(a){this.$e=a}Pe(a){var l;if(this.Re(),!this._instance.L()){if(this.Se)this.xe=!0;else{var u={token:this._instance.config.token,distinct_id:this._instance.get_distinct_id(),groups:this._instance.getGroups(),$anon_distinct_id:this.$anon_distinct_id,person_properties:f({},(null==(l=this._instance.persistence)?void 0:l.get_initial_props())||{},this._instance.get_property(eG)||{}),group_properties:this._instance.get_property(eW)};(null!=a&&a.disableFlags||this._instance.config.advanced_disable_feature_flags)&&(u.disable_flags=!0);var c=this._instance.config.__preview_remote_config,d=this._instance.config.advanced_only_evaluate_survey_feature_flags?"&only_evaluate_survey_feature_flags=true":"",g=this._instance.requestRouter.endpointFor("api",(c?"/flags/?v=2":"/flags/?v=2&config=true")+d);c&&(u.timezone=so()),this.Se=!0,this._instance.Te({method:"POST",url:g,data:u,compression:this._instance.config.disable_compression?void 0:tu.Base64,timeout:this._instance.config.feature_flag_request_timeout_ms,callback:a=>{var l,c,d,g=!0;200===a.statusCode&&(this.xe||(this.$anon_distinct_id=void 0),g=!1),this.Se=!1,this.ke||(this.ke=!0,this._instance.Ce(null!==(d=a.json)&&void 0!==d?d:{})),(!u.disable_flags||this.xe)&&((this.Ee=!g,a.json&&null!=(c=a.json.quotaLimited)&&c.includes(iF.FeatureFlags))?iT.warn("You have hit your feature flags quota limit, and will not be able to load feature flags until the quota is reset.  Please visit https://posthog.com/docs/billing/limits-alerts to learn more."):(u.disable_flags||this.receivedFeatureFlags(null!==(l=a.json)&&void 0!==l?l:{},g),this.xe&&(this.xe=!1,this.Pe())))}})}}}getFeatureFlag(a,l){if(void 0===l&&(l={}),this.we||this.getFlags()&&this.getFlags().length>0){var u=this.getFlagVariants()[a],c=""+u,d=this._instance.get_property(iA)||void 0,g=this._instance.get_property(eV)||{};if((l.send_event||!("send_event"in l))&&(!(a in g)||!g[a].includes(c))){ec(g[a])?g[a].push(c):g[a]=[c],null==(w=this._instance.persistence)||w.register({[eV]:g});var v=this.getFeatureFlagDetails(a),S={$feature_flag:a,$feature_flag_response:u,$feature_flag_payload:this.getFeatureFlagPayload(a)||null,$feature_flag_request_id:d,$feature_flag_bootstrapped_response:(null==(x=this._instance.config.bootstrap)||null==(x=x.featureFlags)?void 0:x[a])||null,$feature_flag_bootstrapped_payload:(null==(j=this._instance.config.bootstrap)||null==(j=j.featureFlagPayloads)?void 0:j[a])||null,$used_bootstrap_value:!this.Ee};P(null==v||null==(N=v.metadata)?void 0:N.version)||(S.$feature_flag_version=v.metadata.version);var w,x,j,N,$,H,B,W,J,ee,en=null!==($=null==v||null==(H=v.reason)?void 0:H.description)&&void 0!==$?$:null==v||null==(B=v.reason)?void 0:B.code;en&&(S.$feature_flag_reason=en),null!=v&&null!=(W=v.metadata)&&W.id&&(S.$feature_flag_id=v.metadata.id),P(null==v?void 0:v.original_variant)&&P(null==v?void 0:v.original_enabled)||(S.$feature_flag_original_response=P(v.original_variant)?v.original_enabled:v.original_variant),null!=v&&null!=(J=v.metadata)&&J.original_payload&&(S.$feature_flag_original_payload=null==v||null==(ee=v.metadata)?void 0:ee.original_payload),this._instance.capture("$feature_flag_called",S)}return u}iT.warn('getFeatureFlag for key "'+a+"\" failed. Feature flags didn't load in time.")}getFeatureFlagDetails(a){return this.getFlagsWithDetails()[a]}getFeatureFlagPayload(a){return this.getFlagPayloads()[a]}getRemoteConfigPayload(a,l){var u=this._instance.config.token;this._instance.Te({method:"POST",url:this._instance.requestRouter.endpointFor("api","/flags/?v=2&config=true"),data:{distinct_id:this._instance.get_distinct_id(),token:u},compression:this._instance.config.disable_compression?void 0:tu.Base64,timeout:this._instance.config.feature_flag_request_timeout_ms,callback:u=>{var c,d=null==(c=u.json)?void 0:c.featureFlagPayloads;l((null==d?void 0:d[a])||void 0)}})}isFeatureEnabled(a,l){if(void 0===l&&(l={}),this.we||this.getFlags()&&this.getFlags().length>0)return!!this.getFeatureFlag(a,l);iT.warn('isFeatureEnabled for key "'+a+"\" failed. Feature flags didn't load in time.")}addFeatureFlagsHandler(a){this.featureFlagEventHandlers.push(a)}removeFeatureFlagsHandler(a){this.featureFlagEventHandlers=this.featureFlagEventHandlers.filter(l=>l!==a)}receivedFeatureFlags(a,l){if(this._instance.persistence){this.we=!0;var u=this.getFlagVariants(),c=this.getFlagPayloads(),d=this.getFlagsWithDetails();(function(a,l,u,c,d){void 0===u&&(u={}),void 0===c&&(c={}),void 0===d&&(d={});var g=po(a),v=g.flags,S=g.featureFlags,w=g.featureFlagPayloads;if(S){var x=a.requestId;if(ec(S)){iT.warn("v1 of the feature flags endpoint is deprecated. Please use the latest version.");var j={};if(S)for(var N=0;N<S.length;N++)j[S[N]]=!0;l&&l.register({[iM]:S,[eU]:j})}else{var $=S,H=w,B=v;a.errorsWhileComputingFlags&&($=f({},u,$),H=f({},c,H),B=f({},d,B)),l&&l.register(f({[iM]:Object.keys(fo($)),[eU]:$||{},[ik]:H||{},[eq]:B||{}},x?{[iA]:x}:{}))}}})(a,this._instance.persistence,u,c,d),this.Me(l)}}override(a,l){void 0===l&&(l=!1),iT.warn("override is deprecated. Please use overrideFeatureFlags instead."),this.overrideFeatureFlags({flags:a,suppressWarning:l})}overrideFeatureFlags(a){if(!this._instance.__loaded||!this._instance.persistence)return iT.uninitializedWarning("posthog.featureFlags.overrideFeatureFlags");if(!1===a)return this._instance.persistence.unregister(iC),this._instance.persistence.unregister(iI),void this.Me();if(a&&"object"==typeof a&&("flags"in a||"payloads"in a)){var l;if(this.ye=!!(null!==(l=a.suppressWarning)&&void 0!==l&&l),"flags"in a){if(!1===a.flags)this._instance.persistence.unregister(iC);else if(a.flags){if(ec(a.flags)){for(var u={},c=0;c<a.flags.length;c++)u[a.flags[c]]=!0;this._instance.persistence.register({[iC]:u})}else this._instance.persistence.register({[iC]:a.flags})}}return"payloads"in a&&(!1===a.payloads?this._instance.persistence.unregister(iI):a.payloads&&this._instance.persistence.register({[iI]:a.payloads})),void this.Me()}this.Me()}onFeatureFlags(a){if(this.addFeatureFlagsHandler(a),this.we){var{flags:l,flagVariants:u}=this.Fe();a(l,u)}return()=>this.removeFeatureFlagsHandler(a)}updateEarlyAccessFeatureEnrollment(a,l,u){var c,d=(this._instance.get_property(eB)||[]).find(l=>l.flagKey===a),g={["$feature_enrollment/"+a]:l},v={$feature_flag:a,$feature_enrollment:l,$set:g};d&&(v.$early_access_feature_name=d.name),u&&(v.$feature_enrollment_stage=u),this._instance.capture("$feature_enrollment_update",v),this.setPersonPropertiesForFlags(g,!1);var S=f({},this.getFlagVariants(),{[a]:l});null==(c=this._instance.persistence)||c.register({[iM]:Object.keys(fo(S)),[eU]:S}),this.Me()}getEarlyAccessFeatures(a,l,u){void 0===l&&(l=!1);var c=this._instance.get_property(eB),d=u?"&"+u.map(a=>"stage="+a).join("&"):"";if(c&&!l)return a(c);this._instance.Te({url:this._instance.requestRouter.endpointFor("api","/api/early_access_features/?token="+this._instance.config.token+d),method:"GET",callback:l=>{var u,c;if(l.json){var d=l.json.earlyAccessFeatures;return null==(u=this._instance.persistence)||u.unregister(eB),null==(c=this._instance.persistence)||c.register({[eB]:d}),a(d)}}})}Fe(){var a=this.getFlags(),l=this.getFlagVariants();return{flags:a.filter(a=>l[a]),flagVariants:Object.keys(l).filter(a=>l[a]).reduce((a,u)=>(a[u]=l[u],a),{})}}Me(a){var{flags:l,flagVariants:u}=this.Fe();this.featureFlagEventHandlers.forEach(c=>c(l,u,{errorsLoading:a}))}setPersonPropertiesForFlags(a,l){void 0===l&&(l=!0);var u=this._instance.get_property(eG)||{};this._instance.register({[eG]:f({},u,a)}),l&&this._instance.reloadFeatureFlags()}resetPersonPropertiesForFlags(){this._instance.unregister(eG)}setGroupPropertiesForFlags(a,l){void 0===l&&(l=!0);var u=this._instance.get_property(eW)||{};0!==Object.keys(u).length&&Object.keys(u).forEach(l=>{u[l]=f({},u[l],a[l]),delete a[l]}),this._instance.register({[eW]:f({},u,a)}),l&&this._instance.reloadFeatureFlags()}resetGroupPropertiesForFlags(a){if(a){var l=this._instance.get_property(eW)||{};this._instance.register({[eW]:f({},l,{[a]:{}})})}else this._instance.unregister(eW)}reset(){this.we=!1,this.Se=!1,this.$e=!1,this.xe=!1,this.ke=!1,this.Ee=!1,this.$anon_distinct_id=void 0,this.Re(),this.ye=!1}};var ij=["cookie","localstorage","localstorage+cookie","sessionstorage","memory"];let bo=class bo{constructor(a,l){this.A=a,this.props={},this.Oe=!1,this.Ae=(a=>{var l="";return a.token&&(l=a.token.replace(/\+/g,"PL").replace(/\//g,"SL").replace(/=/g,"EQ")),a.persistence_name?"ph_"+a.persistence_name:"ph_"+l+"_posthog"})(a),this.it=this.De(a),this.load(),a.debug&&ef.info("Persistence loaded",a.persistence,f({},this.props)),this.update_config(a,a,l),this.save()}isDisabled(){return!!this.je}De(a){-1===ij.indexOf(a.persistence.toLowerCase())&&(ef.critical("Unknown persistence type "+a.persistence+"; falling back to localStorage+cookie"),a.persistence="localStorage+cookie");var l=a.persistence.toLowerCase();return"localstorage"===l&&ty.G()?ty:"localstorage+cookie"===l&&tE.G()?tE:"sessionstorage"===l&&tw.G()?tw:"memory"===l?tS:"cookie"===l?tv:tE.G()?tE:tv}properties(){var a={};return K(this.props,function(l,u){if(u===eU&&E(l))for(var c,d=Object.keys(l),g=0;g<d.length;g++)a["$feature/"+d[g]]=l[d[g]];else c=!1,(C(e5)?c:S&&e5.indexOf===S?-1!=e5.indexOf(u):(K(e5,function(a){if(c||(c=a===u))return eg}),c))||(a[u]=l)}),a}load(){if(!this.je){var a=this.it.K(this.Ae);a&&(this.props=Y({},a))}}save(){this.je||this.it.Y(this.Ae,this.props,this.Le,this.Ne,this.ze,this.A.debug)}remove(){this.it.X(this.Ae,!1),this.it.X(this.Ae,!0)}clear(){this.remove(),this.props={}}register_once(a,l,u){if(E(a)){P(l)&&(l="None"),this.Le=P(u)?this.Ue:u;var c=!1;if(K(a,(a,u)=>{this.props.hasOwnProperty(u)&&this.props[u]!==l||(this.props[u]=a,c=!0)}),c)return this.save(),!0}return!1}register(a,l){if(E(a)){this.Le=P(l)?this.Ue:l;var u=!1;if(K(a,(l,c)=>{a.hasOwnProperty(c)&&this.props[c]!==l&&(this.props[c]=l,u=!0)}),u)return this.save(),!0}return!1}unregister(a){a in this.props&&(delete this.props[a],this.save())}update_campaign_params(){if(!this.Oe){var a=Xn(this.A.custom_campaign_params,this.A.mask_personal_data_properties,this.A.custom_personal_data_properties);I(it(a))||this.register(a),this.Oe=!0}}update_search_keyword(){var a;this.register((a=null==x?void 0:x.referrer)?Zn(a):{})}update_referrer_info(){var a;this.register_once({$referrer:io(),$referring_domain:null!=x&&x.referrer&&(null==(a=Ii(x.referrer))?void 0:a.host)||"$direct"},void 0)}set_initial_person_info(){this.props[eZ]||this.props[eQ]||this.register_once({[e0]:eo(this.A.mask_personal_data_properties,this.A.custom_personal_data_properties)},void 0)}get_initial_props(){var a={};K([eQ,eZ],l=>{var u=this.props[l];u&&K(u,function(l,u){a["$initial_"+b(u)]=l})});var l,u,c=this.props[e0];return c&&Y(a,(l=ro(c),u={},K(l,function(a,l){u["$initial_"+b(l)]=a}),u)),a}safe_merge(a){return K(this.props,function(l,u){u in a||(a[u]=l)}),a}update_config(a,l,u){if(this.Ue=this.Le=a.cookie_expiration,this.set_disabled(a.disable_persistence||!!u),this.set_cross_subdomain(a.cross_subdomain_cookie),this.set_secure(a.secure_cookie),a.persistence!==l.persistence){var c=this.De(a),d=this.props;this.clear(),this.it=c,this.props=d,this.save()}}set_disabled(a){this.je=a,this.je?this.remove():this.save()}set_cross_subdomain(a){a!==this.Ne&&(this.Ne=a,this.remove(),this.save())}set_secure(a){a!==this.ze&&(this.ze=a,this.remove(),this.save())}set_event_timer(a,l){var u=this.props[eb]||{};u[a]=l,this.props[eb]=u,this.save()}remove_event_timer(a){var l=(this.props[eb]||{})[a];return P(l)||(delete this.props[eb][a],this.save()),l}get_property(a){return this.props[a]}set_property(a,l){this.props[a]=l,this.save()}};let yo=class yo{constructor(){this.qe={},this.qe={}}on(a,l){return this.qe[a]||(this.qe[a]=[]),this.qe[a].push(l),()=>{this.qe[a]=this.qe[a].filter(a=>a!==l)}}emit(a,l){for(var u of this.qe[a]||[])u(l);for(var c of this.qe["*"]||[])c(a,l)}};let wo=class wo{constructor(a){this.Be=new yo,this.He=(a,l)=>this.We(a,l)&&this.Ge(a,l)&&this.Je(a,l),this.We=(a,l)=>null==l||!l.event||(null==a?void 0:a.event)===(null==l?void 0:l.event),this._instance=a,this.Ve=new Set,this.Ke=new Set}init(){var a,l;P(null==(a=this._instance)?void 0:a.Ye)||null==(l=this._instance)||l.Ye((a,l)=>{this.on(a,l)})}register(a){var l,u;if(!P(null==(l=this._instance)?void 0:l.Ye)&&(a.forEach(a=>{var l,u;null==(l=this.Ke)||l.add(a),null==(u=a.steps)||u.forEach(a=>{var l;null==(l=this.Ve)||l.add((null==a?void 0:a.event)||"")})}),null!=(u=this._instance)&&u.autocapture)){var c,d=new Set;a.forEach(a=>{var l;null==(l=a.steps)||l.forEach(a=>{null!=a&&a.selector&&d.add(null==a?void 0:a.selector)})}),null==(c=this._instance)||c.autocapture.setElementSelectors(d)}}on(a,l){var u;null!=l&&0!=a.length&&(this.Ve.has(a)||this.Ve.has(null==l?void 0:l.event))&&this.Ke&&(null==(u=this.Ke)?void 0:u.size)>0&&this.Ke.forEach(a=>{this.Xe(l,a)&&this.Be.emit("actionCaptured",a.name)})}Qe(a){this.onAction("actionCaptured",l=>a(l))}Xe(a,l){if(null==(null==l?void 0:l.steps))return!1;for(var u of l.steps)if(this.He(a,u))return!0;return!1}onAction(a,l){return this.Be.on(a,l)}Ge(a,l){if(null!=l&&l.url){var u,c=null==a||null==(u=a.properties)?void 0:u.$current_url;if(!c||"string"!=typeof c||!wo.Ze(c,null==l?void 0:l.url,(null==l?void 0:l.url_matching)||"contains"))return!1}return!0}static Ze(a,l,u){switch(u){case"regex":return!!c&&Bs(a,l);case"exact":return l===a;case"contains":return Bs(a,wo.tr(l).replace(/_/g,".").replace(/%/g,".*"));default:return!1}}static tr(a){return a.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}Je(a,l){if((null!=l&&l.href||null!=l&&l.tag_name||null!=l&&l.text)&&!this.ir(a).some(a=>!(null!=l&&l.href&&!wo.Ze(a.href||"",null==l?void 0:l.href,(null==l?void 0:l.href_matching)||"exact"))&&(null==l||!l.tag_name||a.tag_name===(null==l?void 0:l.tag_name))&&!(null!=l&&l.text&&!wo.Ze(a.text||"",null==l?void 0:l.text,(null==l?void 0:l.text_matching)||"exact")&&!wo.Ze(a.$el_text||"",null==l?void 0:l.text,(null==l?void 0:l.text_matching)||"exact"))))return!1;if(null!=l&&l.selector){var u,c=null==a||null==(u=a.properties)?void 0:u.$element_selectors;if(!c||!c.includes(null==l?void 0:l.selector))return!1}return!0}ir(a){return null==(null==a?void 0:a.properties.$elements)?[]:null==a?void 0:a.properties.$elements}};(function(a){a.Button="button",a.Tab="tab",a.Selector="selector"})({}),function(a){a.TopLeft="top_left",a.TopRight="top_right",a.TopCenter="top_center",a.MiddleLeft="middle_left",a.MiddleRight="middle_right",a.MiddleCenter="middle_center",a.Left="left",a.Center="center",a.Right="right",a.NextToTrigger="next_to_trigger"}({});var iN=function(a){return a.Popover="popover",a.API="api",a.Widget="widget",a.ExternalSurvey="external_survey",a}({}),iL=(function(a){a.Open="open",a.MultipleChoice="multiple_choice",a.SingleChoice="single_choice",a.Rating="rating",a.Link="link"}({}),function(a){a.NextQuestion="next_question",a.End="end",a.ResponseBased="response_based",a.SpecificQuestion="specific_question"}({}),function(a){a.Once="once",a.Recurring="recurring",a.Always="always"}({}),function(a){return a.SHOWN="survey shown",a.DISMISSED="survey dismissed",a.SENT="survey sent",a}({})),iD=function(a){return a.SURVEY_ID="$survey_id",a.SURVEY_NAME="$survey_name",a.SURVEY_RESPONSE="$survey_response",a.SURVEY_ITERATION="$survey_iteration",a.SURVEY_ITERATION_START_DATE="$survey_iteration_start_date",a.SURVEY_PARTIALLY_COMPLETED="$survey_partially_completed",a.SURVEY_SUBMISSION_ID="$survey_submission_id",a.SURVEY_QUESTIONS="$survey_questions",a.SURVEY_COMPLETED="$survey_completed",a}({}),i$=ep("[Surveys]"),iH="seenSurvey_",Mo=(a,l)=>{var u="$survey_"+l+"/"+a.id;return a.current_iteration&&a.current_iteration>0&&(u="$survey_"+l+"/"+a.id+"/"+a.current_iteration),u},Fo=a=>{var l=""+iH+a.id;return a.current_iteration&&a.current_iteration>0&&(l=""+iH+a.id+"_"+a.current_iteration),l},iU=[iN.Popover,iN.Widget,iN.API];let Ao=class Ao{constructor(a){this._instance=a,this.er=new Map,this.rr=new Map}register(a){var l;P(null==(l=this._instance)?void 0:l.Ye)||(this.sr(a),this.nr(a))}nr(a){var l=a.filter(a=>{var l,u;return(null==(l=a.conditions)?void 0:l.actions)&&(null==(u=a.conditions)||null==(u=u.actions)||null==(u=u.values)?void 0:u.length)>0});0!==l.length&&(null==this.ar&&(this.ar=new wo(this._instance),this.ar.init(),this.ar.Qe(a=>{this.onAction(a)})),l.forEach(a=>{var l,u,c,d,g;a.conditions&&null!=(l=a.conditions)&&l.actions&&null!=(u=a.conditions)&&null!=(u=u.actions)&&u.values&&(null==(c=a.conditions)||null==(c=c.actions)||null==(c=c.values)?void 0:c.length)>0&&(null==(d=this.ar)||d.register(a.conditions.actions.values),null==(g=a.conditions)||null==(g=g.actions)||null==(g=g.values)||g.forEach(l=>{if(l&&l.name){var u=this.rr.get(l.name);u&&u.push(a.id),this.rr.set(l.name,u||[a.id])}}))}))}sr(a){var l;0!==a.filter(a=>{var l,u;return(null==(l=a.conditions)?void 0:l.events)&&(null==(u=a.conditions)||null==(u=u.events)||null==(u=u.values)?void 0:u.length)>0}).length&&(null==(l=this._instance)||l.Ye((a,l)=>{this.onEvent(a,l)}),a.forEach(a=>{var l;null==(l=a.conditions)||null==(l=l.events)||null==(l=l.values)||l.forEach(l=>{if(l&&l.name){var u=this.er.get(l.name);u&&u.push(a.id),this.er.set(l.name,u||[a.id])}})}))}onEvent(a,l){var u,c=(null==(u=this._instance)||null==(u=u.persistence)?void 0:u.props[eY])||[];if("survey shown"===a&&l&&c.length>0){i$.info("survey event matched, removing survey from activated surveys",{event:a,eventPayload:l,existingActivatedSurveys:c});var d,g=null==l||null==(d=l.properties)?void 0:d.$survey_id;if(g){var v=c.indexOf(g);v>=0&&(c.splice(v,1),this.lr(c))}}else this.er.has(a)&&(i$.info("survey event matched, updating activated surveys",{event:a,surveys:this.er.get(a)}),this.lr(c.concat(this.er.get(a)||[])))}onAction(a){var l,u=(null==(l=this._instance)||null==(l=l.persistence)?void 0:l.props[eY])||[];this.rr.has(a)&&this.lr(u.concat(this.rr.get(a)||[]))}lr(a){var l;null==(l=this._instance)||null==(l=l.persistence)||l.register({[eY]:[...new Set(a)]})}getSurveys(){var a;return(null==(a=this._instance)||null==(a=a.persistence)?void 0:a.props[eY])||[]}getEventToSurveys(){return this.er}ur(){return this.ar}};let Do=class Do{constructor(a){this.hr=void 0,this._surveyManager=null,this.dr=!1,this.vr=!1,this.cr=[],this._instance=a,this._surveyEventReceiver=null}onRemoteConfig(a){var l=a.surveys;if(M(l))return i$.warn("Flags not loaded yet. Not loading surveys.");var u=ec(l);this.hr=u?l.length>0:l,i$.info("flags response received, isSurveysEnabled: "+this.hr),this.loadIfEnabled()}reset(){localStorage.removeItem("lastSeenSurveyDate");for(var a=[],l=0;l<localStorage.length;l++){var u=localStorage.key(l);(null!=u&&u.startsWith(iH)||null!=u&&u.startsWith("inProgressSurvey_"))&&a.push(u)}a.forEach(a=>localStorage.removeItem(a))}loadIfEnabled(){if(!this._surveyManager){if(this.vr)i$.info("Already initializing surveys, skipping...");else if(this._instance.config.disable_surveys)i$.info("Disabled. Not loading surveys.");else if(this._instance.config.cookieless_mode)i$.info("Not loading surveys in cookieless mode.");else{var a=null==W?void 0:W.__PosthogExtensions__;if(a){if(!P(this.hr)||this._instance.config.advanced_enable_surveys){var l=this.hr||this._instance.config.advanced_enable_surveys;this.vr=!0;try{var u=a.generateSurveys;if(u)return void this.pr(u,l);var c=a.loadExternalDependency;if(!c)return void this.gr("PostHog loadExternalDependency extension not found.");c(this._instance,"surveys",u=>{u||!a.generateSurveys?this.gr("Could not load surveys script",u):this.pr(a.generateSurveys,l)})}catch(a){throw this.gr("Error initializing surveys",a),a}finally{this.vr=!1}}}else i$.error("PostHog Extensions not found.")}}}pr(a,l){this._surveyManager=a(this._instance,l),this._surveyEventReceiver=new Ao(this._instance),i$.info("Surveys loaded successfully"),this._r({isLoaded:!0})}gr(a,l){i$.error(a,l),this._r({isLoaded:!1,error:a})}onSurveysLoaded(a){return this.cr.push(a),this._surveyManager&&this._r({isLoaded:!0}),()=>{this.cr=this.cr.filter(l=>l!==a)}}getSurveys(a,l){if(void 0===l&&(l=!1),this._instance.config.disable_surveys)return i$.info("Disabled. Not loading surveys."),a([]);var u=this._instance.get_property(ez);if(u&&!l)return a(u,{isLoaded:!0});if(this.dr)return a([],{isLoaded:!1,error:"Surveys are already being loaded"});try{this.dr=!0,this._instance.Te({url:this._instance.requestRouter.endpointFor("api","/api/surveys/?token="+this._instance.config.token),method:"GET",timeout:this._instance.config.surveys_request_timeout_ms,callback:l=>{this.dr=!1;var u=l.statusCode;if(200!==u||!l.json){var c="Surveys API could not be loaded, status: "+u;return i$.error(c),a([],{isLoaded:!1,error:c})}var d,g,v=l.json.surveys||[],S=v.filter(a=>{var l,u;return!(!a.start_date||a.end_date)&&(!(null==(l=a.conditions)||null==(l=l.events)||null==(l=l.values)||!l.length)||!(null==(u=a.conditions)||null==(u=u.actions)||null==(u=u.values)||!u.length))});return S.length>0&&(null==(g=this._surveyEventReceiver)||g.register(S)),null==(d=this._instance.persistence)||d.register({[ez]:v}),a(v,{isLoaded:!0})}})}catch(a){throw this.dr=!1,a}}_r(a){for(var l of this.cr)try{if(!a.isLoaded)return l([],a);this.getSurveys(l)}catch(a){i$.error("Error in survey callback",a)}}getActiveMatchingSurveys(a,l){if(void 0===l&&(l=!1),!M(this._surveyManager))return this._surveyManager.getActiveMatchingSurveys(a,l);i$.warn("init was not called")}mr(a){var l=null;return this.getSurveys(u=>{var c;l=null!==(c=u.find(l=>l.id===a))&&void 0!==c?c:null}),l}br(a){if(M(this._surveyManager))return{eligible:!1,reason:"SDK is not enabled or survey functionality is not yet loaded"};var l="string"==typeof a?this.mr(a):a;return l?this._surveyManager.checkSurveyEligibility(l):{eligible:!1,reason:"Survey not found"}}canRenderSurvey(a){if(M(this._surveyManager))return i$.warn("init was not called"),{visible:!1,disabledReason:"SDK is not enabled or survey functionality is not yet loaded"};var l=this.br(a);return{visible:l.eligible,disabledReason:l.reason}}canRenderSurveyAsync(a,l){return M(this._surveyManager)?(i$.warn("init was not called"),Promise.resolve({visible:!1,disabledReason:"SDK is not enabled or survey functionality is not yet loaded"})):new Promise(u=>{this.getSurveys(l=>{var c,d=null!==(c=l.find(l=>l.id===a))&&void 0!==c?c:null;if(d){var g=this.br(d);u({visible:g.eligible,disabledReason:g.reason})}else u({visible:!1,disabledReason:"Survey not found"})},l)})}renderSurvey(a,l){if(M(this._surveyManager))i$.warn("init was not called");else{var u=this.mr(a);if(u){if(iU.includes(u.type)){var c=null==x?void 0:x.querySelector(l);c?this._surveyManager.renderSurvey(u,c):i$.warn("Survey element not found")}else i$.warn("Surveys of type "+u.type+" cannot be rendered in the app")}else i$.warn("Survey not found")}}};var iB=ep("[RateLimiter]");let Lo=class Lo{constructor(a){var l,u;this.serverLimits={},this.lastEventRateLimited=!1,this.checkForLimiting=a=>{var l=a.text;if(l&&l.length)try{(JSON.parse(l).quota_limited||[]).forEach(a=>{iB.info((a||"events")+" is quota limited."),this.serverLimits[a]=(new Date).getTime()+6e4})}catch(a){return void iB.warn('could not rate limit - continuing. Error: "'+(null==a?void 0:a.message)+'"',{text:l})}},this.instance=a,this.captureEventsPerSecond=(null==(l=a.config.rate_limiting)?void 0:l.events_per_second)||10,this.captureEventsBurstLimit=Math.max((null==(u=a.config.rate_limiting)?void 0:u.events_burst_limit)||10*this.captureEventsPerSecond,this.captureEventsPerSecond),this.lastEventRateLimited=this.clientRateLimitContext(!0).isRateLimited}clientRateLimitContext(a){void 0===a&&(a=!1);var l,u,c,d=(new Date).getTime(),g=null!==(l=null==(u=this.instance.persistence)?void 0:u.get_property(eJ))&&void 0!==l?l:{tokens:this.captureEventsBurstLimit,last:d};g.tokens+=(d-g.last)/1e3*this.captureEventsPerSecond,g.last=d,g.tokens>this.captureEventsBurstLimit&&(g.tokens=this.captureEventsBurstLimit);var v=g.tokens<1;return v||a||(g.tokens=Math.max(0,g.tokens-1)),!v||this.lastEventRateLimited||a||this.instance.capture("$$client_ingestion_warning",{$$client_ingestion_warning_message:"posthog-js client rate limited. Config is set to "+this.captureEventsPerSecond+" events per second and "+this.captureEventsBurstLimit+" events burst limit."},{skip_client_rate_limiting:!0}),this.lastEventRateLimited=v,null==(c=this.instance.persistence)||c.set_property(eJ,g),{isRateLimited:v,remainingTokens:g.tokens}}isServerRateLimited(a){var l=this.serverLimits[a||"events"]||!1;return!1!==l&&(new Date).getTime()<l}};var iq=ep("[RemoteConfig]");let zo=class zo{constructor(a){this._instance=a}get remoteConfig(){var a;return null==(a=W._POSTHOG_REMOTE_CONFIG)||null==(a=a[this._instance.config.token])?void 0:a.config}yr(a){var l,u;null!=(l=W.__PosthogExtensions__)&&l.loadExternalDependency?null==(u=W.__PosthogExtensions__)||null==u.loadExternalDependency||u.loadExternalDependency(this._instance,"remote-config",()=>a(this.remoteConfig)):(iq.error("PostHog Extensions not found. Cannot load remote config."),a())}wr(a){this._instance.Te({method:"GET",url:this._instance.requestRouter.endpointFor("assets","/array/"+this._instance.config.token+"/config"),callback:l=>{a(l.json)}})}load(){try{if(this.remoteConfig)return iq.info("Using preloaded remote config",this.remoteConfig),void this.Ce(this.remoteConfig);if(this._instance.L())return void iq.warn("Remote config is disabled. Falling back to local config.");this.yr(a=>{if(!a)return iq.info("No config found after loading remote JS config. Falling back to JSON."),void this.wr(a=>{this.Ce(a)});this.Ce(a)})}catch(a){iq.error("Error loading remote config",a)}}Ce(a){a?this._instance.config.__preview_remote_config?(this._instance.Ce(a),!1!==a.hasFeatureFlags&&this._instance.featureFlags.ensureFlagsLoaded()):iq.info("__preview_remote_config is disabled. Logging config instead",a):iq.error("Failed to fetch remote config from PostHog.")}};let qo=class qo{constructor(a,l){this.Sr=!0,this.$r=[],this.kr=z((null==l?void 0:l.flush_interval_ms)||3e3,250,5e3,ef.createLogger("flush interval"),3e3),this.Er=a}enqueue(a){this.$r.push(a),this.Ir||this.Pr()}unload(){this.Rr();var a=Object.values(this.$r.length>0?this.Tr():{});[...a.filter(a=>0===a.url.indexOf("/e")),...a.filter(a=>0!==a.url.indexOf("/e"))].map(a=>{this.Er(f({},a,{transport:"sendBeacon"}))})}enable(){this.Sr=!1,this.Pr()}Pr(){var a=this;this.Sr||(this.Ir=setTimeout(()=>{if(this.Rr(),this.$r.length>0){var l=this.Tr();for(var u in l)!function(){var c=l[u],d=(new Date).getTime();c.data&&ec(c.data)&&K(c.data,a=>{a.offset=Math.abs(a.timestamp-d),delete a.timestamp}),a.Er(c)}()}},this.kr))}Rr(){clearTimeout(this.Ir),this.Ir=void 0}Tr(){var a={};return K(this.$r,l=>{var u,c=(l?l.batchKey:null)||l.url;P(a[c])&&(a[c]=f({},l,{data:[]})),null==(u=a[c].data)||u.push(l.data)}),this.$r=[],a}};var iG=["retriesPerformedSoFar"];let Ho=class Ho{constructor(a){this.Cr=!1,this.Mr=3e3,this.$r=[],this._instance=a,this.$r=[],this.Fr=!0,!P(c)&&"onLine"in c.navigator&&(this.Fr=c.navigator.onLine,ot(c,"online",()=>{this.Fr=!0,this.oe()}),ot(c,"offline",()=>{this.Fr=!1}))}get length(){return this.$r.length}retriableRequest(a){var{retriesPerformedSoFar:l}=a,u=p(a,iG);F(l)&&l>0&&(u.url=Ns(u.url,{retry_count:l})),this._instance.Te(f({},u,{callback:a=>{200!==a.statusCode&&(a.statusCode<400||a.statusCode>=500)&&(null!=l?l:0)<10?this.Or(f({retriesPerformedSoFar:l},u)):null==u.callback||u.callback(a)}}))}Or(a){var l,u,c,d=a.retriesPerformedSoFar||0;a.retriesPerformedSoFar=d+1;var g=(c=(Math.random()-.5)*((u=Math.min(18e5,l=3e3*Math.pow(2,d)))-l/2),Math.ceil(u+c)),v=Date.now()+g;this.$r.push({retryAt:v,requestOptions:a});var S="Enqueued failed request for retry in "+g;navigator.onLine||(S+=" (Browser is offline)"),ef.warn(S),this.Cr||(this.Cr=!0,this.Ar())}Ar(){this.Dr&&clearTimeout(this.Dr),this.Dr=setTimeout(()=>{this.Fr&&this.$r.length>0&&this.oe(),this.Ar()},this.Mr)}oe(){var a=Date.now(),l=[],u=this.$r.filter(u=>u.retryAt<a||(l.push(u),!1));if(this.$r=l,u.length>0)for(var{requestOptions:c}of u)this.retriableRequest(c)}unload(){for(var{requestOptions:a}of(this.Dr&&(clearTimeout(this.Dr),this.Dr=void 0),this.$r))try{this._instance.Te(f({},a,{transport:"sendBeacon"}))}catch(a){ef.error(a)}this.$r=[]}};let Wo=class Wo{constructor(a){this.jr=()=>{this.Lr||(this.Lr={});var a,l,u,c,d=this.scrollElement(),g=this.scrollY(),v=d?Math.max(0,d.scrollHeight-d.clientHeight):0,S=g+((null==d?void 0:d.clientHeight)||0),w=(null==d?void 0:d.scrollHeight)||0;this.Lr.lastScrollY=Math.ceil(g),this.Lr.maxScrollY=Math.max(g,null!==(a=this.Lr.maxScrollY)&&void 0!==a?a:0),this.Lr.maxScrollHeight=Math.max(v,null!==(l=this.Lr.maxScrollHeight)&&void 0!==l?l:0),this.Lr.lastContentY=S,this.Lr.maxContentY=Math.max(S,null!==(u=this.Lr.maxContentY)&&void 0!==u?u:0),this.Lr.maxContentHeight=Math.max(w,null!==(c=this.Lr.maxContentHeight)&&void 0!==c?c:0)},this._instance=a}getContext(){return this.Lr}resetContext(){var a=this.Lr;return setTimeout(this.jr,0),a}startMeasuringScrollPosition(){ot(c,"scroll",this.jr,{capture:!0}),ot(c,"scrollend",this.jr,{capture:!0}),ot(c,"resize",this.jr)}scrollElement(){if(!this._instance.config.scroll_root_selector)return null==c?void 0:c.document.documentElement;for(var a of ec(this._instance.config.scroll_root_selector)?this._instance.config.scroll_root_selector:[this._instance.config.scroll_root_selector]){var l=null==c?void 0:c.document.querySelector(a);if(l)return l}}scrollY(){if(this._instance.config.scroll_root_selector){var a=this.scrollElement();return a&&a.scrollTop||0}return c&&(c.scrollY||c.pageYOffset||c.document.documentElement.scrollTop)||0}scrollX(){if(this._instance.config.scroll_root_selector){var a=this.scrollElement();return a&&a.scrollLeft||0}return c&&(c.scrollX||c.pageXOffset||c.document.documentElement.scrollLeft)||0}};var Go=a=>eo(null==a?void 0:a.config.mask_personal_data_properties,null==a?void 0:a.config.custom_personal_data_properties);let Jo=class Jo{constructor(a,l,u,c){this.Nr=a=>{var l=this.zr();if(!l||l.sessionId!==a){var u={sessionId:a,props:this.Ur(this._instance)};this.qr.register({[eX]:u})}},this._instance=a,this.Br=l,this.qr=u,this.Ur=c||Go,this.Br.onSessionId(this.Nr)}zr(){return this.qr.props[eX]}getSetOnceProps(){var a,l=null==(a=this.zr())?void 0:a.props;return l?"r"in l?ro(l):{$referring_domain:l.referringDomain,$pathname:l.initialPathName,utm_source:l.utm_source,utm_campaign:l.utm_campaign,utm_medium:l.utm_medium,utm_content:l.utm_content,utm_term:l.utm_term}:{}}getSessionProps(){var a={};return K(it(this.getSetOnceProps()),(l,u)=>{"$current_url"===u&&(u="url"),a["$session_entry_"+b(u)]=l}),a}};var iW=ep("[SessionId]");let Ko=class Ko{constructor(a,l,u){if(this.Hr=[],this.Wr=(a,l)=>Math.abs(a-l)>this.sessionTimeoutMs,!a.persistence)throw Error("SessionIdManager requires a PostHogPersistence instance");if("always"===a.config.cookieless_mode)throw Error('SessionIdManager cannot be used with cookieless_mode="always"');this.A=a.config,this.qr=a.persistence,this.gi=void 0,this.Ot=void 0,this._sessionStartTimestamp=null,this._sessionActivityTimestamp=null,this.Gr=l||Hi,this.Jr=u||Hi;var c,d=this.A.persistence_name||this.A.token,g=this.A.session_idle_timeout_seconds||1800;if(this._sessionTimeoutMs=1e3*z(g,60,36e3,iW.createLogger("session_idle_timeout_seconds"),1800),a.register({$configured_session_timeout_ms:this._sessionTimeoutMs}),this.Vr(),this.Kr="ph_"+d+"_window_id",this.Yr="ph_"+d+"_primary_window_exists",this.Xr()){var v=tw.K(this.Kr),S=tw.K(this.Yr);v&&!S?this.gi=v:tw.X(this.Kr),tw.Y(this.Yr,!0)}if(null!=(c=this.A.bootstrap)&&c.sessionID)try{var w=(a=>{var l=a.replace(/-/g,"");if(32!==l.length)throw Error("Not a valid UUID");if("7"!==l[12])throw Error("Not a UUIDv7");return parseInt(l.substring(0,12),16)})(this.A.bootstrap.sessionID);this.Qr(this.A.bootstrap.sessionID,(new Date).getTime(),w)}catch(a){iW.error("Invalid sessionID in bootstrap",a)}this.Zr()}get sessionTimeoutMs(){return this._sessionTimeoutMs}onSessionId(a){return P(this.Hr)&&(this.Hr=[]),this.Hr.push(a),this.Ot&&a(this.Ot,this.gi),()=>{this.Hr=this.Hr.filter(l=>l!==a)}}Xr(){return"memory"!==this.A.persistence&&!this.qr.je&&tw.G()}ts(a){a!==this.gi&&(this.gi=a,this.Xr()&&tw.Y(this.Kr,a))}es(){return this.gi?this.gi:this.Xr()?tw.K(this.Kr):null}Qr(a,l,u){a===this.Ot&&l===this._sessionActivityTimestamp&&u===this._sessionStartTimestamp||(this._sessionStartTimestamp=u,this._sessionActivityTimestamp=l,this.Ot=a,this.qr.register({[eL]:[l,a,u]}))}rs(){if(this.Ot&&this._sessionActivityTimestamp&&this._sessionStartTimestamp)return[this._sessionActivityTimestamp,this.Ot,this._sessionStartTimestamp];var a=this.qr.props[eL];return ec(a)&&2===a.length&&a.push(a[0]),a||[0,null,0]}resetSessionId(){this.Qr(null,null,null)}Zr(){ot(c,"beforeunload",()=>{this.Xr()&&tw.X(this.Yr)},{capture:!1})}checkAndGetSessionAndWindowId(a,l){if(void 0===a&&(a=!1),void 0===l&&(l=null),"always"===this.A.cookieless_mode)throw Error('checkAndGetSessionAndWindowId should not be called with cookieless_mode="always"');var u=l||(new Date).getTime(),[c,d,g]=this.rs(),v=this.es(),S=F(g)&&g>0&&Math.abs(u-g)>864e5,w=!1,x=!d,j=!a&&this.Wr(u,c);x||j||S?(d=this.Gr(),v=this.Jr(),iW.info("new session ID generated",{sessionId:d,windowId:v,changeReason:{noSessionId:x,activityTimeout:j,sessionPastMaximumLength:S}}),g=u,w=!0):v||(v=this.Jr(),w=!0);var N=0===c||!a||S?u:c,$=0===g?(new Date).getTime():g;return this.ts(v),this.Qr(d,N,$),a||this.Vr(),w&&this.Hr.forEach(a=>a(d,v,w?{noSessionId:x,activityTimeout:j,sessionPastMaximumLength:S}:void 0)),{sessionId:d,windowId:v,sessionStartTimestamp:$,changeReason:w?{noSessionId:x,activityTimeout:j,sessionPastMaximumLength:S}:void 0,lastActivityTimestamp:c}}Vr(){clearTimeout(this.ss),this.ss=setTimeout(()=>{var[a]=this.rs();this.Wr((new Date).getTime(),a)&&this.resetSessionId()},1.1*this.sessionTimeoutMs)}};var iz=["$set_once","$set"],iY=ep("[SiteApps]");let Qo=class Qo{constructor(a){this._instance=a,this.ns=[],this.apps={}}get isEnabled(){return!!this._instance.config.opt_in_site_apps}os(a,l){if(l){var u=this.globalsForEvent(l);this.ns.push(u),this.ns.length>1e3&&(this.ns=this.ns.slice(10))}}get siteAppLoaders(){var a;return null==(a=W._POSTHOG_REMOTE_CONFIG)||null==(a=a[this._instance.config.token])?void 0:a.siteApps}init(){if(this.isEnabled){var a=this._instance.Ye(this.os.bind(this));this.ls=()=>{a(),this.ns=[],this.ls=void 0}}}globalsForEvent(a){if(!a)throw Error("Event payload is required");var l,u,c,d,g,v,S,w={},x=this._instance.get_property("$groups")||[];for(var[j,N]of Object.entries(this._instance.get_property("$stored_group_properties")||{}))w[j]={id:x[j],type:j,properties:N};var{$set_once:$,$set:H}=a;return{event:f({},p(a,iz),{properties:f({},a.properties,H?{$set:f({},null!==(l=null==(u=a.properties)?void 0:u.$set)&&void 0!==l?l:{},H)}:{},$?{$set_once:f({},null!==(c=null==(d=a.properties)?void 0:d.$set_once)&&void 0!==c?c:{},$)}:{}),elements_chain:null!==(g=null==(v=a.properties)?void 0:v.$elements_chain)&&void 0!==g?g:"",distinct_id:null==(S=a.properties)?void 0:S.distinct_id}),person:{properties:this._instance.get_property("$stored_person_properties")},groups:w}}setupSiteApp(a){var l=this.apps[a.id],e=()=>{var u;!l.errored&&this.ns.length&&(iY.info("Processing "+this.ns.length+" events for site app with id "+a.id),this.ns.forEach(a=>null==l.processEvent?void 0:l.processEvent(a)),l.processedBuffer=!0),Object.values(this.apps).every(a=>a.processedBuffer||a.errored)&&(null==(u=this.ls)||u.call(this))},u=!1,s=c=>{l.errored=!c,l.loaded=!0,iY.info("Site app with id "+a.id+" "+(c?"loaded":"errored")),u&&e()};try{var{processEvent:c}=a.init({posthog:this._instance,callback:a=>{s(a)}});c&&(l.processEvent=c),u=!0}catch(l){iY.error("Error while initializing PostHog app with config id "+a.id,l),s(!1)}if(u&&l.loaded)try{e()}catch(u){iY.error("Error while processing buffered events PostHog app with config id "+a.id,u),l.errored=!0}}us(){var a=this.siteAppLoaders||[];for(var l of a)this.apps[l.id]={id:l.id,loaded:!1,errored:!1,processedBuffer:!1};for(var u of a)this.setupSiteApp(u)}hs(a){if(0!==Object.keys(this.apps).length){var l=this.globalsForEvent(a);for(var u of Object.values(this.apps))try{null==u.processEvent||u.processEvent(l)}catch(l){iY.error("Error while processing event "+a.event+" for site app "+u.id,l)}}}onRemoteConfig(a){var l,u,c,d=this;if(null!=(l=this.siteAppLoaders)&&l.length)return this.isEnabled?(this.us(),void this._instance.on("eventCaptured",a=>this.hs(a))):void iY.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.');if(null==(u=this.ls)||u.call(this),null!=(c=a.siteApps)&&c.length){if(this.isEnabled){var n=function(a){var l;W["__$$ph_site_app_"+a]=d._instance,null==(l=W.__PosthogExtensions__)||null==l.loadSiteApp||l.loadSiteApp(d._instance,v,l=>{if(l)return iY.error("Error while initializing PostHog app with config id "+a,l)})};for(var{id:g,url:v}of a.siteApps)n(g)}else iY.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.')}}};var iV=["amazonbot","amazonproductbot","app.hypefactors.com","applebot","archive.org_bot","awariobot","backlinksextendedbot","baiduspider","bingbot","bingpreview","chrome-lighthouse","dataforseobot","deepscan","duckduckbot","facebookexternal","facebookcatalog","http://yandex.com/bots","hubspot","ia_archiver","leikibot","linkedinbot","meta-externalagent","mj12bot","msnbot","nessus","petalbot","pinterest","prerender","rogerbot","screaming frog","sebot-wa","sitebulb","slackbot","slurp","trendictionbot","turnitin","twitterbot","vercel-screenshot","vercelbot","yahoo! slurp","yandexbot","zoombot","bot.htm","bot.php","(bot;","bot/","crawler","ahrefsbot","ahrefssiteaudit","semrushbot","siteauditbot","splitsignalbot","gptbot","oai-searchbot","chatgpt-user","perplexitybot","better uptime bot","sentryuptimebot","uptimerobot","headlesschrome","cypress","google-hoteladsverifier","adsbot-google","apis-google","duplexweb-google","feedfetcher-google","google favicon","google web preview","google-read-aloud","googlebot","googleother","google-cloudvertexbot","googleweblight","mediapartners-google","storebot-google","google-inspectiontool","bytespider"],ta=function(a,l){if(!a)return!1;var u=a.toLowerCase();return iV.concat(l||[]).some(a=>{var l=a.toLowerCase();return -1!==u.indexOf(l)})},ia=function(a,l){if(!a)return!1;var u=a.userAgent;if(u&&ta(u,l))return!0;try{var c=null==a?void 0:a.userAgentData;if(null!=c&&c.brands&&c.brands.some(a=>ta(null==a?void 0:a.brand,l)))return!0}catch(a){}return!!a.webdriver},iK=function(a){return a.US="us",a.EU="eu",a.CUSTOM="custom",a}({}),iX="i.posthog.com";let sa=class sa{constructor(a){this.ds={},this.instance=a}get apiHost(){var a=this.instance.config.api_host.trim().replace(/\/$/,"");return"https://app.posthog.com"===a?"https://us.i.posthog.com":a}get uiHost(){var a,l=null==(a=this.instance.config.ui_host)?void 0:a.replace(/\/$/,"");return l||(l=this.apiHost.replace("."+iX,".posthog.com")),"https://app.posthog.com"===l?"https://us.posthog.com":l}get region(){return this.ds[this.apiHost]||(/https:\/\/(app|us|us-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this.ds[this.apiHost]=iK.US:/https:\/\/(eu|eu-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this.ds[this.apiHost]=iK.EU:this.ds[this.apiHost]=iK.CUSTOM),this.ds[this.apiHost]}endpointFor(a,l){if(void 0===l&&(l=""),l&&(l="/"===l[0]?l:"/"+l),"ui"===a)return this.uiHost+l;if(this.region===iK.CUSTOM)return this.apiHost+l;var u=iX+l;switch(a){case"assets":return"https://"+this.region+"-assets."+u;case"api":return"https://"+this.region+"."+u}}};var iJ={icontains:(a,l)=>!!c&&l.href.toLowerCase().indexOf(a.toLowerCase())>-1,not_icontains:(a,l)=>!!c&&-1===l.href.toLowerCase().indexOf(a.toLowerCase()),regex:(a,l)=>!!c&&Bs(l.href,a),not_regex:(a,l)=>!!c&&!Bs(l.href,a),exact:(a,l)=>l.href===a,is_not:(a,l)=>l.href!==a};let oa=class oa{constructor(a){var l=this;this.getWebExperimentsAndEvaluateDisplayLogic=function(a){void 0===a&&(a=!1),l.getWebExperiments(a=>{oa.vs("retrieved web experiments from the server"),l.cs=new Map,a.forEach(a=>{if(a.feature_flag_key){l.cs&&(oa.vs("setting flag key ",a.feature_flag_key," to web experiment ",a),null==(u=l.cs)||u.set(a.feature_flag_key,a));var u,c=l._instance.getFeatureFlag(a.feature_flag_key);R(c)&&a.variants[c]&&l.fs(a.name,c,a.variants[c].transforms)}else if(a.variants)for(var d in a.variants){var g=a.variants[d];oa.ps(g)&&l.fs(a.name,d,g.transforms)}})},a)},this._instance=a,this._instance.onFeatureFlags(a=>{this.onFeatureFlags(a)})}onFeatureFlags(a){if(this._is_bot())oa.vs("Refusing to render web experiment since the viewer is a likely bot");else if(!this._instance.config.disable_web_experiments){if(M(this.cs))return this.cs=new Map,this.loadIfEnabled(),void this.previewWebExperiment();oa.vs("applying feature flags",a),a.forEach(a=>{var l;if(this.cs&&null!=(l=this.cs)&&l.has(a)){var u,c=this._instance.getFeatureFlag(a),d=null==(u=this.cs)?void 0:u.get(a);c&&null!=d&&d.variants[c]&&this.fs(d.name,c,d.variants[c].transforms)}})}}previewWebExperiment(){var a=oa.getWindowLocation();if(null!=a&&a.search){var l=Ri(null==a?void 0:a.search,"__experiment_id"),u=Ri(null==a?void 0:a.search,"__experiment_variant");l&&u&&(oa.vs("previewing web experiments "+l+" && "+u),this.getWebExperiments(a=>{this.gs(parseInt(l),u,a)},!1,!0))}}loadIfEnabled(){this._instance.config.disable_web_experiments||this.getWebExperimentsAndEvaluateDisplayLogic()}getWebExperiments(a,l,u){if(this._instance.config.disable_web_experiments&&!u)return a([]);var c=this._instance.get_property("$web_experiments");if(c&&!l)return a(c);this._instance.Te({url:this._instance.requestRouter.endpointFor("api","/api/web_experiments/?token="+this._instance.config.token),method:"GET",callback:l=>200===l.statusCode&&l.json?a(l.json.experiments||[]):a([])})}gs(a,l,u){var c=u.filter(l=>l.id===a);c&&c.length>0&&(oa.vs("Previewing web experiment ["+c[0].name+"] with variant ["+l+"]"),this.fs(c[0].name,l,c[0].variants[l].transforms))}static ps(a){return!M(a.conditions)&&oa._s(a)&&oa.bs(a)}static _s(a){if(M(a.conditions)||M(null==(l=a.conditions)?void 0:l.url))return!0;var l,u,c,d,g=oa.getWindowLocation();return!!g&&(null==(u=a.conditions)||!u.url||iJ[null!==(c=null==(d=a.conditions)?void 0:d.urlMatchType)&&void 0!==c?c:"icontains"](a.conditions.url,g))}static getWindowLocation(){return null==c?void 0:c.location}static bs(a){if(M(a.conditions)||M(null==(u=a.conditions)?void 0:u.utm))return!0;var l=Xn();if(l.utm_source){var u,c,d,g,v,S,w,x,j,N=null==(c=a.conditions)||null==(c=c.utm)||!c.utm_campaign||(null==(d=a.conditions)||null==(d=d.utm)?void 0:d.utm_campaign)==l.utm_campaign,$=null==(g=a.conditions)||null==(g=g.utm)||!g.utm_source||(null==(v=a.conditions)||null==(v=v.utm)?void 0:v.utm_source)==l.utm_source,H=null==(S=a.conditions)||null==(S=S.utm)||!S.utm_medium||(null==(w=a.conditions)||null==(w=w.utm)?void 0:w.utm_medium)==l.utm_medium,B=null==(x=a.conditions)||null==(x=x.utm)||!x.utm_term||(null==(j=a.conditions)||null==(j=j.utm)?void 0:j.utm_term)==l.utm_term;return N&&H&&B&&$}return!1}static vs(a){for(var l=arguments.length,u=Array(l>1?l-1:0),c=1;c<l;c++)u[c-1]=arguments[c];ef.info("[WebExperiments] "+a,u)}fs(a,l,u){this._is_bot()?oa.vs("Refusing to render web experiment since the viewer is a likely bot"):"control"!==l?u.forEach(u=>{if(u.selector){oa.vs("applying transform of variant "+l+" for experiment "+a+" ",u);var c,d=null==(c=document)?void 0:c.querySelectorAll(u.selector);null==d||d.forEach(a=>{u.html&&(a.innerHTML=u.html),u.css&&a.setAttribute("style",u.css)})}}):oa.vs("Control variants leave the page unmodified.")}_is_bot(){return w&&this._instance?ia(w,this._instance.config.custom_blocked_useragents):void 0}};var iZ=ep("[PostHog ExternalIntegrations]"),iQ={intercom:"intercom-integration",crispChat:"crisp-chat-integration"};let ua=class ua{constructor(a){this._instance=a}nt(a,l){var u;null==(u=W.__PosthogExtensions__)||null==u.loadExternalDependency||u.loadExternalDependency(this._instance,a,a=>{if(a)return iZ.error("failed to load script",a);l()})}startIfEnabledOrStop(){var a,l=this,i=function(a){var u,d,g;!c||null!=(u=W.__PosthogExtensions__)&&null!=(u=u.integrations)&&u[a]||l.nt(iQ[a],()=>{var u;null==(u=W.__PosthogExtensions__)||null==(u=u.integrations)||null==(u=u[a])||u.start(l._instance)}),!c&&null!=(d=W.__PosthogExtensions__)&&null!=(d=d.integrations)&&d[a]&&(null==(g=W.__PosthogExtensions__)||null==(g=g.integrations)||null==(g=g[a])||g.stop())};for(var[u,c]of Object.entries(null!==(a=this._instance.config.integrations)&&void 0!==a?a:{}))i(u)}};var i0={},da=()=>{},i1="posthog",i2=!rM&&-1===(null==B?void 0:B.indexOf("MSIE"))&&-1===(null==B?void 0:B.indexOf("Mozilla")),fa=a=>{var l;return{api_host:"https://us.i.posthog.com",ui_host:null,token:"",autocapture:!0,rageclick:!0,cross_subdomain_cookie:st(null==x?void 0:x.location),persistence:"localStorage+cookie",persistence_name:"",loaded:da,save_campaign_params:!0,custom_campaign_params:[],custom_blocked_useragents:[],save_referrer:!0,capture_pageview:"2025-05-24"!==a||"history_change",capture_pageleave:"if_capture_pageview",defaults:null!=a?a:"unset",debug:j&&R(null==j?void 0:j.search)&&-1!==j.search.indexOf("__posthog_debug=true")||!1,cookie_expiration:365,upgrade:!1,disable_session_recording:!1,disable_persistence:!1,disable_web_experiments:!0,disable_surveys:!1,disable_surveys_automatic_display:!1,disable_external_dependency_loading:!1,enable_recording_console_log:void 0,secure_cookie:"https:"===(null==c||null==(l=c.location)?void 0:l.protocol),ip:!1,opt_out_capturing_by_default:!1,opt_out_persistence_by_default:!1,opt_out_useragent_filter:!1,opt_out_capturing_persistence_type:"localStorage",consent_persistence_name:null,opt_out_capturing_cookie_prefix:null,opt_in_site_apps:!1,property_denylist:[],respect_dnt:!1,sanitize_properties:null,request_headers:{},request_batching:!0,properties_string_max_length:65535,session_recording:{},mask_all_element_attributes:!1,mask_all_text:!1,mask_personal_data_properties:!1,custom_personal_data_properties:[],advanced_disable_flags:!1,advanced_disable_decide:!1,advanced_disable_feature_flags:!1,advanced_disable_feature_flags_on_first_load:!1,advanced_only_evaluate_survey_feature_flags:!1,advanced_enable_surveys:!1,advanced_disable_toolbar_metrics:!1,feature_flag_request_timeout_ms:3e3,surveys_request_timeout_ms:1e4,on_request_error:a=>{var l="Bad HTTP status: "+a.statusCode+" "+a.text;ef.error(l)},get_device_id:a=>a,capture_performance:void 0,name:"posthog",bootstrap:{},disable_compression:!1,session_idle_timeout_seconds:1800,person_profiles:"identified_only",before_send:void 0,request_queue_config:{flush_interval_ms:3e3},error_tracking:{},_onCapture:da}},pa=a=>{var l={};P(a.process_person)||(l.person_profiles=a.process_person),P(a.xhr_headers)||(l.request_headers=a.xhr_headers),P(a.cookie_name)||(l.persistence_name=a.cookie_name),P(a.disable_cookie)||(l.disable_persistence=a.disable_cookie),P(a.store_google)||(l.save_campaign_params=a.store_google),P(a.verbose)||(l.debug=a.verbose);var u=Y({},l,a);return ec(a.property_blacklist)&&(P(a.property_denylist)?u.property_denylist=a.property_blacklist:ec(a.property_denylist)?u.property_denylist=[...a.property_blacklist,...a.property_denylist]:ef.error("Invalid value for property_denylist config: "+a.property_denylist)),u};let ga=class ga{constructor(){this.__forceAllowLocalhost=!1}get ys(){return this.__forceAllowLocalhost}set ys(a){ef.error("WebPerformanceObserver is deprecated and has no impact on network capture. Use `_forceAllowLocalhostNetworkCapture` on `posthog.sessionRecording`"),this.__forceAllowLocalhost=a}};let _a=class _a{get decideEndpointWasHit(){var a,l;return null!==(a=null==(l=this.featureFlags)?void 0:l.hasLoadedFlags)&&void 0!==a&&a}get flagsEndpointWasHit(){var a,l;return null!==(a=null==(l=this.featureFlags)?void 0:l.hasLoadedFlags)&&void 0!==a&&a}constructor(){this.webPerformance=new ga,this.ws=!1,this.version=J.LIB_VERSION,this.Ss=new yo,this._calculate_event_properties=this.calculateEventProperties.bind(this),this.config=fa(),this.SentryIntegration=ws,this.sentryIntegration=a=>(function(a,l){var u=ys(a,l);return{name:rE,processEvent:a=>u(a)}})(this,a),this.__request_queue=[],this.__loaded=!1,this.analyticsDefaultEndpoint="/e/",this.$s=!1,this.xs=null,this.ks=null,this.Es=null,this.featureFlags=new _o(this),this.toolbar=new Es(this),this.scrollManager=new Wo(this),this.pageViewManager=new As(this),this.surveys=new Do(this),this.experiments=new oa(this),this.exceptions=new Vs(this),this.rateLimiter=new Lo(this),this.requestRouter=new sa(this),this.consent=new ne(this),this.externalIntegrations=new ua(this),this.people={set:(a,l,u)=>{var c=R(a)?{[a]:l}:a;this.setPersonProperties(c),null==u||u({})},set_once:(a,l,u)=>{var c=R(a)?{[a]:l}:a;this.setPersonProperties(void 0,c),null==u||u({})}},this.on("eventCaptured",a=>ef.info('send "'+(null==a?void 0:a.event)+'"',a))}init(a,l,u){if(u&&u!==i1){var c,d=null!==(c=i0[u])&&void 0!==c?c:new _a;return d._init(a,l,u),i0[u]=d,i0[i1][u]=d,d}return this._init(a,l,u)}_init(a,l,u){if(void 0===l&&(l={}),P(a)||T(a))return ef.critical("PostHog was initialized without a token. This likely indicates a misconfiguration. Please check the first argument passed to posthog.init()"),this;if(this.__loaded)return ef.warn("You have already initialized PostHog! Re-initializing is a no-op"),this;this.__loaded=!0,this.config={},this.Is=l,this.Ps=[],l.person_profiles&&(this.ks=l.person_profiles),this.set_config(Y({},fa(l.defaults),pa(l),{name:u,token:a})),this.config.on_xhr_error&&ef.error("on_xhr_error is deprecated. Use on_request_error instead"),this.compression=l.disable_compression?void 0:tu.GZipJS;var d=this.Rs();this.persistence=new bo(this.config,d),this.sessionPersistence="sessionStorage"===this.config.persistence||"memory"===this.config.persistence?this.persistence:new bo(f({},this.config,{persistence:"sessionStorage"}),d);var g=f({},this.persistence.props),v=f({},this.sessionPersistence.props);this.register({$initialization_time:(new Date).toISOString()}),this.Ts=new qo(a=>this.Cs(a),this.config.request_queue_config),this.Ms=new Ho(this),this.__request_queue=[];var S="always"===this.config.cookieless_mode||"on_reject"===this.config.cookieless_mode&&this.consent.isExplicitlyOptedOut();if(S||(this.sessionManager=new Ko(this),this.sessionPropsManager=new Jo(this,this.sessionManager,this.persistence)),new Ps(this).startIfEnabledOrStop(),this.siteApps=new Qo(this),null==(w=this.siteApps)||w.init(),S||(this.sessionRecording=new gs(this),this.sessionRecording.startIfEnabledOrStop()),this.config.disable_scroll_properties||this.scrollManager.startMeasuringScrollPosition(),this.autocapture=new ji(this),this.autocapture.startIfEnabled(),this.surveys.loadIfEnabled(),this.heatmaps=new Os(this),this.heatmaps.startIfEnabled(),this.webVitalsAutocapture=new Cs(this),this.exceptionObserver=new de(this),this.exceptionObserver.startIfEnabled(),this.deadClicksAutocapture=new ue(this,le),this.deadClicksAutocapture.startIfEnabled(),this.historyAutocapture=new Be(this),this.historyAutocapture.startIfEnabled(),J.DEBUG=J.DEBUG||this.config.debug,J.DEBUG&&ef.info("Starting in debug mode",{this:this,config:l,thisC:f({},this.config),p:g,s:v}),void 0!==(null==(x=l.bootstrap)?void 0:x.distinctID)){var w,x,j,N,$=this.config.get_device_id(Hi()),H=null!=(j=l.bootstrap)&&j.isIdentifiedID?$:l.bootstrap.distinctID;this.persistence.set_property(eK,null!=(N=l.bootstrap)&&N.isIdentifiedID?"identified":"anonymous"),this.register({distinct_id:l.bootstrap.distinctID,$device_id:H})}if(this.Fs()){var B,W,ee=Object.keys((null==(B=l.bootstrap)?void 0:B.featureFlags)||{}).filter(a=>{var u;return!(null==(u=l.bootstrap)||null==(u=u.featureFlags)||!u[a])}).reduce((a,u)=>{var c;return a[u]=(null==(c=l.bootstrap)||null==(c=c.featureFlags)?void 0:c[u])||!1,a},{}),en=Object.keys((null==(W=l.bootstrap)?void 0:W.featureFlagPayloads)||{}).filter(a=>ee[a]).reduce((a,u)=>{var c,d;return null!=(c=l.bootstrap)&&null!=(c=c.featureFlagPayloads)&&c[u]&&(a[u]=null==(d=l.bootstrap)||null==(d=d.featureFlagPayloads)?void 0:d[u]),a},{});this.featureFlags.receivedFeatureFlags({featureFlags:ee,featureFlagPayloads:en})}if(S)this.register_once({distinct_id:e3,$device_id:null},"");else if(!this.get_distinct_id()){var ea=this.config.get_device_id(Hi());this.register_once({distinct_id:ea,$device_id:ea},""),this.persistence.set_property(eK,"anonymous")}return ot(c,"onpagehide"in self?"pagehide":"unload",this._handle_unload.bind(this),{passive:!1}),this.toolbar.maybeLoadToolbar(),l.segment?ms(this,()=>this.Os()):this.Os(),k(this.config._onCapture)&&this.config._onCapture!==da&&(ef.warn("onCapture is deprecated. Please use `before_send` instead"),this.on("eventCaptured",a=>this.config._onCapture(a.event,a))),this.config.ip&&ef.warn('The `ip` config option has NO EFFECT AT ALL and has been deprecated. Use a custom transformation or "Discard IP data" project setting instead. See https://posthog.com/tutorials/web-redact-properties#hiding-customer-ip-address for more information.'),this}Ce(a){var l,u,c,d,g,v,S,w;if(!x||!x.body)return ef.info("document not ready yet, trying again in 500 milliseconds..."),void setTimeout(()=>{this.Ce(a)},500);this.compression=void 0,a.supportedCompression&&!this.config.disable_compression&&(this.compression=_(a.supportedCompression,tu.GZipJS)?tu.GZipJS:_(a.supportedCompression,tu.Base64)?tu.Base64:void 0),null!=(l=a.analytics)&&l.endpoint&&(this.analyticsDefaultEndpoint=a.analytics.endpoint),this.set_config({person_profiles:this.ks?this.ks:"identified_only"}),null==(u=this.siteApps)||u.onRemoteConfig(a),null==(c=this.sessionRecording)||c.onRemoteConfig(a),null==(d=this.autocapture)||d.onRemoteConfig(a),null==(g=this.heatmaps)||g.onRemoteConfig(a),this.surveys.onRemoteConfig(a),null==(v=this.webVitalsAutocapture)||v.onRemoteConfig(a),null==(S=this.exceptionObserver)||S.onRemoteConfig(a),this.exceptions.onRemoteConfig(a),null==(w=this.deadClicksAutocapture)||w.onRemoteConfig(a)}Os(){try{this.config.loaded(this)}catch(a){ef.critical("`loaded` function failed",a)}this.As(),this.config.capture_pageview&&setTimeout(()=>{this.consent.isOptedIn()&&this.Ds()},1),new zo(this).load(),this.featureFlags.flags()}As(){var a;this.is_capturing()&&this.config.request_batching&&(null==(a=this.Ts)||a.enable())}_dom_loaded(){this.is_capturing()&&V(this.__request_queue,a=>this.Cs(a)),this.__request_queue=[],this.As()}_handle_unload(){var a,l;this.config.request_batching?(this.js()&&this.capture("$pageleave"),null==(a=this.Ts)||a.unload(),null==(l=this.Ms)||l.unload()):this.js()&&this.capture("$pageleave",null,{transport:"sendBeacon"})}Te(a){this.__loaded&&(i2?this.__request_queue.push(a):this.rateLimiter.isServerRateLimited(a.batchKey)||(a.transport=a.transport||this.config.api_transport,a.url=Ns(a.url,{ip:this.config.ip?1:0}),a.headers=f({},this.config.request_headers),a.compression="best-available"===a.compression?this.compression:a.compression,a.fetchOptions=a.fetchOptions||this.config.fetch_options,(a=>{var l,u,c,d=f({},a);d.timeout=d.timeout||6e4,d.url=Ns(d.url,{_:(new Date).getTime().toString(),ver:J.LIB_VERSION,compression:d.compression});var g=null!==(l=d.transport)&&void 0!==l?l:"fetch",v=null!==(u=null==(c=nt(rk,a=>a.transport===g))?void 0:c.method)&&void 0!==u?u:rk[0].method;if(!v)throw Error("No available transport method");v(d)})(f({},a,{callback:l=>{var u,c;this.rateLimiter.checkForLimiting(l),l.statusCode>=400&&(null==(u=(c=this.config).on_request_error)||u.call(c,l)),null==a.callback||a.callback(l)}}))))}Cs(a){this.Ms?this.Ms.retriableRequest(a):this.Te(a)}_execute_array(a){var l,u=[],c=[],d=[];V(a,a=>{a&&(ec(l=a[0])?d.push(a):k(a)?a.call(this):ec(a)&&"alias"===l?u.push(a):ec(a)&&-1!==l.indexOf("capture")&&k(this[l])?d.push(a):c.push(a))});var n=function(a,l){V(a,function(a){if(ec(a[0])){var u=l;K(a,function(a){u=u[a[0]].apply(u,a.slice(1))})}else this[a[0]].apply(this,a.slice(1))},l)};n(u,this),n(c,this),n(d,this)}Fs(){var a,l;return(null==(a=this.config.bootstrap)?void 0:a.featureFlags)&&Object.keys(null==(l=this.config.bootstrap)?void 0:l.featureFlags).length>0||!1}push(a){this._execute_array([a])}capture(a,l,u){var c;if(this.__loaded&&this.persistence&&this.sessionPersistence&&this.Ts){if(this.is_capturing()){if(!P(a)&&R(a)){if(this.config.opt_out_useragent_filter||!this._is_bot()){var d=null!=u&&u.skip_client_rate_limiting?void 0:this.rateLimiter.clientRateLimitContext();if(null==d||!d.isRateLimited){null!=l&&l.$current_url&&!R(null==l?void 0:l.$current_url)&&(ef.error("Invalid `$current_url` property provided to `posthog.capture`. Input must be a string. Ignoring provided value."),null==l||delete l.$current_url),this.sessionPersistence.update_search_keyword(),this.config.save_campaign_params&&this.sessionPersistence.update_campaign_params(),this.config.save_referrer&&this.sessionPersistence.update_referrer_info(),(this.config.save_campaign_params||this.config.save_referrer)&&this.persistence.set_initial_person_info();var g=new Date,v=(null==u?void 0:u.timestamp)||g,S=Hi(),w={uuid:S,event:a,properties:this.calculateEventProperties(a,l||{},v,S)};d&&(w.properties.$lib_rate_limit_remaining_tokens=d.remainingTokens),(null==u?void 0:u.$set)&&(w.$set=null==u?void 0:u.$set);var x,j=this.Ls(null==u?void 0:u.$set_once);if(j&&(w.$set_once=j),(w=et(w,null!=u&&u._noTruncate?null:this.config.properties_string_max_length)).timestamp=v,P(null==u?void 0:u.timestamp)||(w.properties.$event_time_override_provided=!0,w.properties.$event_time_override_system_time=g),a===iL.DISMISSED||a===iL.SENT){var N=null==l?void 0:l[iD.SURVEY_ID],$=null==l?void 0:l[iD.SURVEY_ITERATION];x={id:N,current_iteration:$},localStorage.getItem(Fo(x))||localStorage.setItem(Fo(x),"true"),w.$set=f({},w.$set,{[Mo({id:N,current_iteration:$},a===iL.SENT?"responded":"dismissed")]:!0})}var H=f({},w.properties.$set,w.$set);if(I(H)||this.setPersonPropertiesForFlags(H),!M(this.config.before_send)){var B=this.Ns(w);if(!B)return;w=B}this.Ss.emit("eventCaptured",w);var W={method:"POST",url:null!==(c=null==u?void 0:u._url)&&void 0!==c?c:this.requestRouter.endpointFor("api",this.analyticsDefaultEndpoint),data:w,compression:"best-available",batchKey:null==u?void 0:u._batchKey};return!this.config.request_batching||u&&(null==u||!u._batchKey)||null!=u&&u.send_instantly?this.Cs(W):this.Ts.enqueue(W),w}ef.critical("This capture call is ignored due to client rate limiting.")}}else ef.error("No event name provided to posthog.capture")}}else ef.uninitializedWarning("posthog.capture")}Ye(a){return this.on("eventCaptured",l=>a(l.event,l))}calculateEventProperties(a,l,u,c,d){if(u=u||new Date,!this.persistence||!this.sessionPersistence)return l;var g,v=d?void 0:this.persistence.remove_event_timer(a),S=f({},l);if(S.token=this.config.token,S.$config_defaults=this.config.defaults,("always"==this.config.cookieless_mode||"on_reject"==this.config.cookieless_mode&&this.consent.isExplicitlyOptedOut())&&(S.$cookieless_mode=!0),"$snapshot"===a){var w=f({},this.persistence.properties(),this.sessionPersistence.properties());return S.distinct_id=w.distinct_id,(!R(S.distinct_id)&&!F(S.distinct_id)||T(S.distinct_id))&&ef.error("Invalid distinct_id for replay event. This indicates a bug in your implementation"),S}var j,N=oo(this.config.mask_personal_data_properties,this.config.custom_personal_data_properties);if(this.sessionManager){var{sessionId:$,windowId:H}=this.sessionManager.checkAndGetSessionAndWindowId(d,u.getTime());S.$session_id=$,S.$window_id=H}this.sessionPropsManager&&Y(S,this.sessionPropsManager.getSessionProps());try{this.sessionRecording&&Y(S,this.sessionRecording.sdkDebugProperties),S.$sdk_debug_retry_queue_size=null==(g=this.Ms)?void 0:g.length}catch(a){S.$sdk_debug_error_capturing_properties=String(a)}if(this.requestRouter.region===iK.CUSTOM&&(S.$lib_custom_api_host=this.config.api_host),j="$pageview"!==a||d?"$pageleave"!==a||d?this.pageViewManager.doEvent():this.pageViewManager.doPageLeave(u):this.pageViewManager.doPageView(u,c),S=Y(S,j),"$pageview"===a&&x&&(S.title=x.title),!P(v)){var W=u.getTime()-v;S.$duration=parseFloat((W/1e3).toFixed(3))}B&&this.config.opt_out_useragent_filter&&(S.$browser_type=this._is_bot()?"bot":"browser"),(S=Y({},N,this.persistence.properties(),this.sessionPersistence.properties(),S)).$is_identified=this._isIdentified(),ec(this.config.property_denylist)?K(this.config.property_denylist,function(a){delete S[a]}):ef.error("Invalid value for property_denylist config: "+this.config.property_denylist+" or property_blacklist config: "+this.config.property_blacklist);var J=this.config.sanitize_properties;J&&(ef.error("sanitize_properties is deprecated. Use before_send instead"),S=J(S,a));var ee=this.zs();return S.$process_person_profile=ee,ee&&!d&&this.Us("_calculate_event_properties"),S}Ls(a){if(!this.persistence||!this.zs()||this.ws)return a;var l,u=Y({},this.persistence.get_initial_props(),(null==(l=this.sessionPropsManager)?void 0:l.getSetOnceProps())||{},a||{}),c=this.config.sanitize_properties;return c&&(ef.error("sanitize_properties is deprecated. Use before_send instead"),u=c(u,"$set_once")),this.ws=!0,I(u)?void 0:u}register(a,l){var u;null==(u=this.persistence)||u.register(a,l)}register_once(a,l,u){var c;null==(c=this.persistence)||c.register_once(a,l,u)}register_for_session(a){var l;null==(l=this.sessionPersistence)||l.register(a)}unregister(a){var l;null==(l=this.persistence)||l.unregister(a)}unregister_for_session(a){var l;null==(l=this.sessionPersistence)||l.unregister(a)}qs(a,l){this.register({[a]:l})}getFeatureFlag(a,l){return this.featureFlags.getFeatureFlag(a,l)}getFeatureFlagPayload(a){var l=this.featureFlags.getFeatureFlagPayload(a);try{return JSON.parse(l)}catch(a){return l}}isFeatureEnabled(a,l){return this.featureFlags.isFeatureEnabled(a,l)}reloadFeatureFlags(){this.featureFlags.reloadFeatureFlags()}updateEarlyAccessFeatureEnrollment(a,l,u){this.featureFlags.updateEarlyAccessFeatureEnrollment(a,l,u)}getEarlyAccessFeatures(a,l,u){return void 0===l&&(l=!1),this.featureFlags.getEarlyAccessFeatures(a,l,u)}on(a,l){return this.Ss.on(a,l)}onFeatureFlags(a){return this.featureFlags.onFeatureFlags(a)}onSurveysLoaded(a){return this.surveys.onSurveysLoaded(a)}onSessionId(a){var l,u;return null!==(l=null==(u=this.sessionManager)?void 0:u.onSessionId(a))&&void 0!==l?l:()=>{}}getSurveys(a,l){void 0===l&&(l=!1),this.surveys.getSurveys(a,l)}getActiveMatchingSurveys(a,l){void 0===l&&(l=!1),this.surveys.getActiveMatchingSurveys(a,l)}renderSurvey(a,l){this.surveys.renderSurvey(a,l)}canRenderSurvey(a){return this.surveys.canRenderSurvey(a)}canRenderSurveyAsync(a,l){return void 0===l&&(l=!1),this.surveys.canRenderSurveyAsync(a,l)}identify(a,l,u){if(!this.__loaded||!this.persistence)return ef.uninitializedWarning("posthog.identify");if(F(a)&&(a=a.toString(),ef.warn("The first argument to posthog.identify was a number, but it should be a string. It has been converted to a string.")),a){if(["distinct_id","distinctid"].includes(a.toLowerCase()))ef.critical('The string "'+a+'" was set in posthog.identify which indicates an error. This ID should be unique to the user and not a hardcoded string.');else if(a!==e3){if(this.Us("posthog.identify")){var c=this.get_distinct_id();this.register({$user_id:a}),this.get_property("$device_id")||this.register_once({$had_persisted_distinct_id:!0,$device_id:c},""),a!==c&&a!==this.get_property(ey)&&(this.unregister(ey),this.register({distinct_id:a}));var d="anonymous"===(this.persistence.get_property(eK)||"anonymous");a!==c&&d?(this.persistence.set_property(eK,"identified"),this.setPersonPropertiesForFlags(f({},u||{},l||{}),!1),this.capture("$identify",{distinct_id:a,$anon_distinct_id:c},{$set:l||{},$set_once:u||{}}),this.Es=Hs(a,l,u),this.featureFlags.setAnonymousDistinctId(c)):(l||u)&&this.setPersonProperties(l,u),a!==c&&(this.reloadFeatureFlags(),this.unregister(eV))}}else ef.critical('The string "'+e3+'" was set in posthog.identify which indicates an error. This ID is only used as a sentinel value.')}else ef.error("Unique user id has not been set in posthog.identify")}setPersonProperties(a,l){if((a||l)&&this.Us("posthog.setPersonProperties")){var u=Hs(this.get_distinct_id(),a,l);this.Es!==u?(this.setPersonPropertiesForFlags(f({},l||{},a||{})),this.capture("$set",{$set:a||{},$set_once:l||{}}),this.Es=u):ef.info("A duplicate setPersonProperties call was made with the same properties. It has been ignored.")}}group(a,l,u){if(a&&l){if(this.Us("posthog.group")){var c=this.getGroups();c[a]!==l&&this.resetGroupPropertiesForFlags(a),this.register({$groups:f({},c,{[a]:l})}),u&&(this.capture("$groupidentify",{$group_type:a,$group_key:l,$group_set:u}),this.setGroupPropertiesForFlags({[a]:u})),c[a]===l||u||this.reloadFeatureFlags()}}else ef.error("posthog.group requires a group type and group key")}resetGroups(){this.register({$groups:{}}),this.resetGroupPropertiesForFlags(),this.reloadFeatureFlags()}setPersonPropertiesForFlags(a,l){void 0===l&&(l=!0),this.featureFlags.setPersonPropertiesForFlags(a,l)}resetPersonPropertiesForFlags(){this.featureFlags.resetPersonPropertiesForFlags()}setGroupPropertiesForFlags(a,l){void 0===l&&(l=!0),this.Us("posthog.setGroupPropertiesForFlags")&&this.featureFlags.setGroupPropertiesForFlags(a,l)}resetGroupPropertiesForFlags(a){this.featureFlags.resetGroupPropertiesForFlags(a)}reset(a){if(ef.info("reset"),!this.__loaded)return ef.uninitializedWarning("posthog.reset");var l,u,c,d,g=this.get_property("$device_id");if(this.consent.reset(),null==(l=this.persistence)||l.clear(),null==(u=this.sessionPersistence)||u.clear(),this.surveys.reset(),this.featureFlags.reset(),null==(c=this.persistence)||c.set_property(eK,"anonymous"),null==(d=this.sessionManager)||d.resetSessionId(),this.Es=null,"always"===this.config.cookieless_mode)this.register_once({distinct_id:e3,$device_id:null},"");else{var v=this.config.get_device_id(Hi());this.register_once({distinct_id:v,$device_id:a?v:g},"")}this.register({$last_posthog_reset:(new Date).toISOString()},1)}get_distinct_id(){return this.get_property("distinct_id")}getGroups(){return this.get_property("$groups")||{}}get_session_id(){var a,l;return null!==(a=null==(l=this.sessionManager)?void 0:l.checkAndGetSessionAndWindowId(!0).sessionId)&&void 0!==a?a:""}get_session_replay_url(a){if(!this.sessionManager)return"";var{sessionId:l,sessionStartTimestamp:u}=this.sessionManager.checkAndGetSessionAndWindowId(!0),c=this.requestRouter.endpointFor("ui","/project/"+this.config.token+"/replay/"+l);if(null!=a&&a.withTimestamp&&u){var d,g=null!==(d=a.timestampLookBack)&&void 0!==d?d:10;if(!u)return c;c+="?t="+Math.max(Math.floor(((new Date).getTime()-u)/1e3)-g,0)}return c}alias(a,l){return a===this.get_property(em)?(ef.critical("Attempting to create alias for existing People user - aborting."),-2):this.Us("posthog.alias")?(P(l)&&(l=this.get_distinct_id()),a!==l?(this.qs(ey,a),this.capture("$create_alias",{alias:a,distinct_id:l})):(ef.warn("alias matches current distinct_id - skipping api call."),this.identify(a),-1)):void 0}set_config(a){var l=f({},this.config);if(E(a)){Y(this.config,pa(a));var u,c,d,g,v,S=this.Rs();null==(u=this.persistence)||u.update_config(this.config,l,S),this.sessionPersistence="sessionStorage"===this.config.persistence||"memory"===this.config.persistence?this.persistence:new bo(f({},this.config,{persistence:"sessionStorage"}),S),ty.G()&&"true"===ty.V("ph_debug")&&(this.config.debug=!0),this.config.debug&&(J.DEBUG=!0,ef.info("set_config",{config:a,oldConfig:l,newConfig:f({},this.config)})),null==(c=this.sessionRecording)||c.startIfEnabledOrStop(),null==(d=this.autocapture)||d.startIfEnabled(),null==(g=this.heatmaps)||g.startIfEnabled(),this.surveys.loadIfEnabled(),this.Bs(),null==(v=this.externalIntegrations)||v.startIfEnabledOrStop()}}startSessionRecording(a){var l,u,c,d,g,v=!0===a,S={sampling:v||!(null==a||!a.sampling),linked_flag:v||!(null==a||!a.linked_flag),url_trigger:v||!(null==a||!a.url_trigger),event_trigger:v||!(null==a||!a.event_trigger)};Object.values(S).some(Boolean)&&(null==(l=this.sessionManager)||l.checkAndGetSessionAndWindowId(),S.sampling&&(null==(u=this.sessionRecording)||u.overrideSampling()),S.linked_flag&&(null==(c=this.sessionRecording)||c.overrideLinkedFlag()),S.url_trigger&&(null==(d=this.sessionRecording)||d.overrideTrigger("url")),S.event_trigger&&(null==(g=this.sessionRecording)||g.overrideTrigger("event"))),this.set_config({disable_session_recording:!1})}stopSessionRecording(){this.set_config({disable_session_recording:!0})}sessionRecordingStarted(){var a;return!(null==(a=this.sessionRecording)||!a.started)}captureException(a,l){var u=Error("PostHog syntheticException");return this.exceptions.sendExceptionEvent(f({},Ue(a instanceof Error?{error:a,event:a.message}:{event:a},{syntheticException:u}),l))}loadToolbar(a){return this.toolbar.loadToolbar(a)}get_property(a){var l;return null==(l=this.persistence)?void 0:l.props[a]}getSessionProperty(a){var l;return null==(l=this.sessionPersistence)?void 0:l.props[a]}toString(){var a,l=null!==(a=this.config.name)&&void 0!==a?a:i1;return l!==i1&&(l=i1+"."+l),l}_isIdentified(){var a,l;return"identified"===(null==(a=this.persistence)?void 0:a.get_property(eK))||"identified"===(null==(l=this.sessionPersistence)?void 0:l.get_property(eK))}zs(){var a,l;return!("never"===this.config.person_profiles||"identified_only"===this.config.person_profiles&&!this._isIdentified()&&I(this.getGroups())&&(null==(a=this.persistence)||null==(a=a.props)||!a[ey])&&(null==(l=this.persistence)||null==(l=l.props)||!l[e1]))}js(){return!0===this.config.capture_pageleave||"if_capture_pageview"===this.config.capture_pageleave&&(!0===this.config.capture_pageview||"history_change"===this.config.capture_pageview)}createPersonProfile(){this.zs()||this.Us("posthog.createPersonProfile")&&this.setPersonProperties({},{})}Us(a){return"never"===this.config.person_profiles?(ef.error(a+' was called, but process_person is set to "never". This call will be ignored.'),!1):(this.qs(e1,!0),!0)}Rs(){if("always"===this.config.cookieless_mode)return!0;var a=this.consent.isOptedOut(),l=this.config.opt_out_persistence_by_default||"on_reject"===this.config.cookieless_mode;return this.config.disable_persistence||a&&!!l}Bs(){var a,l,u,c,d=this.Rs();return(null==(a=this.persistence)?void 0:a.je)!==d&&(null==(u=this.persistence)||u.set_disabled(d)),(null==(l=this.sessionPersistence)?void 0:l.je)!==d&&(null==(c=this.sessionPersistence)||c.set_disabled(d)),d}opt_in_capturing(a){if("always"!==this.config.cookieless_mode){var l;"on_reject"===this.config.cookieless_mode&&this.consent.isExplicitlyOptedOut()&&(this.reset(!0),this.sessionManager=new Ko(this),this.persistence&&(this.sessionPropsManager=new Jo(this,this.sessionManager,this.persistence)),this.sessionRecording=new gs(this),this.sessionRecording.startIfEnabledOrStop()),this.consent.optInOut(!0),this.Bs(),(P(null==a?void 0:a.captureEventName)||null!=a&&a.captureEventName)&&this.capture(null!==(l=null==a?void 0:a.captureEventName)&&void 0!==l?l:"$opt_in",null==a?void 0:a.captureProperties,{send_instantly:!0}),this.config.capture_pageview&&this.Ds()}else ef.warn('Consent opt in/out is not valid with cookieless_mode="always" and will be ignored')}opt_out_capturing(){var a;"always"!==this.config.cookieless_mode?("on_reject"===this.config.cookieless_mode&&this.consent.isOptedIn()&&this.reset(!0),this.consent.optInOut(!1),this.Bs(),"on_reject"===this.config.cookieless_mode&&(this.register({distinct_id:e3,$device_id:null}),this.sessionManager=void 0,this.sessionPropsManager=void 0,null==(a=this.sessionRecording)||a.stopRecording(),this.sessionRecording=void 0,this.Ds())):ef.warn('Consent opt in/out is not valid with cookieless_mode="always" and will be ignored')}has_opted_in_capturing(){return this.consent.isOptedIn()}has_opted_out_capturing(){return this.consent.isOptedOut()}get_explicit_consent_status(){var a=this.consent.consent;return a===tx.GRANTED?"granted":a===tx.DENIED?"denied":"pending"}is_capturing(){return"always"===this.config.cookieless_mode||("on_reject"===this.config.cookieless_mode?this.consent.isExplicitlyOptedOut()||this.consent.isOptedIn():!this.has_opted_out_capturing())}clear_opt_in_out_capturing(){this.consent.reset(),this.Bs()}_is_bot(){return w?ia(w,this.config.custom_blocked_useragents):void 0}Ds(){x&&("visible"===x.visibilityState?this.$s||(this.$s=!0,this.capture("$pageview",{title:x.title},{send_instantly:!0}),this.xs&&(x.removeEventListener("visibilitychange",this.xs),this.xs=null)):this.xs||(this.xs=this.Ds.bind(this),ot(x,"visibilitychange",this.xs)))}debug(a){!1===a?(null==c||c.console.log("You've disabled debug mode."),localStorage&&localStorage.removeItem("ph_debug"),this.set_config({debug:!1})):(null==c||c.console.log("You're now in debug mode. All calls to PostHog will be logged in your console.\nYou can disable this with `posthog.debug(false)`."),localStorage&&localStorage.setItem("ph_debug","true"),this.set_config({debug:!0}))}L(){var a,l,u,c,d=this.Is||{};return"advanced_disable_flags"in d?!!d.advanced_disable_flags:!1!==this.config.advanced_disable_flags?!!this.config.advanced_disable_flags:!0===this.config.advanced_disable_decide?(ef.warn("Config field 'advanced_disable_decide' is deprecated. Please use 'advanced_disable_flags' instead. The old field will be removed in a future major version."),!0):(l="advanced_disable_decide",u=(a="advanced_disable_flags")in d&&!P(d[a]),c=l in d&&!P(d[l]),u?d[a]:!!c&&(ef&&ef.warn("Config field '"+l+"' is deprecated. Please use '"+a+"' instead. The old field will be removed in a future major version."),d[l]))}Ns(a){if(M(this.config.before_send))return a;var l=ec(this.config.before_send)?this.config.before_send:[this.config.before_send],u=a;for(var c of l){if(M(u=c(u))){var d="Event '"+a.event+"' was rejected in beforeSend function";return D(a.event)?ef.warn(d+". This can cause unexpected behavior."):ef.info(d),null}u.properties&&!I(u.properties)||ef.warn("Event '"+a.event+"' has no properties after beforeSend function, this is likely an error.")}return u}getPageViewId(){var a;return null==(a=this.pageViewManager.pe)?void 0:a.pageViewId}captureTraceFeedback(a,l){this.capture("$ai_feedback",{$ai_trace_id:String(a),$ai_feedback_text:l})}captureTraceMetric(a,l,u){this.capture("$ai_metric",{$ai_trace_id:String(a),$ai_metric_name:l,$ai_metric_value:String(u)})}};!function(a,l){for(var u=0;u<l.length;u++)a.prototype[l[u]]=tt(a.prototype[l[u]])}(_a,["identify"]);var i3,i5,i4,i6=(i4=i0[i1]=new _a,function(){function i(){i.done||(i.done=!0,i2=!1,K(i0,function(a){a._dom_loaded()}))}null!=x&&x.addEventListener?"complete"===x.readyState?i():ot(x,"DOMContentLoaded",i,{capture:!1}):c&&ef.error("Browser doesn't support `document.addEventListener` so PostHog couldn't be initialized")}(),i4)},3592:(a,l,u)=>{function _class_private_field_loose_base(a,l){if(!Object.prototype.hasOwnProperty.call(a,l))throw TypeError("attempted to use private field on non-instance");return a}u.r(l),u.d(l,{_:()=>_class_private_field_loose_base,_class_private_field_loose_base:()=>_class_private_field_loose_base})},4941:(a,l,u)=>{u.r(l),u.d(l,{_:()=>_class_private_field_loose_key,_class_private_field_loose_key:()=>_class_private_field_loose_key});var c=0;function _class_private_field_loose_key(a){return"__private_"+c+++"_"+a}},85:(a,l,u)=>{function _interop_require_default(a){return a&&a.__esModule?a:{default:a}}u.r(l),u.d(l,{_:()=>_interop_require_default,_interop_require_default:()=>_interop_require_default})},8425:(a,l,u)=>{function _getRequireWildcardCache(a){if("function"!=typeof WeakMap)return null;var l=new WeakMap,u=new WeakMap;return(_getRequireWildcardCache=function(a){return a?u:l})(a)}function _interop_require_wildcard(a,l){if(!l&&a&&a.__esModule)return a;if(null===a||"object"!=typeof a&&"function"!=typeof a)return{default:a};var u=_getRequireWildcardCache(l);if(u&&u.has(a))return u.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var g in a)if("default"!==g&&Object.prototype.hasOwnProperty.call(a,g)){var v=d?Object.getOwnPropertyDescriptor(a,g):null;v&&(v.get||v.set)?Object.defineProperty(c,g,v):c[g]=a[g]}return c.default=a,u&&u.set(a,c),c}u.r(l),u.d(l,{_:()=>_interop_require_wildcard,_interop_require_wildcard:()=>_interop_require_wildcard})},5196:(a,l,u)=>{function _interop_require_default(a){return a&&a.__esModule?a:{default:a}}u.r(l),u.d(l,{_:()=>_interop_require_default,_interop_require_default:()=>_interop_require_default})}};